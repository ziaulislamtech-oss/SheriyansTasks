(self.modernJsonp=self.modernJsonp||[]).push([["98283"],{828971:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="d1542775568248acbce5a79453f4dffb";let i=r},220054:function(e,t,n){var r,i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};a.hash="3b4d688af34026529030d4bfec423bd6";let l=a},719738:function(e,t,n){var r;n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="3d7a6d04f923d00acfb2887f852aea16";let a=i},780879:function(e,t,n){n.d(t,{f:()=>S,l:()=>v});var r=n(667294),i=n(769430),a=n(753090),l=n(478135),o=n(288910),s=n(755222),c=n(838880),u=n(234681),d=n(272191),m=n(399573),p=n(729434),h=n(503246),g=n(949044),f=n(974705),y=n(785893);let _=(e,t,n)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===n);if(!r)return;let i=(0,g.Z)(f.Z,!0)(r),a=e.findIndex(({action:e})=>e?.filter?.productFilterType===n);e[a]?e[a]=i:e.push(i)},x=(e,t,n,r)=>{let i=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(i?.action?.filter){let e=i.action.filter.filterOptions;i.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[n]&&t.split(",").includes(String(e[n]))).map(e=>({...e,selected:!0})):[]}},{Provider:b,get:v}=(0,p.Z)("OneBarProductFilters");function S({children:e}){let[t,n]=(0,r.useState)([]),[p,g]=(0,r.useState)(null),f=function(){let{scope:e}=(0,o.n)();return[l.lw.BOARDS,l.lw.PINS_BUYABLE,l.lw.PINS_VIDEO,l.lw.USERS].includes(e)}(),v=(0,d.Z)(),S=(0,c.Z)(),w=(0,i.Z)(),I=(0,a.Z)(),k=(0,u.Z)(),E=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let i=e?.filter(({module_type:e})=>17===e||0===e);if(!i||i?.length===0||!r)return;let a=r!==p,l=a?[]:t;(a||!f)&&_(l,i,4),(a||!v)&&_(l,i,1),(a||!S)&&_(l,i,0),(a||!w)&&_(l,i,3),(a||!I)&&_(l,i,6),(a||!k)&&[7,8,9].forEach(e=>{_(l,i,e)}),(0,h.ZP)(l,t)||(n(l),g(r))},[t,w,I,f,S,k,v,p]),T=(0,s.Z)(),{priceMax:C,priceMin:M,scope:O,brands:Z,onSale:R,colors:P,domains:L}=(0,o.n)();(0,r.useEffect)(()=>{if(!T||0===t.length)return;let e=(0,m.Z)(t);if(O!==l.lw.PINS){let t=(0,l.gi)(O),n=e.find(({moduleType:e})=>0===e);n?.action?.filter&&(n.action.filter.appliedFilterOptions=[...n.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:n}=e;return{searchType:n,selected:n===t}}))}if("string"==typeof C||"string"==typeof M){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(M)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(C)}:null].filter(Boolean))}x(new Set([3]),Z,"stringValue",e),x(new Set([6]),P,"stringValue",e),x(new Set([0]),L,"stringValue",e),x(new Set([7,8,9]),R,"numericValue",e),(0,h.ZP)(e,t)||n(e)},[t,T,C,M,O,Z,P,L,R]);let A=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:E}),[t,E]);return(0,y.jsx)(b,{value:A,children:e})}},533250:function(e,t,n){n.d(t,{Z:()=>l});var r=n(825332),i=n(25417),a=n(510928);function l(){let e=(0,r.TH)(),t=(0,r.s0)();return function(n){let r=(0,a.Z)();r.filter_location=n,t((0,i.Z)(e.pathname,r),{replace:!0})}}},391870:function(e,t,n){n.d(t,{Z:()=>m,q:()=>d});var r=n(825332),i=n(821342),a=n(675973),l=n(940280),o=n(478135),s=n(25417),c=n(510928),u=n(438235);let d=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function m(){let e=(0,r.s0)(),t=(0,r.TH)(),{checkExperiment:n}=(0,a.Z)(),{scope:m}=(0,u.Z)(),p=(0,i.Z)(),{isAuth:h}=p,g=h?p.country:"";return function(r){let i=(0,c.Z)();i.rs=l.i.SHOPPING_FILTER,r.forEach(({key:e,value:t})=>{""!==t?i[e]=t:delete i[e]}),("US"===g||n("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&m!==o.lw.PINS&&!d.some(e=>"commerce_only"!==e&&e in i)&&delete i.commerce_only,e((0,s.Z)(t.pathname,i))}}},769430:function(e,t,n){n.d(t,{Z:()=>a});var r=n(825332),i=n(378888);function a(){return!!(0,i.mB)((0,r.TH)().search).brands}},753090:function(e,t,n){n.d(t,{Z:()=>l});var r=n(825332),i=n(675973),a=n(378888);function l(){let{checkExperiment:e}=(0,i.Z)(),t=(0,r.TH)(),{colors:n}=(0,a.mB)(t.search);return!!n&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},755222:function(e,t,n){n.d(t,{Z:()=>i});var r=n(675973);function i(){let{checkExperiment:e}=(0,r.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},838880:function(e,t,n){n.d(t,{Z:()=>a});var r=n(825332),i=n(378888);function a(){return!!(0,i.mB)((0,r.TH)().search).domains}},272191:function(e,t,n){n.d(t,{Z:()=>a});var r=n(825332),i=n(378888);function a(){let e=(0,r.TH)(),{price_max:t,price_min:n}=(0,i.mB)(e.search);return!!(n??t)}},230608:function(e,t,n){n.d(t,{Z:()=>u});var r=n(281098),i=n(667294),a=n(20256),l=n(592821),o=n(19585),s=n(601686),c=n(785893);function u({collapsed:e,displayViewState:t,forceTappableHeader:n,headerHeight:u,headerPaddingRight:d,headerPreview:m,heading:p,onClick:h,showArrow:g,surface:f}){(0,i.useEffect)(()=>{(0,r.Z)("CollapsableHeader","/app/common/react/components/closeup/CloseupBody/CollapsableHeader.tsx")},[]);let y=(0,o.ZP)(),{closeupWithinMasonryEnabled:_,peekCloseupEnabled:x,viewportSize:b}=(0,s.x4)(),v=(0,l.rt)({peekCloseupEnabled:x,viewportSize:b,surface:f});return(0,c.jsx)(i.Fragment,{children:n||null!==t?(0,c.jsx)(a.iP,{disabled:!g,onTap:h,children:(0,c.jsx)(a.xu,{marginBottom:!e&&x?4:void 0,children:(0,c.jsxs)(a.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:u,justifyContent:"between",children:[(0,c.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:"300",children:p}),(0,c.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:d}},direction:"row",display:"flex",children:[e&&m,(g||_)&&(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:e?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:+!!g,children:(0,c.jsx)(a.hU,{accessibilityLabel:y._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),dataTestId:"collapse-button",disabled:!g,icon:"arrow-down",size:"sm"})})]})]})})}):(()=>{let e=(0,c.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:v?"300":"400",children:p});return v?(0,c.jsx)(a.xu,{marginBottom:4,children:e}):e})()})}},816533:function(e,t,n){n.d(t,{Z:()=>r});let r=175},642407:function(e,t,n){n.d(t,{AL:()=>p,CT:()=>m,FA:()=>x,Kw:()=>S,MS:()=>c,O3:()=>E,OI:()=>l,Rk:()=>T,SP:()=>i,Wm:()=>r,Y4:()=>I,Zn:()=>d,at:()=>b,dH:()=>h,e4:()=>u,eX:()=>v,eq:()=>_,iC:()=>o,jf:()=>f,m6:()=>g,pg:()=>M,ps:()=>k,tT:()=>s,xZ:()=>a,xh:()=>y,yG:()=>C,yz:()=>w,z3:()=>O});let r=446,i=16,a=48,l={x:0,y:0,w:0,h:0},o=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,s="anchor",c=2,u=20,d=14,m=16,p=10,h=8,g=1,f=.75,y=4,_=3,x={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},b="cropper-background",v="cropper-cropbox",S=32,w=20,I=10,k=1,E=0,T=120,C=2,M=.2,O=.25},162903:function(e,t,n){n.d(t,{Z:()=>v});var r,i,a=n(281098),l=n(667294);n(167912);var o=n(20256),s=n(980787),c=n(482694),u=n(28427),d=n(93966),m=n(757947),p=n(478047),h=n(63773),g=n(557162),f=n(207729),y=n(647709),_=n(785893);let x=(void 0!==r||(r=n(828971)).hash&&"d1542775568248acbce5a79453f4dffb"!==r.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),b=(void 0!==i||(i=n(220054)).hash&&"3b4d688af34026529030d4bfec423bd6"!==i.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function v({accessibilityLabelledBy:e,auxData:t,component:n,contentVisibleItemCountOverride:r,disableHeader:i,getProductTagAuxData:v,headerDisplayOptions:S,heading:w,items:I,itemWidth:k,itemWidthHeightRatio:E,parentPinKey:T,renderItem:C,saveButtonOptions:M,showBorder:O,showMarkers:Z=!1,showNavigationButtons:R=!0,storyKey:P,subtitle:L,surface:A,view:F=3,viewParameter:j}){(0,l.useEffect)(()=>{(0,a.Z)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:$}=(0,s.u)(),N=(0,y.ZP)(),D=(0,y.ds)(N),z=(0,u.Z)(x,T),H=(0,u.Z)(b,P),B=H?.objects?[...H.objects]:[],K=B.map(e=>"Pin"===e.__typename?e.entityId:null),W=(0,l.useMemo)(()=>{let e=H?.storyType?{story_type:H.storyType}:void 0;return e&&t?{...t,...e}:e??t},[H?.storyType,t]),Y=D?d.yF:d.tG,U=k??Y,G=H.displayOptions?.contentDisplay?.itemWidthHeightRatio??E??1,{web:q,mobile:V}=H.displayOptions?.contentDisplay?.contentVisibleItemCount??{},Q=r??(D?q:V),J=!i&&(H?.storyTitle||w||L),{showModuleBorder:X,showExtraSmallSubtitle:ee,headerMarginBottom:et,isFixedWidthSlides:en,moduleBorderStyle:er}=(0,g.Z)({storyKey:H,styleOverrides:{showModuleBorder:O}}),ei=(0,l.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let r=Number(K?.[e]);$({aux_data:W,event_type:108,component:n,view_type:F,view_parameter:j,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(r)?r:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[W,n,K,$,F,j]),ea=(0,l.useCallback)(({item:e,index:t})=>{let r;if(C)return C({item:e,index:t});if(t===B.length-1&&H.action?.text&&H.action?.url&&(r=H.action,r?.text&&r?.url&&h.Lf.has(r?.location))){let t="Pin"===e.__typename&&e.imageSpec_236x?.url;return t&&(0,_.jsx)(m.Z,{auxData:W,buttonText:H.action?.text,component:n,contentIds:H.contentIds??void 0,element:179,imageWidth:U,previewImageSrc:t,storyId:H.storyId??"",storyType:H.storyType,url:H.action.url,view:F,viewParameter:j},`pin-ActionItemRep-${e.entityId}`)}if("Pin"===e.__typename){let r=v?.(e);return(0,_.jsx)(p.Z,{auxData:{...r,...W},boardKey:null,component:n,imageWidth:U,isInDesktopCarousel:D,item:e,itemWidthHeightRatio:G,parentPinKey:z,pinKey:e,productTagParentPinId:z?.entityId,relatedInterestKey:null,saveButtonOptions:M,slotIndex:t,storyKey:H,surface:A,view:F,viewParameter:j},`pin-${e.entityId}`)}return null},[C,B.length,H,W,n,U,F,j,v,z,G,M,A,D]);return(0,_.jsxs)(o.xu,{borderStyle:X?er:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${U}px`,"--story-item-width-height-ratio":`${1/G}`,...Q&&!en&&{"--carousel-item-count":Q}}},direction:"column",display:"flex",rounding:X?4:void 0,children:[J&&(0,_.jsx)(o.xu,{marginStart:6,marginTop:4,children:(0,_.jsx)(f.Z,{auxData:W,headerDisplayOptions:S,marginBottomOverride:et,showExtraSmallSubtitle:ee,storyKey:H,view:F,viewParameter:j})}),(0,_.jsx)(o.xu,{position:"relative",children:(0,_.jsx)(c.Z,{accessibilityLabelledBy:e,items:I??B,mode:"multi",onIndexChange:ei,renderItem:ea,showNavigationButtons:R,showScrollMarkers:Z})})]})}},654937:function(e,t,n){n.d(t,{A5:()=>a,ZP:()=>l,kH:()=>r});let r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},i=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};case r.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case r.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function a(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function l(e,t,n,r=!0,o){let s=i(n);return r?s.timeZone="UTC":o&&(s.timeZone=o),a()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(t)}},482694:function(e,t,n){n.d(t,{Z:()=>I});var r=n(281098),i=n(667294),a=n(763387),l=n.n(a),o=n(20256);function s(e,t){return Math.max(0,((t<=0?0:Math.ceil(e/t))-1)*t)}function c(e,t,n){return n<=1?Math.max(0,Math.min(e,t-1)):Math.min(Math.max(0,Math.floor(e/n)*n),s(t,n))}var u=n(19585),d=n(785893);let m="12px";function p({containerRef:e,carouselClassName:t,currentIndex:n=0,itemCount:a,itemsPerPage:l,onIndexChange:p,showNavigationArrows:h=!1}){(0,i.useEffect)(()=>{(0,r.Z)("CarouselOverlay","/app/packages/gestaltExtensions/Carousel/CarouselOverlay.tsx")},[]);let g=(0,i.useRef)(null),f=(0,u.ZP)(),[y,_]=(0,i.useState)(void 0);(0,i.useLayoutEffect)(()=>{let n,r=!1,i=()=>{if(r)return;let a=e.current?.querySelector(`.${t} li`),l=a?.querySelector('[data-test-id="pinrep-image"]');if(l){let{height:e}=l.getBoundingClientRect();if(e>0){_(e),r=!0;return}}n=setTimeout(i,100)};return i(),()=>{r=!0,n&&clearTimeout(n)}},[e,t]);let x=y?`calc(${y}px / 2 + 1rem - 18px)`:"50%",b=(0,i.useCallback)(()=>{if(l&&l>1){let e=Math.max(0,c(n,a,l)-l);p?.(e)}else{let e=Math.max(0,n-1);p?.(e)}},[n,a,l,p]),v=(0,i.useCallback)(()=>{if(l&&l>1){let e=c(n,a,l),t=Math.min(s(a,l),e+l);p?.(t)}else{let e=Math.min(a-1,n+1);p?.(e)}},[n,a,l,p]),{showPrevious:S,showNext:w}=(()=>{if(!h)return{showPrevious:!1,showNext:!1};if(l&&l>1){let e=c(n,a,l);return{showPrevious:e>0,showNext:e<s(a,l)}}return{showPrevious:n>0,showNext:n<a-1}})();return(0,d.jsxs)(o.xu,{ref:g,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:new o.Ry(10),children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:m,marginBlockStart:x,pointerEvents:"auto"}},opacity:+!!S,position:"absolute",children:(0,d.jsx)(o.hU,{accessibilityLabel:f._('View Previous', 'CarouselOverlay.scrollButton.viewPrevious', 'Accessibility label for button to navigate to the previous item in the carousel'),bgColor:"white",icon:"arrow-back",onClick:b,size:"md"})}),(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{right:m,marginBlockStart:x,pointerEvents:"auto"}},opacity:+!!w,position:"absolute",children:(0,d.jsx)(o.hU,{accessibilityLabel:f._('View Next', 'CarouselOverlay.scrollButton.viewNext', 'Accessibility label for button to navigate to the next item in the carousel'),bgColor:"white",icon:"arrow-forward",onClick:v,size:"md"})})]})}var h=n(15667);let g=function({mode:e,showNavigationButtons:t=!1,showScrollMarkers:n=!1}){let{userAgent:{browserName:r,browserVersion:i}}=(0,h.B)(),a="Chrome"===r&&Number(i.split(".")[0])>=135;return"multi"===e?{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:t,enableFallbackScrollMarkers:n}:a?{enableCssScrollButtons:t,enableCssScrollMarkers:n,enableFallbackScrollButtons:!1,enableFallbackScrollMarkers:!1}:{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:t,enableFallbackScrollMarkers:n}};var f=n(341742),y=n(603316),_=n(461951);function x({index:e,isActive:t,onClick:n,label:r}){return(0,d.jsx)(o.xu,{height:8,width:8,children:(0,d.jsx)(o.iP,{accessibilityLabel:r||`Navigate to slide ${e+1}`,onTap:()=>n(e),rounding:"circle",children:(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?_.etl:_.zsO,transition:"background-color 0.2s ease"}},height:8,rounding:"circle",width:8})})},e)}function b({currentIndex:e,itemCount:t,itemLabels:n,itemsPerPage:a,mode:l,onNavigateToIndex:s}){(0,i.useEffect)(()=>{(0,r.Z)("ScrollMarkersFallback","/app/packages/gestaltExtensions/Carousel/ScrollMarkersFallback.tsx")},[]);let{enableCssScrollMarkers:u,enableFallbackScrollMarkers:m}=g({showScrollMarkers:!0,mode:l}),p=a?c(e,t,a):e,h=(0,i.useCallback)(e=>{s(e)},[s]),f=a?Math.ceil(t/a):t,y=a?a<=1?Math.max(0,Math.min(p,t-1)):Math.floor(c(p,t,a)/a):p;return f<=1?null:(0,d.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",gridAutoColumns:"1rem",gridAutoFlow:"column",placeItems:"center"}},width:"fit-content",children:[u&&(0,d.jsx)(o.xu,{minHeight:8}),m&&[...Array(f).keys()].map(e=>{let t=a?e*a:e;return(0,d.jsx)(x,{index:t,isActive:e===y,label:n?.[t],onClick:h},e)})]})})}let v=e=>`
  --scroll-button-size: 36px;
  --scroll-button-offset: 1rem;

  &::scroll-button(*) {
    opacity: 0;
    pointer-events: auto;
    position: absolute;
    position-anchor: --${e};
    background-color: ${_.Wmm};
    border: none;
    border-radius: 12px;
    cursor: pointer;
    display: inline-block;
    margin-block-start: calc(var(--carousel-item-height) / 2 - var(--scroll-button-size) / 2);
    height: var(--scroll-button-size);
    line-height: 0;
    vertical-align: middle;
    width: var(--scroll-button-size);
    transition: opacity 50ms cubic-bezier(0, 0, 1, 1), transform 50ms cubic-bezier(0, 0, 1, 1);
  }

  /* Show scroll buttons when hovering on the parent <ul>. */
  &:hover::scroll-button(*) {
    opacity: 1;
    transition: opacity 100ms cubic-bezier(0, 0, 1, 1), transform 100ms cubic-bezier(0, 0, 1, 1);
  }


  &::scroll-button(inline-end) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E");
    right: anchor(--${e} right);
    margin-inline-end: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  &::scroll-button(inline-start) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E");
    left: anchor(--${e} left);
    margin-inline-start: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  /* CSS specificity order matters: hover/focus → active → disabled (most specific last) */
  &::scroll-button(*):is(:hover, :focus-visible) {
    background-color: ${_.KtD};
    opacity: 1;
  }

  &::scroll-button(*):active {
    background-color: ${_.hWn};
    transform: scale(0.90);
  }

  &::scroll-button(*):disabled {
    background-color: ${_.ilB};
    opacity: 0;
    cursor: not-allowed;
    interactivity: inert;
  }

`,S=(e,t="multi",n=1)=>{let r="multi"===t;return`
  scroll-marker-group: after;

  &::scroll-marker-group {
    display: grid;
    grid-auto-columns: 1rem;
    grid-auto-flow: column;
    justify-content: center;
    margin-block-start: ${r?"16px":"-1.25rem"};
    position-anchor: --${e};
    position-area: bottom;
    ${r?"position: fixed; align-items: center;":"scroll-snap-type: y mandatory;"}
    transition: all 150ms ease-out;
    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }
  }

  > li:nth-child(${n}n + 1)::scroll-marker {
    aspect-ratio: 1;
    border-radius: 50% ;
    background: ${r?_.zsO:"rgba(255, 255, 255, 0.6)"};
    content: ' ';
    width: 50%;
    box-shadow: ${r?"none":"0 1px 0px rgba(0, 0, 0, 0.1)"};
    animation-timeline: view(x);
    interactivity: auto;
    transition: all 150ms ease-out;
    place-self: center;
  }

  > li:nth-child(${n}n + 1)::scroll-marker:target-current {
    background: ${r?_.etl:_.Wmm};
  }
`};var w=n(369416);function I({itemHeight:e,items:t,itemWidth:n,mode:a,onIndexChange:s,accessibilityLabelledBy:c,renderItem:u,selectedIndex:m,showNavigationButtons:h,showScrollMarkers:_}){(0,i.useEffect)(()=>{(0,r.Z)("CSSCarousel","/app/packages/gestaltExtensions/Carousel/CSSCarousel.tsx")},[]);let{enableCssScrollMarkers:x,enableCssScrollButtons:I,enableFallbackScrollMarkers:k,enableFallbackScrollButtons:E}=g({mode:a,showScrollMarkers:_,showNavigationButtons:h}),[T,C]=(0,i.useState)(0),M=(0,i.useRef)(null),O=(0,i.useRef)(null),Z=(e=>{let[t,n]=(0,i.useState)(1),r=(0,i.useRef)(null);return(0,f.Z)(()=>{let t=null;if(e.current){let i=()=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{(()=>{let t=e.current;if(t){let e=t.offsetWidth,r=t.querySelector("li");if(r){let t=r.offsetWidth;if(t>0&&e>0){let r=Math.max(1,Math.floor((e-32+8)/(t+8)));n(e=>e!==r?r:e)}}}})(),r.current=null})};i(),(t=new ResizeObserver(i)).observe(e.current)}return()=>{r.current&&cancelAnimationFrame(r.current),t&&t.disconnect()}}),t})(M),R=(0,o.JZ)(),{isInteractive:P,onKeyboardFocus:L,onKeyboardBlur:A,onMouseOver:F,onMouseOut:j}=function(){let[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),a=(0,i.useCallback)(e=>{e.target.matches(":focus-visible")&&t(!0)},[]);return{keyboardFocused:e,hovered:n,isInteractive:e||n,onKeyboardFocus:a,onKeyboardBlur:(0,i.useCallback)(()=>{t(!1)},[]),onMouseOver:(0,i.useCallback)(()=>{r(!0)},[]),onMouseOut:(0,i.useCallback)(()=>{r(!1)},[])}}(),{setNavigationIntent:$}=function({scrollerRef:e,itemsLength:t,itemsPerPage:n,mode:r,focusedIndex:a,setFocusedIndex:l,onIndexChange:o}){let s=(0,i.useRef)([]),c=(0,i.useRef)(null),u=(0,i.useRef)(!0),d=(0,i.useRef)(null),m=(0,i.useRef)(-1),p=(0,i.useRef)(0),h=(0,i.useRef)(0),g=(0,i.useRef)(null),f=(0,i.useCallback)(e=>{let{direction:t}=getComputedStyle(e),{scrollLeft:n,scrollWidth:r,clientWidth:i}=e;return"rtl"!==t?n:n<0?-n:r-i-n},[]),_=(0,i.useCallback)(()=>{let t=e.current;if(!t||!s.current.length)return;let i=d.current,c=t.children.length;if(u.current||!i||i.scrollWidth!==t.scrollWidth||i.clientWidth!==t.clientWidth||i.childrenCount!==c||s.current.length!==c){let e=Array.from(t.children);s.current=e.map(e=>e.offsetLeft+e.offsetWidth/2),d.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:e.length},u.current=!1}let _=f(t),x=t.scrollWidth-t.clientWidth,b=_+t.clientWidth/2,v=s.current,S=0,w=1/0;v.forEach((e,t)=>{let n=Math.abs(e-b);n<w&&(w=n,S=t)});let I=S;if("multi"===r&&n>1){let e=Math.floor(S/n)*n,t=Math.max(0,Math.floor((v.length-1)/n)*n),r=Math.min(e,t),i=p.current;if(i!==r){let e=r>i?1:-1,t=(v[i+(e>0?n-1:0)]+v[r+(e>0?0:Math.min(n-1,v.length-r-1))])/2+e*(b>v[v.length-1]-24||b<v[0]+24?6:24),a=_-h.current;(!(e>0?b>=t:b<=t)||e>0&&a<-.5||e<0&&a>.5)&&(r=i)}(_/x>.98||x-_<=8)&&(r=t),p.current=I=r}let k=performance.now(),E=g.current,T=E&&k-E.timestamp<500;I===a||T||(m.current!==I&&((0,y.nP)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),m.current=I),l(I),o?.({currentIndex:a,nextIndex:I})),E&&(I===E.targetIndex||k-E.timestamp>500)&&(g.current=null),h.current=_},[a,n,r,o,e,l,f]),x=(0,i.useCallback)(()=>{let e=performance.now(),t=g.current;t&&e-t.timestamp<500||(c.current&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{c.current=null,_()}))},[_]),b=(0,i.useCallback)(()=>{u.current=!0,x()},[x]);return(0,i.useLayoutEffect)(()=>{let t=e.current;if(!t)return;let n=Array.from(t.children);s.current=n.map(e=>e.offsetLeft+e.offsetWidth/2),d.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:n.length},u.current=!1;let r="undefined"!=typeof ResizeObserver?new ResizeObserver(b):null,i=new MutationObserver(b);return r&&r.observe(t),i.observe(t,{childList:!0}),t.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",b),()=>{t.removeEventListener("scroll",x),window.removeEventListener("resize",b),i.disconnect(),r&&r.disconnect(),c.current&&(cancelAnimationFrame(c.current),c.current=null)}},[x,b,e]),(0,i.useLayoutEffect)(()=>{u.current=!0,x()},[t,n,x]),{setNavigationIntent:(0,i.useCallback)(e=>{g.current={targetIndex:e,timestamp:performance.now()}},[])}}({scrollerRef:M,itemsLength:t.length,itemsPerPage:Z,mode:a,focusedIndex:T,setFocusedIndex:C,onIndexChange:s}),N=(0,i.useCallback)(e=>{let t=M.current;if(!t)return;let n=Array.from(t.children),r=Math.max(0,Math.min(e,n.length-1)),i=n[r];if(i&&"number"==typeof i.offsetLeft){let e=parseInt(getComputedStyle(t).paddingInlineStart,10)||0;t.scrollTo({left:i.offsetLeft-e,behavior:R?"auto":"smooth"})}},[R]),D=(0,i.useCallback)(e=>{$(e),N(e),C(e),s?.({currentIndex:T,nextIndex:e})},[T,s,N,$]);(0,i.useLayoutEffect)(()=>{void 0!==m&&m!==T&&t.length&&D(m)},[m,T,D,t.length]);let z=(0,i.useCallback)(e=>()=>C(e),[]),H=(0,i.useCallback)(()=>C(-1),[]),B=(0,i.useRef)(new Map),K=(0,i.useCallback)(e=>(B.current.has(e)||B.current.set(e,z(e)),B.current.get(e)),[z]);(0,i.useLayoutEffect)(()=>{B.current.clear()},[t]);let W="single"===a,Y=`carousel--mode-${a}`,U=W?`
  .${Y} {
    anchor-name: --${Y};
    container-type: inline-size scroll-state;
    counter-reset: item;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;
    height: 100%;
    list-style-type: none;
    overscroll-behavior-x: contain;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }

    > li {
      container-type: scroll-state;
      scroll-snap-align: center;
      scroll-snap-stop: always;
      width: 100%;
      height: 100%;
      overflow: hidden;

      & img {
        height: 100%;
        width: 100%;
      }
    }

    &.scroll-markers {
      ${S(Y,"single")}
    }

    &.scroll-buttons {
      ${v(Y)}
    }
  }
`:`
  .${Y} {
    --carousel-edge-padding: 1rem;
    --carousel-gap: 0.5rem;
    --calculated-column-width: calc(
      (
        100cqw
        - var(--carousel-edge-padding)
        - (var(--carousel-gap) * (var(--carousel-item-count) + 1))
      ) / var(--carousel-item-count)
    );
    anchor-name: --${Y};
    counter-reset: item;
    display: grid;
    gap: var(--carousel-gap);
    grid-auto-flow: column;
    grid-auto-columns: var(--calculated-column-width, var(--carousel-item-width, min-content));
    list-style-type: none;
    margin-inline: auto;
    overscroll-behavior-x: contain;
    overflow-y: hidden;
    overflow-x: auto;
    padding-block: 1rem;
    padding-inline: var(--carousel-edge-padding);
    scroll-padding-inline-start: var(--carousel-edge-padding);
    scroll-padding-inline-end: var(--carousel-edge-padding);
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }

    >li {
      block-size: auto;
      overflow: visible;
      display: flex;
      flex-direction: column;
      container-type: scroll-state;
      scroll-snap-align: start;
    }

    &.scroll-markers {
      ${S(Y,"multi",Z)}
    }

    &.scroll-buttons {
      ${v(Y)}
    }

    /* Ensure page boundaries are mandatory stops so native buttons can't skip a page */
    > li:nth-child(${Z}n + 1) {
      scroll-snap-stop: always;
    }
  } `,G={...e&&{"--carousel-item-height":`${e}px`},...n&&{"--carousel-item-width":`${n}px`}},q=l()(Y,{"scroll-markers":x,"scroll-buttons":I});return(0,d.jsxs)(o.xu,{ref:O,"aria-labelledby":c,as:"section",dangerouslySetInlineStyle:{__style:{containerType:"inline-size"}},height:"100%",onBlur:A,onFocus:L,onMouseOut:j,onMouseOver:F,width:"100%",children:[(0,d.jsx)(w.Z,{unsafeCSS:U}),E&&(0,d.jsx)(p,{carouselClassName:Y,containerRef:O,currentIndex:T,itemCount:t.length,itemsPerPage:Z,onIndexChange:D,showNavigationArrows:P}),(0,d.jsx)("ul",{ref:M,className:q,style:G,children:t.map((e,t)=>(0,d.jsx)("li",{children:u({item:e,index:t,isFocused:T===t,onFocus:K(t),onUnfocus:H})},e?.id??e?.entityId??t))}),(x||k)&&(0,d.jsx)(o.xu,{marginBottom:4,children:(0,d.jsx)(b,{currentIndex:T,itemCount:t.length,itemsPerPage:Z,mode:a,onNavigateToIndex:D})})]})}},801082:function(e,t,n){n.d(t,{Z:()=>s});var r=n(167912),i=n(244311),a=n(562399),l=n(667294),o=n(503246);let s=function({strategy:e,query:t,variables:n,options:s,useGetLegacyResource:c,useGetLegacyPaginatedResource:u,useGetLegacyData:d}){let m;if("GraphQL"===e){let e=(0,i.getRequest)(t);return(0,r.useLazyLoadQuery)(e,n,s)}if(null!=c&&null!=u&&null!=d)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:p,refetch:h}=function(e,t){let n=(0,l.useRef)(e),r=(0,l.useRef)(null),[,i]=(0,l.useState)({}),a=(0,o.ZP)(e,n.current)?null==r.current?n.current:r.current:(n.current=e,r.current=null,n.current),s=(0,l.useCallback)(e=>{let n={...a,...e||{}};(0,o.ZP)(a,n)&&t(),r.current=n,i({})},[a,t]);return{actualVariables:a,refetch:s}}(n,()=>{m()});if(null!=d){let e=d(p);if(!e)return null;let{selections:n}=(0,i.getRequest)(t).fragment;return m=()=>{},(0,a.Z)(n,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:h},paginationInfo:null})}if(null!=c){let e=c(p),{data:n}=e;if(m=e.refresh,null==n)return null;let{selections:r}=(0,i.getRequest)(t).fragment;return(0,a.Z)(r,{kind:"LegacyData",singularLegacyData:n,refetchInfo:{refetch:h},paginationInfo:null})}if(null!=u){let e=u(p),{data:n,isFetching:r,isAtEnd:l,fetchMore:o}=e;if(m=e.refresh,null==n)return null;let{selections:s}=(0,i.getRequest)(t).fragment;return(0,a.Z)(s,{kind:"PaginationLegacyData",paginationLegacyData:n,refetchInfo:{refetch:h},paginationInfo:{isLoadingNext:r,hasNext:!l,loadNext:o}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},728994:function(e,t,n){n.d(t,{Z:()=>o});var r,i=n(667294);n(167912);var a=n(28427);let l=(void 0!==r||(r=n(719738)).hash&&"3d7a6d04f923d00acfb2887f852aea16"!==r.hash&&console.error("The definition of 'useGetNormalizedPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function o({pinKey:e,maxWidth:t}){let n=(0,a.Z)(l,e),r=n?.imageSpec_564x||n?.imageSpec_736x||n?.imageSpec_orig||n?.imageSpec_474x||n?.imageSpec_236x,o=r?.width||1,s=r?.height||1,c=r?.url||"",u=function(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}(o,s,t);return{getNormalizedPinImage:(0,i.useCallback)(()=>({width:u.width,height:u.height,url:c}),[u.height,u.width,c])}}},492841:function(e,t,n){n.d(t,{Z:()=>g});var r=n(281098),i=n(667294),a=n(20256),l=n(19585),o=n(675973),s=n(473728),c=n(785893);function u({category:e,ingredients:t,textSize:n="300"}){return(0,i.useEffect)(()=>{(0,r.Z)("Ingredient","/app/packages/recipePin/Ingredient.tsx")},[]),(0,c.jsxs)(a.xu,{children:[e&&(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{size:n,weight:"bold",children:e})}),(0,c.jsx)("ul",{children:t.map((e,t)=>(0,c.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,c.jsx)(a.xu,{marginTop:1,children:(0,c.jsxs)(a.xv,{size:n,children:["• ",e.amt||null," ",e.name]})})},t))})]})}function d({instructions:e}){return((0,i.useEffect)(()=>{(0,r.Z)("Instructions","/app/packages/recipePin/Instructions.tsx")},[]),e)?e.map((e,t)=>{let n=`Step ${t+1}`;return(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:n}),(0,c.jsx)(a.xv,{size:"100",children:e})]},n)}):null}var m=n(54840),p=n(295429),h=n(601686);function g({recipeProps:e,marginOverrides:t}){var n;(0,i.useEffect)(()=>{(0,r.Z)("RecipeIngredients","/app/packages/recipePin/RecipeIngredients.tsx")},[]);let g=(0,l.ZP)(),{checkExperiment:f}=(0,o.Z)(),{image:y,name:_,categorizedIngredients:x,instructions:b}=e.recipe,{peekCloseupEnabled:v}=(0,h.x4)(),S=b&&f("web_food_indicator").anyEnabled,w=0;if(x&&x.length){let e=[];x.forEach(t=>(w+=t.ingredients.length,e.push(t.ingredients)))}let I=v?(n=w,(0,s.Z)(g.ngettext('{{ count }} Ingredient', '{{ count }} Ingredients', n, 'closeup.recipePin.heading.ingredientCount', 'Ingredient count on a Pin. count: number of ingredients'),{count:n.toString()})):g._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');return(0,c.jsx)(a.xu,{marginBottom:2,marginTop:2,children:(0,c.jsxs)(m.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,c.jsx)("meta",{content:_,itemProp:"name"}),(0,c.jsx)("meta",{content:y,itemProp:"image"}),S&&(0,c.jsx)(p.Z,{collapseByDefault:!1,heading:"Instructions",children:(0,c.jsx)(a.xu,{children:(0,c.jsx)(d,{instructions:b})})}),(0,c.jsx)(p.Z,{heading:I,children:(0,c.jsx)(a.xu,{children:x.map(({category:e,ingredients:n},r)=>{let l=`ingredient-${r}`;return(0,c.jsx)(i.Fragment,{children:(0,c.jsx)(a.xu,{marginBottom:t?.ingredientMarginBottom||4,children:(0,c.jsx)(u,{category:e,ingredients:n,textSize:"200"})})},l)})})})]})})}},54840:function(e,t,n){n.d(t,{Z:()=>l});var r=n(281098),i=n(667294),a=n(785893);let l=e=>{(0,i.useEffect)(()=>{(0,r.Z)("RichPinInformation","/app/packages/rich-snippet/RichPinInformation.tsx")},[]);let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,a.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},490186:function(e,t,n){n.d(t,{Z:()=>i});var r=n(403135);function i(e){let{enteredQuery:t,filters:n,guideAdded:i,query:a,requestParams:l,rs:o,scope:s,selectedOneBarModules:c,user:u,inlineSuggestion:d}=e;if(!a)return"/";let m={q:a,rs:o,...l};if(n&&(m.filters=n),u&&(m.user=u),c&&(m.selected_one_bar_modules=c),i&&i.term&&(m.add_refine=`${i.term}|guide|word|${i.index}`),t&&(m.entered_query=t),d&&(m.inline_suggestion=d),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,r.Z)(m)}`;let p=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(p)||(p="pins"),p?`/search/${p}/?${(0,r.Z)(m)}`:`${window.location.pathname}?${(0,r.Z)(m)}`}},25417:function(e,t,n){n.d(t,{Z:()=>r});let r=(e,t)=>{let n=new URL(e,"https://pinterest.com");return n.search=new URLSearchParams(t).toString(),n.toString().substring(n.origin.length)}},870358:function(e,t,n){n.d(t,{Z:()=>r});function r({cropArea:e,cropSource:t,requestParams:n,searchQuery:r,surfaceType:i,title:a,trafficSource:l}){let o=[];if(e){let{x:t,y:n,w:r,h:i}=e;t>=0&&n>=0&&r>=0&&i>=0&&o.push(`x=${t}`,`y=${n}`,`w=${r}`,`h=${i}`)}return t&&o.push(`cropSource=${t}`),i&&o.push(`surfaceType=${i}`),a&&o.push(`full_feed_title=${encodeURIComponent(a)}`),r&&o.push(`q=${r}`),l&&"unknown"!==l&&o.push(`rs=${l}`),n&&o.push(`requestParams=${encodeURIComponent(n)}`),o.length?`?${o.join("&")}`:""}},85363:function(e,t,n){n.d(t,{Z:()=>i});var r=n(870358);function i({cropArea:e,cropSource:t,isProductPage:n,pinId:i,requestParams:a,searchQuery:l,surfaceType:o,title:s,trafficSource:c}){let u=(0,r.Z)({cropArea:e,cropSource:t,requestParams:a,searchQuery:l,surfaceType:o,title:s,trafficSource:c}),d="";return n&&(d="products/"),`/pin/${i}/visual-search/${d}${u}`}},295429:function(e,t,n){n.d(t,{Z:()=>m});var r=n(281098),i=n(667294),a=n(20256),l=n(230608),o=n(980787),s=n(15667),c=n(647709),u=n(601686),d=n(785893);function m({auxData:e,children:t,collapseButtonElementType:n,collapseByDefault:m=!0,componentType:p,displayViewState:h,expandButtonElementType:g,forceTappableHeader:f,headerHeight:y,headerPaddingRight:_,headerPreview:x,heading:b,surface:v,viewParameter:S,viewType:w}){(0,i.useEffect)(()=>{(0,r.Z)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let I=(0,c.HG)(),{isBot:k}=(0,s.B)(),{logContextEvent:E}=(0,o.u)(),{setIsShoppingModuleExpanded:T}=(0,u.x4)(),C=(0,i.useRef)(null),[M,O]=(0,i.useState)(void 0),[Z,R]=(0,i.useState)(!k&&m||[1,2].includes(h));return(0,i.useEffect)(()=>{C.current&&O(C.current.scrollHeight+parseInt(window.getComputedStyle(C.current?.firstElementChild).marginTop,10))},[C]),(0,i.useEffect)(()=>{T&&T(!Z)},[]),(0,d.jsxs)(a.kC,{dataTestId:"collapsible-layout",direction:"column",gap:4*!I,children:[(0,d.jsx)(l.Z,{collapsed:Z,displayViewState:h,forceTappableHeader:f,headerHeight:y,headerPaddingRight:_,headerPreview:x,heading:b,onClick:()=>{R(!Z),T&&T(Z),E({aux_data:e,component:p,element:Z?g:n,event_type:I?101:102,view_parameter:S,view_type:w})},showArrow:!0,surface:v}),I?(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${Z?"collapsed":"expanded"}`,height:Z?"0px":`${M}px`,marginBottom:Z?void 0:1,overflow:"hidden",children:(0,d.jsx)(a.xu,{ref:C,children:t})}):!Z&&(0,d.jsx)(a.xu,{children:t})]})}},391178:function(e,t,n){n.d(t,{Z:()=>s});var r=n(281098),i=n(667294),a=n(20256),l=n(461951),o=n(785893);function s({children:e,color:t,isDarkMode:n,outlined:s,type:c="bold",rounding:u=4}){return(0,i.useEffect)(()=>{(0,r.Z)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,o.jsxs)(a.xu,{position:"relative",children:[(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:u,children:e}),s&&(0,o.jsx)(a.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:n}){let r=t?"#fff":"#000",i=t?"#000":"#fff";return"solid"===n?{boxShadow:`inset 0 0 0 2px ${e??r}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}`}:"border"===n?{border:`1px solid ${e??l.v$5}`,boxShadow:`inset 0 0 0 1px ${l.z6F}`,WebkitBoxShadow:`inset 0 0 0 1px ${l.z6F}`,MozBoxShadow:`inset 0 0 0 1px ${l.z6F}`}:{boxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`}}({color:t,isDarkMode:n,type:c})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:u,top:!0})]})}},288910:function(e,t,n){n.d(t,{n:()=>m,v:()=>p});var r=n(667294),i=n(825332),a=n(729434),l=n(478135),o=n(647709),s=n(601811),c=n(438235),u=n(785893);let{Provider:d,get:m}=(0,a.Z)("SearchParams"),p=({children:e,value:t})=>{let n=function(){let e=(0,o.HG)(),{search:t,pathname:n}=(0,i.TH)(),{scope:r}=(0,c.Z)(),a=!r&&n.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:a?l.lw.SHOP_TOOL:r,search:t})}(),a=(0,r.useMemo)(()=>({...n,...t}),[n,t]);return(0,u.jsx)(d,{value:a,children:e})}},78187:function(e,t,n){n.d(t,{CT:()=>r,HE:()=>i,Mq:()=>a,ti:()=>l});let r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},i={CLOSEUP:"closeup"},a={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},l={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},601811:function(e,t,n){n.d(t,{Z:()=>a});var r=n(478135),i=n(378888);function a({isDesktop:e,scope:t,search:n}){let{auto_correction_disabled:a="",b_id:l,brands:o,category:s,colors:c,commerce_only:u="",cover_pin_sig:d,deb_d:m,domains:p,filters:h,guided_search_query:g,inline_suggestion:f,interest_id:y,journey_depth:_,on_sale:x,price_max:b,price_min:v,q:S,query_pin_sigs:w,request_params:I,rs:k,selected_one_bar_modules:E,source_id:T,source_module_id:C,tab:M,top_pin_ids:O,user:Z}=(0,i.mB)(n),R="true"===u.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:o,bubbleId:l,category:s,colors:c,commerceOnly:"true"===u.toLowerCase(),coverPinSig:d,currentlyAppliedFiltersParamTerm:h,debD:m,domains:p,guidedSearchQuery:g,inlineSuggestion:f,interestId:y,journeyDepth:_?parseInt(_,10):void 0,onSale:x,personalizationPinSig:w,placementId:(0,r.Hd)(R,e),priceMax:b,priceMin:v,query:S,requestParams:I,rs:k,scope:R,selectedOneBarModules:E,sourceId:T,sourceModuleId:C,tab:M||"",topPinIds:O,user:Z,viewParameter:(0,r._R)(R),viewType:R===r.lw.SHOP_TOOL?1:2}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/98283-9bca659d2b61500e.mjs.map