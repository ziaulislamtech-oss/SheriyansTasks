(self.modernJsonp=self.modernJsonp||[]).push([["47342"],{939672:function(e,t,n){n.d(t,{$A:()=>v,B4:()=>E,N0:()=>N,N3:()=>w,VK:()=>g,_J:()=>h,mW:()=>f});var i=n(281098),a=n(667294),r=n(503246),o=n(603316),s=n(785893);let l={},d={},u={},c=!1,m=0,_={},p=(0,a.createContext)({setMetric:()=>void 0,setRawData:()=>void 0,setRmaData:()=>void 0,updateCommitTimeMap:()=>void 0,commitTimeMap:{}});function f({children:e}){(0,a.useEffect)(()=>{(0,i.Z)("RenderPerformanceContext","/app/common/react/components/ProfilerWithStats/RenderPerformanceContext.tsx")},[]);let t=(0,a.useCallback)((e,t,n)=>{l[e]||(l[e]={}),l[e][t]=n},[]),n=(0,a.useCallback)((e,t,n)=>{u[e]||(u[e]={}),u[e][t]||(u[e][t]=[]),u[e][t].push(n)},[]),o=(0,a.useCallback)(({id:e,path:t,fragmentName:n,executionTime:i,newData:a})=>{if(c)return;let o=`${n}.${e}`;d[t]||(d[t]={}),d[t][o]||(d[t][o]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let s=d[t][o];(0,r.ZP)(a,s.previousData)?(s.wastedTime+=i,m+=i):s.resultUpdatedCount+=1,s.totalRenderTime+=i,s.renderCount+=1,s.previousData=a},[]),f=(0,a.useCallback)((e,t)=>{let n=`${Math.floor(e)}`;_[n]?_[n].push(t):_[n]=[t]},[]),g=(0,a.useMemo)(()=>({setMetric:t,setRawData:n,setRmaData:o,updateCommitTimeMap:f,commitTimeMap:_}),[t,o,n,f]);return(0,s.jsx)(p,{value:g,children:e})}function g(){return(0,a.use)(p)}function v(e){let t=function(){let e=Object.keys(_),t=e.length,n=e.sort().slice(0,t),i={};return n.forEach(e=>{let t=_[e];if(!t)return;let n=t.sort((e,t)=>e.startTime-t.startTime);for(let e=0;e<n.length;e+=1){let t=n[e],a=n[e+1];if(t&&a){let{startTime:e,id:n,actualDuration:r}=t,{startTime:o}=a,s=o<e+r?o-e:r;i[n]||(i[n]=0),i[n]+=s}else if(t){let{actualDuration:e,id:n}=t;i[n]||(i[n]=0),i[n]+=e}}}),i}();return Object.keys(t).forEach(n=>{let i=t[n];if(!i)return;let a=l[e]?.[n]?.mountTime??0,r=l[e]?.[n]?.mountCount??0,o=l[e]?.[n]?.updatesCount??0,s=Number(i.toFixed(2)),d=Number((a+s).toFixed(2)),u=o>0?Number((s/o).toFixed(2)):0,c=l[e]?.[n]?.memoizationDeltaArray??[],m=Math.max(...c),_=c.reduce((e,t)=>e+t,0)/c.length,p=l[e]?.[n]?.memoizationRatioArray??[],f=Math.max(...p),g=p.reduce((e,t)=>e+t,0)/p.length;l[e]&&l[e][n]&&(l[e][n]={...l[e][n],totalCount:r+o,totalTiming:d,updatesCount:o,updateTiming:s,averageUpdateTiming:u,maxMemoizationDelta:m,averageMemoizationDelta:_,maxMemoizationRatio:f,averageMemoizationRatio:g})}),l[e]}function E(e){return u[e]}function w(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function h(e){let t=d[e],n={};c=!0,t&&Object.keys(t).length&&w(e)&&(Object.entries(t).forEach(([e,t])=>{let[i]=e.split(".");i&&!n[i]&&(n[i]=!0,(0,o.QX)(`render_stats.rma.${i}.renderCount`,t.renderCount,{sampleRate:1}),(0,o.QX)(`render_stats.rma.${i}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,o.LY)(`render_stats.rma.${i}.renderTime`,t.totalRenderTime,{sampleRate:1}),(0,o.LY)(`render_stats.rma.${i}.wastedTime`,t.totalRenderTime,{sampleRate:1}))}),(0,o.LY)("render_stats.rma.totalWastedTime",m,{sampleRate:1,tags:{path:e}}))}function N(){l={},d={},u={},c=!1,m=0}},503246:function(e,t,n){function i(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!r(e[i],t[i],n+1))return!1;return!0}function a(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!r(e[i],t[i],n+1))return!1;return!0}function r(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let r=Object.prototype.toString.call(e);if(r!==Object.prototype.toString.call(t))return!1;switch(r){case"[object Array]":return i(e,t,n);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return a(e,t,n);case"[object Map]":return a(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function o(e,t){return r(e,t,0)}n.d(t,{ZP:()=>o,qP:()=>i})},286036:function(e,t,n){function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});let a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}},r=e=>{if(e.isHidden){let{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach(e=>e(t))}else a.windowInFocus=!0,a.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>r({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>r({isHidden:!1})),window.addEventListener("blur",()=>r({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>r({isHidden:!1})),window.addEventListener("pagehide",()=>r({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let o=a},355363:function(e,t,n){n.d(t,{Z:()=>l});var i=n(336057),a=n(667294),r=n(392824),o=n(754545),s=n(573746);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:d=!1,includeVideos:u=!1,includeSections:c=!1,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:_,stopwatchContext:p}){let{isAuthenticated:f}=(0,s.bC)();f||(c=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:u,includeSections:c,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:_,stopwatchContext:p});let g=(0,a.useRef)(null),v=(0,o.P9)();return(0,a.useEffect)(()=>{l!==g.current&&(g.current=l,v&&(0,r.ZP)(r.at))},[v,l]),e}},579358:function(e,t,n){n.d(t,{F9:()=>d,LM:()=>l,VZ:()=>r,cQ:()=>u,rZ:()=>o});var i=n(210811),a=n(901360);let r=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,a.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(i.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),[];let r={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),d=[...document.querySelectorAll(l)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?d.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return d.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&((e,t)=>{let n=o(e);if(!n)return(0,a.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;let t=s(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{let a=e+i;if(a>=n)return!1;let r=Math.min(t,n-a);return r>.5*t||r>.2*n})(n,t)})(n,r)){let t=s(n);if(t){let i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e},[])}},210811:function(e,t,n){n.d(t,{$N:()=>l,Kb:()=>i,Wf:()=>o,fF:()=>s,wc:()=>r});let i="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],r=a.join(","),o=a.map(e=>`${e} img`).join(","),s=a.map(e=>`${e} div[style*=background-image]`).join(","),l=a.map(e=>`${e} video`).join(",")},336057:function(e,t,n){n.d(t,{Z:()=>f,v:()=>p});var i=n(667294),a=n(592109),r=n(579358),o=n(901360),s=n(392824),l=n(293169),d=n(754545),u=n(956077),c=n(610046),m=n(603316);let _=(0,a.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,r.VZ)();function f({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:p=!1,includeSections:f,isPlaceholderGrid:g,stopwatchSetVisuallyCompleteResult:v,stopwatchContext:E}){let w=(0,d.P9)(),[h,N]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{N({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[w]),(0,i.useEffect)(()=>{if(_("new status",h),"LAYOUT"===h.status){let e=((e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{(0,s.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[h.status]),(0,c.Z)(()=>{let i=(0,d.Ly)(),s=()=>{},c=e=>{(0,d.JG)(e),E&&E?.abort()};"unknown"!==i?s=u.rt:(i=`${E?.name}`,E?.addBinaryAnnotation&&(s=E?.addBinaryAnnotation));let w=(0,r.cQ)(n,p,f);if(g)return void _("bypassing PWT run due to skeleton pin grid");switch(h.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,r.LM)();if(t===e)return _("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.F9)())return _("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(h.numOfItemsChecked,e);t.complete?N({status:"TIMING",failedCount:0,pinElements:w}):500*h.failedCount>6e4?((0,o.A9)(`images.${i}.visuallyComplete.maxLayoutAttempt`),c("visuallyComplete_layoutTimeout"),N({status:"DISABLED"})):N({...h,failedCount:h.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,l.Cg)(),n=h.pinElements.length,r=[],u=0,p=0,f=0,g=1/0,E=0;if(h.pinElements.forEach(({element:t,fileName:n})=>{let o=e.find(e=>e.name.endsWith(n));o?o.responseEnd?(r.push(o),(0,a.v5)(t,"green"),"SEARCH_FEED_RENDER"===i&&(g=Math.min(g,o.requestStart),E=Math.max(E,o.responseEnd))):(f+=1,(0,a.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(p+=1,(0,a.v5)(t,"red")):(u+=1,(0,a.v5)(t,"greenyellow"))}),u||f)100*h.failedCount>6e4?((0,o.A9)(`images.${i}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:u,noTimingCount:p,noTimingResponseEndCount:f}}),c("visuallyComplete_timingTimeout"),N({status:"DISABLED"})):N({...h,failedCount:h.failedCount+1});else{if(_(`All ${r.length} images are fetched`),t&&t.length){var R,T;let e,n,a,r,l,u=(R=t,T=h.pinElements,e=0,n=0,a=0,r=0,l=0,R=R.filter(e=>"pin"===e.type),T.forEach((t,i)=>{let o,s=t.fileName.split(".")[0];o=R[i],s!==o?.image_signature&&(o=R.find(e=>s===e?.image_signature)),void 0===o?l+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?a+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?e+=1:o?.videos?.video_list?n+=1:r+=1}),{storyPinCount:e,videoCount:n,adCount:a,imageCount:r,unknownCount:l});if(Object.entries(u).forEach(([e,t])=>{s(e,t,"I16"),(0,d.XJ)(e,t,"I16")}),(0,o.A9)(`${i}.pinTypes`,{tags:u}),"SEARCH_FEED_RENDER"===i){let e=E-g;t[0].display_options?.num_columns_requested===0?(0,m.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,m.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{v&&v(),(0,d.cB)(e)})({imageTimings:r}),N({status:"DISABLED"}),(0,o.A9)(`images.${i}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:p}})}}}},"LAYOUT"===h.status&&500||"TIMING"===h.status&&100||null)}},30880:function(e,t,n){n.d(t,{Z:()=>o});var i=n(32259);let a=null;function r(e){(0,i.El)({eventName:`perf.not_supported.${e}`})}function o(){if(a)return a;try{if(!window.performance||!performance)return r("window_performance"),a=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return r("window_PerformanceObserver"),a=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return r("window_PerformanceObserver_supportedEntryTypes"),a=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return r("window_PerformanceObserver_supportedEntryTypes_mark"),a=!1,!1;a=["mark","measure","now","setResourceTimingBufferSize"].reduce((e,t)=>(window.performance[t]&&performance[t]||(r(`window_performance_${t}`),e=!1),e),!0)}catch(e){(0,i.jn)({errorName:e})}return a}},754545:function(e,t,n){let i,a,r;n.d(t,{Eq:()=>D,yh:()=>S,XJ:()=>G,Lg:()=>k,cB:()=>W,Ly:()=>j,JG:()=>$,P9:()=>M,ZP:()=>U,ep:()=>q,$e:()=>H});var o=n(392824),s=n(703393),l=n(735201),d=n(868178),u=n(286036),c=n(573746);let m=!1;function _(){if(m)return;let e=window.innerHeight,t=window.innerWidth,n=()=>{let i=(0,c.bC)(),a=Math.abs(window.innerHeight-e),r=window.innerHeight!==e,o=window.innerWidth!==t;if("phone"===i.deviceType&&(!o&&r&&a<=150||!r&&!o)||"desktop"===i.deviceType&&!r&&!o){window.removeEventListener("resize",n),m=!1;return}$("windowResized"),window.removeEventListener("resize",n),m=!1};window.addEventListener("resize",n),m=!0}var p=n(30880);let f=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],g=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["NavigationCompletev4","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["NavigationCompletev4","RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["NavigationCompletev4","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["NavigationCompletev4"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["NavigationCompletev4","VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}}];var v=n(32259),E=n(112114);let w=[...g,...f];function h({isAuthenticated:e,isInitialPageLoad:t,isMobile:n}){let i=(0,E.H)(),a=w.find(e=>Array.isArray(e.handler)?e.handler.includes(i):i===e.handler),r=a?.config,o=r?.unified;if(o||(o=n?r?.mWeb:r?.dWeb),o){let n=e?o.auth:o.unauth;if(n){if(t&&n.initialPageLoad)return(0,v.qu)("Found isInitialPageLoad config"),(0,v.qu)(n.initialPageLoad),{...n.initialPageLoad};else if(!t&&n.clientNavigation)return(0,v.qu)("Found clientNavigation config"),(0,v.qu)(n.clientNavigation),{...n.clientNavigation}}}return(0,v.qu)(`No config found for ${i} :(`),null}var N=n(956077);let R={},T=[],L=[],b={},C={},P=[],A=0,I=0,y=[],O=["webpack_react_profiler","web_early_hydration","web_ngjs_related_modules_response_remove_nulls","web_ngjs_homefeed_response_remove_nulls","web_ngjs_search_response_remove_nulls","ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint","www_isolated_build"];function S(e){e&&$(e),(0,v.qu)("Reset PWT configs"),R={},T=[],L=[],b={},C={},P=[],i=null,A=0,I=0,r="",y=[]}function D(){return i?I:0}function j(){return i?i.name:"unknown"}function M(){return i?I:null}function G(e,t,n){let i;if((0,p.Z)()){switch(n){case"BOOL":i={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":i={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":i={type:n,value:"number"==typeof t?t:null};break;default:(0,v.qu)("Invalid binary annotation type");return}if(null===i.value)return void(0,v.qu)("Invalid binary annotation value");C={...C,[e]:i},(0,v.qu)(`Add binary annotation: { ${e}: ${i.value} }`)}}function H(e){if((0,p.Z)())if(i){let t=L.indexOf(e);if(t>-1){if(L.splice(t,1),(0,v.qu)(`Remove constraint: ${e}. Remaining constraints: [${L.join(", ")}]`),0===L.length){let e=A-I,t=[...O,...i.annotateExperiments||[]];(0,v.fv)({pwtName:i.name,annotateExperiments:t}),(0,v.$v)({eventName:i.name,value:e}),(0,v.$v)({eventName:"complete",value:e,tags:{handler:(0,E.H)()}});let n=(0,c.bC)(),l={type:"surface",surface:i.name,id:i.id,navigationType:a,isAuthenticated:n.isAuthenticated};(0,o.L8)(`Report_PWT_Complete_${i.name}`,I,A);let u=(0,s.W)({annotateExperiments:t,annotations:{},binaryAnnotations:C,constraintMap:b,endTime:A,imageTimings:P,isV4Logger:!0,metricId:l,pwtStaticContext:n,startTime:I,traceId:r,spans:[]});(0,v.qu)(`All constraints complete. ${i.name} PWT completed at ${Math.floor(A)}ms. PWT duration: ${Math.floor(e)}ms`),(0,v.qu)("Result:",u),(0,d.Z)({metricId:l,pwtStaticContext:n,result:u,isV4Logger:!0,annotateExperiments:t}),S()}}else(0,v.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:i.name,errorDetailsTag:e})}else(0,v.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),T.push(e)}function V(e,t){if((0,p.Z)())if(i){let n=L.indexOf(e);n>-1&&(A<t&&(A=t),b[e]=t,(0,v.eR)(L[n],i?.name),(0,v.$v)({eventName:`${i?.name}.constraint.${e}`,value:t}),(0,v.$v)({eventName:`constraint.${e}`,value:t,tags:{handler:(0,E.H)()}}),(0,v.qu)(`Complete constraint: ${e} at ${Math.floor(t)}ms`),H(e))}else R[e]||(R[e]=t)}function $(e){if((0,p.Z)()&&i){let t=[...O,...i.annotateExperiments||[]];(0,v.T0)({abortReason:e,pwtName:i.name,annotateExperiments:t}),L.forEach(e=>{(0,v.yi)(e,i?.name)});let n=(0,c.bC)(),o={type:"surface",surface:i.name,id:i.id,navigationType:a,isAuthenticated:n.isAuthenticated},l=(0,s.N)({reason:e,annotateExperiments:t,annotations:{},binaryAnnotations:C,constraintMap:b,endTime:performance.now(),imageTimings:P,isV4Logger:!0,metricId:o,pwtStaticContext:n,startTime:I,traceId:r,spans:[]});(0,v.qu)(`Abort ${i.name} PWT. Abort reason: ${e}`),(0,v.qu)("Result:",l),(0,d.Z)({metricId:o,pwtStaticContext:n,result:l,isV4Logger:!0,annotateExperiments:t}),S()}}function W(e){if((0,p.Z)()&&i&&L.includes("VisuallyComplete"))if((0,v.qu)("Set visually complete result"),(0,v.qu)("Image resource timings: ",e),0===(P=e).length)$("visuallyComplete_noImages");else{let e=Math.max(...P.map(e=>e.responseEnd||0));(0,N.Nx)("VisuallyComplete",e)}}function k(e){if((0,p.Z)())if(i&&i.name.toLowerCase()!==e.toLowerCase()){let t=[...O,...i.annotateExperiments||[]],{isAuthenticated:n,deviceType:r}=(0,c.bC)(),o=(({isAuthenticated:e,isInitialPageLoad:t,isMobile:n,segment:i})=>{let a=h({isAuthenticated:e,isInitialPageLoad:t,isMobile:n});return a?.segments?.[i]??null})({isAuthenticated:n,isInitialPageLoad:"initial_app_load"===a,isMobile:"phone"===r,segment:e});if(!o)return void(0,v.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,v.T0)({abortReason:"segmentChange",pwtName:i.name,annotateExperiments:t}),i.name=o,(0,v.qu)(`Set segment to ${e}. PWT action name: ${o}`),(0,v.sd)({pwtName:i.name,annotateExperiments:[...O,...i.annotateExperiments||[]]})}else(0,v.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function q(e,t,n){if((0,p.Z)())if(i&&$("routeChange"),"POP"===e&&!1===n);else{_();let{isAuthenticated:o,deviceType:s,serverData:d}=(0,c.bC)();if(i=h({isAuthenticated:o,isInitialPageLoad:n,isMobile:"phone"===s})){if(I=t,n)a="initial_app_load";else switch(e){case"PUSH":a="client_route_push";break;case"REPLACE":a="client_route_replace"}(0,v.sd)({pwtName:i.name,annotateExperiments:[...O,...i.annotateExperiments||[]]}),(0,v.qu)(`Start ${i.name} PWT`),i?.constraints.forEach(e=>{(0,p.Z)()&&(i?((0,v.DM)(e,i.name),L.includes(e)||(L.push(e),(0,v.qu)(`Add constraint: ${e}`))):(0,v.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e}))}),L.forEach(e=>{R[e]?V(e,R[e]):T.includes(e)&&H(e)}),r=(0,l.vc)()||(0,l.ZP)("initial_app_load"===a,d?.trace_id)}}}function U({traceLoggerData:e}){try{if((0,c._A)({serverData:e}),!(0,p.Z)())return void(0,v.El)({eventName:"unsupportedPWTBrowser"});(0,v.El)({eventName:"supportedPWTBrowser"}),_(),u.Z.onSessionPause($);let t=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{e&&e.name&&!e.name.startsWith("--")&&e.name.includes("complete_constraint__")&&V(e.name.split("complete_constraint__")[1]||"",e.startTime)})});t.observe&&t.observe({type:"mark",buffered:!0});let n=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let{rtt:t}=window.navigator.connection||{};if(t&&"number"==typeof t){let n=e.responseEnd-t/2;n>0&&(0,o.ZP)("client_chunkEndTime",n)}(0,o.L8)("dom_complete",e.startTime,e.domComplete),(0,o.L8)("dom_interactive",e.startTime,e.domInteractive),(0,o.L8)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,o.L8)("load_event_end",e.startTime,e.loadEventEnd),(0,o.L8)("response_start",e.startTime,e.responseStart),(0,o.L8)("response_duration",e.responseStart,e.responseEnd)})});n.observe&&n.observe({type:"navigation",buffered:!0});let i=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.identifier.includes("MainPinImage")&&!y.includes(e.identifier)&&y.push(e.identifier)})});i.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",()=>{t.disconnect(),n.disconnect(),i.disconnect()})}catch(e){(0,v.jn)({errorName:e})}}},956077:function(e,t,n){n.d(t,{Nx:()=>s,Yl:()=>u,l7:()=>d,qS:()=>c,rt:()=>m,sX:()=>l});var i=n(667294),a=n(392824),r=n(30880),o=n(754545);let s=(e,t)=>{(0,r.Z)()&&(t?performance.mark(`complete_constraint__${e}`,{startTime:t}):performance.mark(`complete_constraint__${e}`),(0,a.L8)(`constraint__${e}`,(0,o.Eq)(),t??performance.now()))},l=e=>{(0,o.JG)(e)},d=e=>{(0,o.$e)(e)},u=e=>{(0,o.Lg)(e)},c=e=>{(0,i.useEffect)(()=>{(0,o.Lg)(e)},[e])},m=(e,t,n)=>{(0,o.XJ)(e,t,n)}},886981:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),a=n(581722),r=n(440568),o=n(849233),s=n(943257);function l(e){let{enabledRouteRefresh:t,headers:n,name:l,noCache:d,options:u,schema:c}=e??{name:o.fY,options:null},m=(0,r.Z)(u),_=e=>e[l]?.[m],p=(0,a.v9)(({resources:e})=>_(e)?.nextBookmark),f=(0,a.v9)(({resources:e})=>_(e)?.data),g=(0,a.v9)(({resources:e})=>_(e)?.auxData),v=(0,a.v9)(({resources:e})=>_(e)?.error),{fetchResource:E,fetchMore:w,isFetching:h,isLoaded:N,isRefreshing:R,refresh:T}=(0,s.Z)({enabledRouteRefresh:t,headers:n,name:l,noCache:d,options:u,schema:c},!e,!0),L=N&&!h&&p===o.qx;return(0,i.useEffect)(()=>{E()}),(0,i.useMemo)(()=>({auxData:g,data:f,error:v,fetchMore:w,isAtEnd:L,isFetching:h,isLoaded:N,isRefreshing:R,nextBookmark:p,refresh:T}),[g,f,v,w,L,h,N,R,p,T])}},610046:function(e,t,n){n.d(t,{Z:()=>a});var i=n(667294);let a=(e,t)=>{let n=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/47342-97cc559e529bab45.mjs.map