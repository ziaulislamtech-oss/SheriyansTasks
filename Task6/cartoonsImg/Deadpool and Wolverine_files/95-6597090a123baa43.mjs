(self.modernJsonp=self.modernJsonp||[]).push([["95"],{462478:function(e,t,n){n.d(t,{W:()=>i,Z:()=>s});var a=n(68290);function r(e,t,n=3){window._sendFacebookPixel?("NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t()):n>0&&setTimeout(()=>{r(e,t,n-1)},Math.floor(3e3/n))}function s(e,t){"complete"===document.readyState?r(e,t):window.addEventListener("load",function e(t,n){return a=>{r(t,n),window.removeEventListener(a,e(t,n))}}(e,t))}function i(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){let e=(0,a.Z)({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(document.body)document.body.appendChild(e),e?.contentWindow?.addEventListener("load",()=>window._sendFacebookPixel=e.contentWindow.fbq);else throw Error("missing <body>")}(),window.addEventListener("load",i))}},71054:function(e,t,n){n.d(t,{BR:()=>o,Sj:()=>d,h7:()=>l,qo:()=>_,xY:()=>u});var a=n(855872),r=n(805205),s=n(413145),i=n(603316);let o=(e=!1)=>e?"0F985541-B543-4B29-A098-4BB9B8E9DEF8":"F5675B21-025B-4843-983C-38D86DEB394B",l="https://iframe.arkoselabs.com",c="web_identity_fp_vendors.client.load.arkose.scripts",d=({appType:e,component:t,experimentGroup:n,isChallenge:s,onLoad:l,pathname:d})=>{let u=document.getElementById("arkoselabs-script"),_={app_type:e,component:t,experiment_group:n,pathname:d};if(u)return void(0,i.nP)(c,{tags:{..._,status:"loaded"}});let g=document.createElement("script");g.id=a._i,g.type="text/javascript",g.src=((e=!1)=>(0,r.Z)({site:"okra",path:`/v2/${o(e)}/api.js`}))(s),g.setAttribute("data-callback",a.gz),g.async=!0,g.defer=!0,g.onload=()=>{(0,i.nP)(c,{tags:{..._,status:"success"}}),l?.()},g.onerror=()=>{(0,i.nP)(c,{tags:{..._,status:"error"}}),l?.()},document.head.appendChild(g)},u=({component:e,viewType:t,viewParameter:n,fingerprintData:a,startTimeMs:r,logContextEvent:s,onReady:i})=>{window.setupEnforcement=o=>{a.current.arkoseEnforcement=o,s({event_type:8109,component:e,element:18039,aux_data:{time_in_ms:Math.round(performance.now()-r),is_iframe:!1},view_type:t,view_parameter:n}),i?.()}},_=({fingerprintData:e,source:t,logContextEvent:n})=>new Promise(r=>{let c;if(!e)return void r(!1);if("string"==typeof(c=e.current.experimentGroup)&&c===a.$L.ENABLED_ARKOSE_IFRAME){let e=document.getElementById("arkoseFrame");e?.contentWindow&&e.contentWindow.postMessage(JSON.stringify({publicKey:o(),eventId:"challenge-open"}),l),r(!0);return}if(e.current.arkoseEnforcement){let l=o(e.current.experimentGroup===a.$L.ENABLED_CHALLENGE),c=e.current.arkoseEnforcement.getConfig();e.current.arkoseEnforcement.setConfig({publicKey:l,onCompleted:s=>{e.current.arkoseSessionToken=s.token,e.current.submitTriggeredTime&&((0,i.LY)(`web_identity_fp_vendors.${t}.submit.time`,performance.now()-e.current.submitTriggeredTime,{tags:{experiment_group:e.current.experimentGroup}}),n({event_type:101,element:18039,component:t===a.Ef.LOGIN?14212:14214,aux_data:{time_in_ms:Math.round(performance.now()-e.current.submitTriggeredTime),is_iframe:!1}})),r(!1)},onReady:()=>{e.current.arkoseEnforcement?.run()},onError:e=>{let t=e&&"error"in e&&"error"in e.error?e.error.error:"unknown";(0,s.T)({name:`arkoseEnforcementError.${t}`,message:"Error setting arkose enforcement config",message_detail:t,stack:e instanceof Error?e.stack:void 0}),r(!1)},onHide:()=>{e.current.arkoseSessionToken&&r(!1),r(!0)}}),c.publicKey===l&&e.current.arkoseEnforcement.run()}else r(!1)})},855872:function(e,t,n){n.d(t,{$L:()=>r,Ef:()=>a,_i:()=>s,gz:()=>i,uQ:()=>o});let a={LOGIN:"login",SIGNUP:"signup"},r={ENABLED_ARKOSE:"enabled_arkose",ENABLED_SARDINE:"enabled_sardine",ENABLED_DETECTION:"enabled_detection",ENABLED_CHALLENGE:"enabled_challenge",ENABLED_ARKOSE_ENFORCEMENT:"enabled_arkose_enforcement",ENABLED_SARDINE_ENFORCEMENT:"enabled_sardine_enforcement",ENABLED_ARKOSE_IFRAME:"enabled_arkose_iframe",ENABLED_LOGIN_ONLY:"enabled_login_only",CONTROL:"control",CONTROL_DETECTION:"control_detection"},s="arkoselabs-script",i="setupEnforcement",o="sardine-script"},801406:function(e,t,n){n.d(t,{xm:()=>_,Lq:()=>f,Ds:()=>g,yW:()=>u,NW:()=>p});var a=n(71054),r=n(855872),s=n(413145),i=n(603316);let o=()=>{let e=document?.getElementById("sardine-script")?.getAttribute("data-session-key");return e&&window.performance?`${e}-${performance.now()}`:null},l="web_identity_fp_vendors.client.load.sardine.scripts",c=({appType:e,component:t,experimentGroup:n,onLoad:a,pathname:s})=>{let o=document.getElementById("sardine-script"),c={app_type:e,component:t,experiment_group:n,pathname:s};if(o)return void(0,i.nP)(l,{tags:{...c,status:"loaded"}});fetch("/session_key",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async e=>await e.text()).then(e=>{(0,i.nP)(l,{tags:{...c,status:"session_key_fetched"}});let t=document.createElement("script");t.id=r.uQ,t.type="text/javascript",t.src="https://api.sardine.ai/assets/loader.min.js",t.setAttribute("data-session-key",e),t.async=!0,t.defer=!0,t.onload=()=>{(0,i.nP)(l,{tags:{...c,status:"success"}}),a()},t.onerror=()=>{(0,i.nP)(l,{tags:{...c,status:"error"}}),a()},document.head.appendChild(t)}).catch(()=>{(0,i.nP)(l,{tags:{...c,status:"session_key_error"}}),a()})},d=({component:e,viewType:t,viewParameter:n,fingerprintData:a,startTimeMs:i,logContextEvent:l,onCompleted:c})=>{if(!window._Sardine){c(),(0,s.T)({name:"sardineSdkNotFound",message:"Error creating sardine context",message_detail:JSON.stringify({error_message:"Sardine SDK not found in window object"})});return}let d=o();if(!d){c(),(0,s.T)({name:"sardineSdkSessionKeyNotFound",message:"SessionKey not found on sardine-script"});return}let u=14214===e?r.Ef.SIGNUP:r.Ef.LOGIN,_=window._Sardine.createContext({clientId:"3eb358e5-fb44-4c08-a426-e00ce538c65d",sessionKey:d,flow:u,environment:"production",parentElement:document.body,onDeviceResponse:r=>{a.current.sardineSessionKey=d,l({event_type:8109,component:e,element:18040,aux_data:{time_in_ms:Math.round(performance.now()-i),is_iframe:!1},view_type:t,view_parameter:n}),c()}});a.current.sardineContext=_},u=e=>({sardineSessionKey:null,arkoseSessionToken:null,arkoseEnforcement:null,sardineContext:null,submitTriggeredTime:null,experimentGroup:e("web_identity_fp_vendors").group}),_=({onLoad:e,...t})=>{switch(t.experimentGroup){case r.$L.ENABLED_ARKOSE:(0,a.Sj)({isChallenge:!1,onLoad:e,...t});break;case r.$L.ENABLED_SARDINE:c({onLoad:e,...t});break;case r.$L.ENABLED_DETECTION:case r.$L.ENABLED_ARKOSE_ENFORCEMENT:case r.$L.ENABLED_SARDINE_ENFORCEMENT:case r.$L.CONTROL_DETECTION:(0,a.Sj)({isChallenge:!1,...t}),c({onLoad:e,...t});break;case r.$L.ENABLED_CHALLENGE:(0,a.Sj)({isChallenge:!0,...t}),c({onLoad:e,...t});break;case r.$L.ENABLED_LOGIN_ONLY:if(14214===t.component)return;(0,a.Sj)({isChallenge:!1,...t}),c({onLoad:e,...t});break;case r.$L.CONTROL:default:e()}},g=({onFinished:e,...t})=>{switch(t.fingerprintData.current.experimentGroup){case r.$L.ENABLED_ARKOSE:(0,a.xY)({...t,onReady:()=>{e?.()}});break;case r.$L.ENABLED_SARDINE:d({...t,onCompleted:()=>{e?.()}});break;case r.$L.ENABLED_DETECTION:case r.$L.ENABLED_ARKOSE_ENFORCEMENT:case r.$L.ENABLED_SARDINE_ENFORCEMENT:case r.$L.CONTROL_DETECTION:(0,a.xY)(t),d({...t,onCompleted:()=>{e?.()}});break;case r.$L.ENABLED_CHALLENGE:(0,a.xY)(t),d({...t,onCompleted:()=>{e?.()}});break;case r.$L.ENABLED_LOGIN_ONLY:if(14214===t.component)return;(0,a.xY)(t),d({...t,onCompleted:()=>{e?.()}});break;case r.$L.CONTROL:default:let{component:n,startTimeMs:s,logContextEvent:i,viewType:o,viewParameter:l}=t;i({event_type:8109,component:n,aux_data:{time_in_ms:Math.round(performance.now()-s)},view_type:o,view_parameter:l}),e?.()}},f=({fingerprintData:e,source:t,logContextEvent:n})=>((({fingerprintData:e,source:t})=>{if(!e)return;if(!e.current?.sardineContext?.updateConfig)return(0,s.T)({name:"updateSardineContext.sardineSdkContextNotFound",message:"Sardine context not found"});let n=o();if(!n)return(0,s.T)({name:"updateSardineContext.sardineSdkSessionKeyNotFound",message:"SessionKey not found on sardine-script"});e.current.sardineContext.updateConfig({flow:t,sessionKey:n}),e.current.sardineSessionKey=n})({fingerprintData:e,source:t}),(0,a.qo)({fingerprintData:e,source:t,logContextEvent:n})),p=e=>{if(!e.fingerprintData?.current)return e;let t={...e};return e.fingerprintData.current.sardineSessionKey&&(t.sardineSessionKey=e.fingerprintData.current.sardineSessionKey),e.fingerprintData.current.arkoseSessionToken&&(t.arkoseSessionToken=e.fingerprintData.current.arkoseSessionToken),t.fingerprintData&&delete t.fingerprintData,t}},356075:function(e,t,n){n.d(t,{VC:()=>y,F8:()=>b,sl:()=>A,Rs:()=>E,M7:()=>v,eP:()=>w,x9:()=>N});var a=n(111330),r=n(68290),s=n(450978),i=n(753143),o=n(603316);let l={"flashtalking-d-ses":["https://servedby.flashtalking.com/container/19112;123474;13378;iframe/?spotName=Desktop_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-Zx62--R$"],"flashtalking-m-ses":["https://servedby.flashtalking.com/container/19112;123473;13378;iframe/?spotName=Mobile_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-aC5fNCn$"],flashtalking_d_login:["https://servedby.flashtalking.com/container/19112;123477;13378;iframe/?spotName=Desktop_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UP9cLAD$"],flashtalking_m_login:["https://servedby.flashtalking.com/container/19112;123460;13378;iframe/?spotName=Mobile_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-dZEP4zq$"],flashtalking_d_reg:["https://servedby.flashtalking.com/container/19112;123459;13378;iframe/?spotName=Desktop_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-bBBO_93$"],flashtalking_m_reg:["https://servedby.flashtalking.com/container/19112;123472;13378;iframe/?spotName=Mobile_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-QIr-gzV$"],"flashtalking-bus":["https://servedby.flashtalking.com/container/19112;123475;13379;iframe/?spotName=Desktop_Business_Billing&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UtxgWP6$"],"flashtalking-first-spend-event":["https://servedby.flashtalking.com/container/19112;130299;13379;iframe/?spotName=First_Time_Spenders&U7="],"flashtalking-all-spend-event":["https://servedby.flashtalking.com/container/19112;130301;13379;iframe/?spotName=All_Spenders&U7="],"flashtalking-advertiser-rez-event":["https://servedby.flashtalking.com/container/19112;130300;13379;iframe/?spotName=Resurrected_Spenders&U7="],"flashtalking-shop-event":["https://servedby.flashtalking.com/container/19112;126331;13379;iframe/?spotName=Shopping_Advertisers&U6=&U7="],"flashtalking-catalog-feed-event":["https://servedby.flashtalking.com/container/19112;126604;13379;iframe/?spotName=Catalog_Uploads&U7="],"flashtalking-billing-complete-event":["https://servedby.flashtalking.com/container/19112;126329;13379;iframe/?spotName=Billing_Completion&U7="],"flashtalking-no-micro-catalog-feed-realtime-event":["https://servedby.flashtalking.com/container/19112;130191;13379;iframe/?spotName=No_micro_catalog_feed&U7="],"flashtalking-catalog-feed-realtime-event":["https://servedby.flashtalking.com/container/19112;130294;13379;iframe/?spotName=Catalog_Feeds&U7="],"flashtalking-catalog-feed-page-view-event":["https://servedby.flashtalking.com/container/19112;130295;13379;iframe/?spotName=Catalog_Feeds_Starting_Page_Unique_Visitors&U7="],"flashtalking-business-site-catalog-upload-click-event":["https://servedby.flashtalking.com/container/19112;130298;13379;iframe/?spotName=Catalog_Upload_Button_Click_on_Biz_Site&U7="],"flashtalking-business-site-no-micro-catalog-upload-click-event":["https://servedby.flashtalking.com/container/19112;130297;13379;iframe/?spotName=No_Micro_Catalog_Upload_Button_Click_on_Biz_Site&U7="],"flashtalking-business-site-page-view-event":["https://servedby.flashtalking.com/container/19112;130446;13379;iframe/?spotName=Biz_site_shopping_page_unique_visitors&U7="]},c=[a.pF,a.b_,a.bB,a.PL],d="flashtalking-first-spend-event",u="flashtalking-all-spend-event",_="flashtalking-advertiser-rez-event",g="flashtalking-catalog-feed-event",f="flashtalking-billing-complete-event",p=new Set([d,_,"flashtalking-shop-event",g,f,"flashtalking-no-micro-catalog-feed-realtime-event","flashtalking-catalog-feed-realtime-event","flashtalking-catalog-feed-page-view-event","flashtalking-business-site-catalog-upload-click-event","flashtalking-business-site-no-micro-catalog-upload-click-event","flashtalking-business-site-page-view-event",u]);function m(e,t=""){return p.has(e)?l[e][0]+t+"&cachebuster="+(0,s.OJ)():l[e][0]+(0,s.OJ)()+l[e][1]}function h(){for(let e of c){let t=(0,i.M0)().getItem(e);if(t){let n=(0,r.Z)({src:m(e),id:e,height:1,width:1,style:"display:none;"});if(!document.getElementById(e)){document.body?.appendChild(n);let[a,r]=t=t.split("#");(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:a,event_name:"All"}}),"All"!==r&&(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:a,event_name:r}}),(0,i.M0)().removeItem(e)}}}}function y(e,t,n,a){if(document.getElementById(e))return void h();function s(e,t,n,a){let s=(0,r.Z)({src:m(e,n),id:e,height:1,width:1,style:"display:none;"});document.getElementById(e)||(s.setAttribute("data-test-id",a),document.body?.appendChild(s),t(),h())}"complete"===document.readyState&&s(e,t,n,a),window.addEventListener("load",function e(t,n,a,r){return i=>{s(t,n,a,r),window.removeEventListener(i,e(t,n,a,r))}}(e,t,n,a))}function k(e,t,n,a){c.find(t=>t===e)?(0,i.M0)().setItem(e,`${t}#${n}`):y(e,a)}function E(e,t,n,a){"complete"===document.readyState?k(e,t,n,a):window.addEventListener("load",function e(t,n,a,r){return s=>{k(t,n,a,r),window.removeEventListener(s,e(t,n,a,r))}}(e,t,n,a))}function v(e,t){if(!e||!t||0===Object.keys(e).length)return;let n=e[t].resurrected;if(n){let e=new Date(n),a=new Date;90>=(0,s.LG)(e,a)&&y(_,()=>{(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"AdvertiserRez",event_name:"All"}})},a.toISOString().slice(0,10)+"&U8="+(0,s.TF)(s.qs,t))}}function b(e,t){if(!e||!t||0===Object.keys(e).length)return;let n=e[t].replaceAll("'",'"'),a="";try{let e=JSON.parse(n);if(e&&Object.keys(e).length>0){let{dt:t,merchant_id:n,feed_profile_ids:r}=e;if(t&&n&&r){let e=(0,s.TF)(s.qs,n);a=t+"&U8="+r+"&U9="+e}}}catch(e){(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"CatalogFeed",event_name:"ParseErrors"}})}y(g,()=>{(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"CatalogFeed",event_name:"All"}})},a)}function A(e,t){let n=new Date().toISOString().slice(0,10),a=(0,s.TF)(s.qs,e);y(f,()=>{(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"Billing",event_name:"All"}})},n+"&U8="+(0,s.TF)(s.qs,t)+"&U9="+a)}function w(e){y(d,()=>{(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"FirstSpender",event_name:"All"}})},new Date().toISOString().slice(0,10)+"&U8="+(e?(0,s.TF)(s.qs,e):""))}function N(e){y(u,()=>{(0,o.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"AllSpender",event_name:"All"}})},new Date().toISOString().slice(0,10)+"&U8="+(e?(0,s.TF)(s.qs,e):""))}},981636:function(e,t,n){n.d(t,{Z:()=>d});var a=n(686319),r=n(941404),s=n(111330),i=n(753143),o=n(185347),l=n(323469),c=n(831373);async function d(e){let t=(0,c.ZP)(),n=(0,l.wc)(),d=(0,o.R)(),u=t.length>0?t.map(({pageType:e,...t})=>t):[],_=d.map(e=>({pin_id:e.pinId,image_signature:e.imageSignature,link:e.link,domain:e.domain,ts:e.ts})),g={is_register:e??!1,unauth_visited_pages:JSON.stringify(u),unauth_searches:JSON.stringify(n),unauth_pin_clickthroughs:JSON.stringify(_)};try{let e=(await (0,a.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:g})).resource_response.error;(0,r.My)(`landing_signals.flush.${e?"failure":"success"}`)}catch(e){(0,r.My)("landing_signals.flush.caught_exception")}finally{(0,i.M0)().removeItem(s.pm),(0,i.M0)().removeItem(s.ny),(0,i.M0)().removeItem(s.Vb),(0,i.M0)().removeItem(s.Mi)}}},201845:function(e,t,n){n.d(t,{Z:()=>s});var a=n(667294),r=n(675973);function s(){let{checkExperiment:e}=(0,r.Z)();return{activatePCUnauthHoldoutExperiments:(0,a.useCallback)(()=>{e("2025_h2_pc_unauth_upsell_holdout"),e("2025_h2_pc_unauth_authentication_holdout")},[e]),userIsEligibleForShippedPCUpsellExperiment:()=>"holdout"!==e("2025_h2_pc_unauth_upsell_holdout").group,userIsEligibleForShippedPCAuthenticationExperiment:()=>"holdout"!==e("2025_h2_pc_unauth_authentication_holdout").group}}},240402:function(e,t,n){n.d(t,{Z:()=>h,l:()=>m});var a=n(281098),r=n(667294),s=n(293565),i=n(729434),o=n(201845),l=n(324845),c=n(513855),d=n(675973),u=n(15667),_=n(941404),g=n(647709),f=n(785893);let{Provider:p,getMaybe:m}=(0,i.Z)("GoogleSignInApi");function h({children:e}){(0,r.useEffect)(()=>{(0,a.Z)("GoogleSignInSDKManager","/app/packages/pinterest-authentication/GoogleSignInSDKManager.tsx")},[]);let t=(()=>{let e=(0,g.HG)(),{checkExperiment:t}=(0,d.Z)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled})(),n=(0,g.HG)(),i=(0,r.useRef)(null),m=(0,r.useRef)(new Set),h=(0,r.useRef)(new Set),y=(0,r.useRef)(null),{userIsEligibleForShippedPCAuthenticationExperiment:k}=(0,o.Z)(),E=k(),{language:v,userAgent:b}=(0,u.B)(),A=n?"dweb":"mweb",{browserName:w,platform:N}=b,S="android"!==N||!(0,s.un)(w??""),L=(0,r.useRef)(!1),V=(0,r.useCallback)(()=>{if(L.current)return;L.current=!0;let e=!1,t=()=>{let t=(0,l.Fm)();t&&(e||(e=!0,(0,c.Z)({type:"loadScript",status:"success"}),(0,c.Z)({type:"apiClient",valid:!!t}),y.current=t,(0,l.OY)({autoSelect:!0,useContinueForContext:E,useFedCMForButton:S},e=>{if((0,c.Z)({type:"response",valid:!!e}),e)if((0,_.My)(`${A}.google_sign_in.select_by.${e.select_by}`),"SIGN_IN_WITH_GOOGLE_BUTTON"===(0,l.PL)(e.select_by)){let t=Array.from(m.current),n=t[t.length-1],a=i.current;n?n(e):a&&a(e)}else i.current?.(e)}),h.current.forEach(e=>{e()}),h.current.clear()))};window.onGoogleLibraryLoad=()=>t(),(0,c.Z)({type:"loadScript",status:"start"}),(0,l.Px)(void 0,v).then(()=>{t()}).catch(()=>{})},[v,E,S,A]);(0,r.useEffect)(()=>{t?(m.current.clear(),h.current.clear()):V()},[t,V]);let U=(0,r.useRef)({ensureInit:(e,t)=>(V(),"button"===e?m.current.add(t):i.current=t,new Promise(e=>{y.current?e(void 0):h.current.add(e)})),removeButtonCallback:e=>{m.current.delete(e)}});return(0,f.jsx)(p,{value:U.current,children:e})}},513855:function(e,t,n){n.d(t,{Z:()=>l});var a=n(327613),r=n(941404);let s=e=>(0,r.dy)({event:e,provider:"google"}),i=e=>(0,a.RP)("google_autologin",e),o=e=>(0,a.M3)("google_autologin",e),l=e=>{switch(e.type){case"loadScript":"start"===e.status?(s("start"),s("load_script_start"),o("autoLoginGoogleStart")):"success"===e.status?s("load_script_success"):s("load_script_failure");break;case"apiClient":e.valid?(s("initialize_library"),o("autoLoginGoogleInitEnd")):(i("noAccountFound"),s("global_object_not_found"));break;case"response":e.valid?(s("receive_credential_response_from_provider"),(0,r.EX)({event:"receive_credential_response_from_provider",provider:"google"})):(i("noResponse"),(0,r.EX)({event:"receive_no_credential_response_from_provider",provider:"google"}));break;case"autologin":"start"===e.status?(s("pinterest_login_start"),(0,r.NC)("press_google_one_tap_other"),(0,a.M3)("google_autologin","autoLoginGoogleEnd"),(0,a.PA)("google_autologin")):("success"===e.status?s("pinterest_login_success"):s("pinterest_login_failure"),s("end"));break;case"manualLoginAttempt":(0,r.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,a.PA)("google_autologin")}}},154796:function(e,t,n){n.d(t,{Z:()=>s});var a=n(667294),r=n(675973);let s=()=>{let e=(0,r.Z)();return(0,a.useCallback)(()=>{e.flush()},[e])}},68290:function(e,t,n){n.d(t,{Z:()=>a});function a(e){let t=document.createElement("iframe");for(let n in e)t.setAttribute(n,e[n]);return t}},450978:function(e,t,n){n.d(t,{JB:()=>_,LG:()=>d,OJ:()=>o,TF:()=>c,ko:()=>u,qs:()=>l});var a=n(111330),r=n(227427),s=n(785807);let i={NewUsers:{Flashtalking:{Mobile:a.PL,Desktop:a.bB}},Logins:{Flashtalking:{Mobile:a.b_,Desktop:a.pF}}},o=()=>(1e6*Math.random()).toString(),l="pbm_shopping_bespoke",c=(e,t)=>{let n=e=>e.split("").map(e=>e.charCodeAt(0));return n(t).map(t=>n(e).reduce((e,t)=>e^t,t)).map(e=>("0"+Number(e).toString(16)).substr(-2)).join("")},d=(e,t)=>{let n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-n)/864e5)},u=({eventCategory:e,deviceType:t,country:n,countryFromHostName:a,countryFromIp:o,regionFromIp:l})=>{!("undefined"!=typeof window&&window.navigator&&window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl)&&(0,r.$)({country:n,countryFromHostName:a,countryFromIp:o,regionFromIp:l})&&(0,s.jw)({id:i[e].Flashtalking[t],eventCategory:e,eventName:t})};function _(e,t,n,a){(0,r.$)({country:e,countryFromHostName:t,countryFromIp:n,regionFromIp:a})&&(0,s.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"})}},227427:function(e,t,n){function a(e){if(e){let{country:t}=e,{countryFromHostName:n}=e,{countryFromIp:a}=e,{regionFromIp:r}=e,{isBot:s}=e;if(("US"===t||"GB"===t||"US"===n||"GB"===n||"US"===a||"GB"===a)&&"CA"!==r&&(!s||"false"===s))return!0}return!1}function r(e){return 1===e||2===e||3===e||7===e||10===e||34===e||"US"===e||"GB"===e||"CA"===e||"FR"===e||"DE"===e||"BR"===e||!1}n.d(t,{$:()=>a,H:()=>r})},785807:function(e,t,n){n.d(t,{jw:()=>c,Kv:()=>l,Um:()=>i,jO:()=>o});var a=n(462478),r=n(356075),s=n(603316);function i(){(0,a.W)(),(0,a.Z)("PageView",()=>{(0,s.nP)("fb_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}})}),(0,a.Z)("ViewContent",()=>{(0,s.nP)("fb_tracking_pixel",{sampleRate:1,tags:{event_category:"ViewContent",event_name:"AuthViews"}})})}function o(e){if(e){let{pixelBlocked:n}=e;function t(){if(n)return;let e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=AW-819016158";let t="gtag-id-1";function a(){window.dataLayer.push(arguments)}e.id=t,e.async=!0,document.getElementById(t)||document.body.insertBefore(e,document.body.firstChild),window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","AW-819016158"),a("event","page_view",{send_to:"AW-819016158"})}"complete"===document.readyState&&t(),window.addEventListener("load",t)}}function l(e){if(e){let{id:t}=e,{eventName:n}=e;t&&n&&(0,r.VC)(t,()=>{(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}}),(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:n}})})}}function c(e){if(!e)return;let{id:t}=e,{eventCategory:n}=e,{eventName:a}=e;t&&n&&a&&(0,r.Rs)(t,n,a,()=>{(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:n,event_name:"All"}}),"All"!==a&&(0,s.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:n,event_name:a}})})}},79077:function(e,t,n){n.d(t,{Z:()=>i});var a=n(667294),r=n(507282),s=n(941404);function i(){return(0,a.useCallback)(e=>{e.action&&e.event?(0,s.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,r.Z)()}):(0,s.My)("pinner_conversion.missing_tags")},[])}},707353:function(e,t,n){n.d(t,{AA:()=>u,iE:()=>m,yp:()=>p});var a=n(667294),r=n(980787),s=n(729434),i=n(657043),o=n(686319),l=n(15667),c=n(603316),d=n(785893);let u={LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"},_={0:"US_FL_SIGNUP_CONSENT",1:"KR_SIGNUP_CONSENT",2:"IT_SIGNUP_CONSENT"},g=e=>_[e],{Provider:f,useHook:p}=(0,s.Z)("ComplianceManager"),m=({children:e})=>{let t=(0,a.useRef)(!1),{isBot:n}=(0,l.B)(),{logContextEvent:s}=(0,r.u)(),[_,p]=(0,a.useState)({state:u.LOADING}),m=(0,a.useCallback)(async({viewType:e})=>{try{if(n)return void p({state:u.ERROR});let t=performance.now(),a=await (0,o.Z)({url:"/v3/compliance_requirements/",callOptions:{timeout:3e3}});if(a.resource_response.data){let{requirements:n}=a.resource_response.data,r=n.map(e=>g(e)),i=performance.now();e&&s({view_type:e,event_type:16679,aux_data:{time_in_ms:i-t,compliance_requirements:r.toString()}}),p({state:u.LOADED,requirements:n})}}catch(n){let t=(0,i.Z)(n,"message_detail")||(0,i.Z)(n,"message")||"";e&&("timeout"===(0,i.Z)(n,"type")?s({view_type:e,event_type:16681}):s({view_type:e,event_type:16680,aux_data:{status_code:(0,i.Z)(n,"httpStatus")||"-1",api_error_code:(0,i.Z)(n,"api_error_code")||"-1"}})),(0,c.nP)("complianceManager.fetchConfiguration.failure",{sampleRate:1,tags:{errorMessage:t,httpStatus:(0,i.Z)(n,"httpStatus")||"",apiErrorCode:(0,i.Z)(n,"api_error_code")||"",errorCode:(0,i.Z)(n,"code")||"",type:(0,i.Z)(n,"type")}}),p({state:u.ERROR})}},[n,!0,s]),h=(0,a.useCallback)(({requirement:e,viewType:t})=>{t&&s({event_type:16682,view_type:t,aux_data:{feature_key:g(e)}})},[!0,s]),y=(0,a.useCallback)(({requirementEnum:e,viewType:n})=>{switch(_.state===u.LOADING&&!t.current&&(t.current=!0,m({viewType:n})),_.state){case u.LOADED:return _.requirements.includes(e);case u.LOADING:case u.ERROR:default:return h({requirement:e,viewType:n}),!1}},[_,m,h]),k=(0,a.useMemo)(()=>({state:_.state,isRequirementEnabled:y}),[_.state,y]);return(0,d.jsx)(f,{value:k,children:e})}},547362:function(e,t,n){n.d(t,{C:()=>i,O:()=>s});var a=n(111330),r=n(753143);let s=()=>(0,r.M0)().getItem(a.Mi)??"",i=e=>{(0,r.M0)().setItem(a.Mi,e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/95-6597090a123baa43.mjs.map