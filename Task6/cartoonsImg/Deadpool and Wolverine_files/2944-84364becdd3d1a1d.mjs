(self.modernJsonp=self.modernJsonp||[]).push([["2944"],{608747:function(e,a,l){var t,o;l.r(a),l.d(a,{default:()=>n});let r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:o},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};r.hash="7005ce437a6a6ff33741ab44aa02cf61";let n=r},479699:function(e,a,l){var t,o;l.r(a),l.d(a,{default:()=>n});let r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:o},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};r.hash="40ae8061007ba5f53a4570e43e4ca864";let n=r},296485:function(e,a,l){var t,o,r,n;l.r(a),l.d(a,{default:()=>s});let i={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"ban"},o={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:n=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,r,t],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:n},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};i.hash="c62e5df78917dd238b70f366f358d487";let s=i},579965:function(e,a,l){var t,o,r,n,i,s,d,c;l.r(a),l.d(a,{default:()=>h});let u={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},c],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};u.hash="2c3e1508650962adfff1171e950fa419";let h=u},336997:function(e,a,l){var t,o,r,n,i,s,d,c,u,h;l.r(a),l.d(a,{default:()=>_});let m=(t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],o=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},h=[n,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:i,storageKey:null},s,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:h,storageKey:null},s,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:h,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});m.hash="9aa22a7713214239538142ad2c957cc3";let _=m},868455:function(e,a,l){var t,o;l.r(a),l.d(a,{default:()=>n});let r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_emails_Mutation",selections:o},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};r.hash="de392a939a95d05f7ee889fe77a9e52d";let n=r},800679:function(e,a,l){var t,o,r,n;l.r(a),l.d(a,{default:()=>s});let i={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"boardId"},o={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},r={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:n=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,t,r],kind:"Operation",name:"collab_users_Mutation",selections:n},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};i.hash="850c5de9834cac0edfdd5652a78bffbf";let s=i},10594:function(e,a,l){l.d(a,{Z:()=>t});let t=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e})},10423:function(e,a,l){l.d(a,{Z:()=>r});let t=function(e,a){this.uid=e,this.item=a,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,a){let l=this._uidToData[e];l||(l=new t(e,a),this._uidToData[e]=l,this._numItems+=1),this._moveToFront(l),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){let a=this._uidToData[e];return a?(this._moveToFront(a),a.item):null},o.prototype.remove=function(e){let a=this._uidToData[e];a&&(delete this._uidToData[e],this._firstData===a&&(this._firstData=a.next),this._lastData===a&&(this._lastData=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let r=o},10972:function(e,a,l){l.d(a,{Z:()=>r});var t=l(667294),o=l(490193);function r({allowSearchOnMount:e,children:a,onTypeaheadSuggestionsChange:l,resourceName:r,resourceOptions:n,value:i}){let s=(0,o.Z)({allowSearchOnMount:e,resourceName:r,resourceOptions:n,value:i});return(0,t.useEffect)(()=>{s?.length&&l(s)},[s]),a||null}},490193:function(e,a,l){l.d(a,{Z:()=>n});var t=l(667294),o=l(10423),r=l(791948);function n({allowSearchOnMount:e=!1,resourceName:a,resourceOptions:l={},value:n}){let i=(0,t.useRef)(!1),s=(0,t.useRef)({}),[d,c]=(0,t.useState)([]),u=function({resourceName:e,resourceOptions:a}){let l=(0,r.vL)(),n=(0,t.useRef)(void 0);return n.current||(n.current=function({resourceCreator:e,resourceName:a,resourceOptions:l}){let t=e(a,{...l,count:"count"in l?l.count:5}),r=new o.Z,n=()=>{t.abort()},i=async(e,a)=>{if(t.isCalling()){let l=t.options?.term,o=t.options?.pin_scope;if(e===l&&a===o)return;n()}let{bookmarks:l,...o}=t.options||{};t.options={...o,term:e,pin_scope:a};let{data:i}=(await t.callGet({showError:!1})).resource_response,s=i?.items,d=i?.hint||{};return r.set(`${a}-${e}`,{hint:d,items:s}),{term:e,items:s,hint:d}};return async function(e,a){let l=r.get(`${a}-${e}`);if(l){let{items:a}=l;if(a&&a.length){n();let{hint:t}=l;return{hint:t,items:a,term:e}}}return e.length>=0?i(e,a):{hint:{},items:[],term:e}}}({resourceCreator:l,resourceName:e,resourceOptions:a})),n.current}({resourceName:a,resourceOptions:l}),h=l.pin_scope||"pins",m=`${h}-${n}`;return(0,t.useEffect)(()=>{(async()=>{if(null!=n&&""!==n&&(e||i.current))if(m in s.current)c(s.current[m]);else try{let e=await u(n,h);if(e){let{items:a}=e;s.current[m]=a,c(a)}}catch(e){if("Resource call aborted"===e)return;throw e}i.current||(i.current=!0)})()},[n,h,m]),d}},277454:function(e,a,l){l.d(a,{Z:()=>o});let t=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,o=e=>t.test(e)},742723:function(e,a,l){l.d(a,{Z:()=>c,l:()=>d});var t=l(667294),o=l(10594),r=l(15667),n=l(968842),i=l(821651),s=l(448505);let d=(0,t.createContext)(void 0),c=function(){let{advertiser:e}=(0,r.B)(),a=function(){let{isSterlingSite:e}=(0,o.Z)((0,n.Z)());return(0,t.useContext)(d)??e}(),l=(0,s.Z)(),c=((0,i.W)()?.profiles||[]).find(a=>a?.id===e?.owner_user_id);return a&&c||l}},947810:function(e,a,l){l.d(a,{Z:()=>n});var t=l(821342),o=l(448505),r=l(7872);let n=()=>{let e=(0,t.Z)(),a=(0,o.Z)();return(0,r.lJ)(e,a)}},333002:function(e,a,l){l.d(a,{Z:()=>u});var t=l(281098),o=l(667294),r=l(20256),n=l(744862),i=l(821342),s=l(19585),d=l(785893);function c({collaborator:e,isSelected:a,onToggle:l}){(0,o.useEffect)(()=>{(0,t.Z)("CollaboratorItem","/app/www/BoardCreate/AddCollaborators/CollaboratorItem.tsx")},[]);let c=(0,s.ZP)(),u=(0,i.Z)(),h=u.isAuth?u?.avatar_color_index:void 0;return(0,d.jsxs)(r.kC,{children:[(0,d.jsxs)(r.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,d.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,d.jsx)(r.JO,{accessibilityLabel:c._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,d.jsx)(r.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,d.jsx)(n.qE,{color:h,name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,d.jsx)(r.kC,{alignItems:"center",children:(0,d.jsx)(r.xu,{children:(0,d.jsx)(r.xv,{size:"300",children:e.id})})}):(0,d.jsxs)(r.kC,{direction:"column",justifyContent:"center",children:[(0,d.jsx)(r.xu,{marginBottom:1,tabIndex:0,children:(0,d.jsx)(r.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,d.jsx)(r.xu,{tabIndex:0,children:(0,d.jsx)(r.xv,{size:"200",children:`@${e.username||""}`})})]})]}),(0,d.jsx)(r.kC,{flex:"none",children:(0,d.jsx)(r.zx,{onClick:()=>l(e),selected:a,size:"lg",text:a?c._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):c._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]})}function u({contacts:e,selectedContactIds:a,onCollaboratorToggle:l,itemPadding:n=2}){return(0,o.useEffect)(()=>{(0,t.Z)("CollaboratorList","/app/www/BoardCreate/AddCollaborators/CollaboratorList.tsx")},[]),(0,d.jsx)(o.Fragment,{children:e.map(e=>(0,d.jsx)(r.xu,{paddingY:n,children:(0,d.jsx)(c,{collaborator:e,isSelected:a.includes(e.id),onToggle:l})},e.id))})}},167168:function(e,a,l){l.d(a,{Z:()=>d});var t=l(281098),o=l(667294),r=l(20256),n=l(19585),i=l(10972),s=l(785893);function d({searchValue:e,onSearchChange:a,onTypeaheadSuggestionsChange:l}){(0,o.useEffect)(()=>{(0,t.Z)("CollaboratorSearch","/app/www/BoardCreate/AddCollaborators/CollaboratorSearch.tsx")},[]);let d=(0,n.ZP)();return(0,s.jsx)(i.Z,{onTypeaheadSuggestionsChange:l,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,s.jsx)(r.Um,{accessibilityLabel:d._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:a,placeholder:d._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:e})})}},673539:function(e,a,l){l.d(a,{Z:()=>n});var t=l(667294),o=l(886981),r=l(277454);function n({selectedContacts:e,onSelectedContactsChange:a}){let{data:l}=(0,o.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[n,i]=(0,t.useState)([]),[s,d]=(0,t.useState)("");(0,t.useEffect)(()=>{l&&i(l.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[l]);let c=e.map(e=>e.id),u=[...e,(0,r.Z)(s)&&!c.includes(s)?{id:s,type:"email"}:null,...n.filter(e=>!c.includes(e.id))].filter(Boolean);return{searchValue:s,allContacts:u,handleTextFieldChange:({value:e})=>{d(e)},handleTypeaheadSuggestionsChange:e=>{i(e)},handleCollaboratorClick:l=>{c.includes(l.id)?a?.((e||[]).filter(e=>e.id!==l.id)):a?.([...e,l])}}}},789302:function(e,a,l){l.d(a,{Z:()=>v});var t=l(281098),o=l(667294),r=l(581722),n=l(20256),i=l(918920),s=l(821342),d=l(19585),c=l(675973),u=l(742723),h=l(7872),m=l(931267),_=l(415602),b=l(890774),g=l(785893);function p(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}class f extends o.Component{constructor(...e){super(...e),p(this,"handleSubmit",e=>{let{advertiserId:a,boardCreateSource:l,createBoard:t,onBoardCreate:o,viewer:r,orbacActingAs:n,shouldShowAddCollaborators:i,handleInviteSelectedCollaborators:s}=this.props,d=(0,h.lJ)(r,n),{name:c,description:u,privacy:m,collab_board_email:_,collaborator_invites_enabled:b}=e;return t({boardCreateOptions:{name:c,description:u,privacy:m,collab_board_email:_,collaborator_invites_enabled:b,aux_data:{source:l},...a?{advertiser_id:a}:{},...d?{orbac_subject_id:d}:Object.freeze({})}}).then(e=>{i&&s(e.id),o(e)})}),p(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,h.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}render(){let{advertiserId:e,isAdAccountOwner:a,i18n:l,onClose:t,privacy:o,useModalWithNoLayer:r,showSecretBoardCreateToggle:s,shouldShowAddCollaborators:d,setSelectedContacts:c,selectedContacts:u,shouldUseOverlayPanel:_,orbacActingAs:b,viewer:p}=this.props,f=(0,h.lJ)(p,b),v=l._('Create board', 'BoardCreate.BoardCreate', 'Modal heading');return(0,g.jsx)(m.Z,{board:{...this.emptyBoardData,...{privacy:a?o:i.ZP.BoardPrivacy.PROTECTED}},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:a,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,isProfilePublisher:!!f,onClose:t,onSubmit:this.handleSubmit,overlayPanelHeadingText:v,selectedContacts:u,setSelectedContacts:c,shouldShowAddCollaborators:d,shouldUseOverlayPanel:_,showSecretBoardCreateToggle:s,submitText:this.props.i18n._('Create', ' - ', ' -- '),title:(0,g.jsx)(n.xu,{paddingY:8,width:"100%",children:(0,g.jsx)(n.X6,{align:"center",size:"600",children:v})}),useModalWithNoLayer:r})}}function v(e){(0,o.useEffect)(()=>{(0,t.Z)("BoardCreate","/app/www/BoardCreate/BoardCreate.tsx")},[]);let a=(0,b.Z)(),l=(0,d.ZP)(),{checkExperiment:n}=(0,c.Z)(),i=(0,s.Z)(),h=(0,r.v9)(({advertiser:e})=>e?e.id:void 0),m=(0,u.Z)(),p=(0,r.v9)(({advertiser:e})=>!e||i.isAuth&&e.owner_user_id===i.id),v=(0,_.zC)(),y=(0,_.DK)(),[C,x]=(0,o.useState)([]);return(0,g.jsx)(f,{...e,advertiserId:h,createBoard:a,dispatch:(0,r.I0)(),handleInviteSelectedCollaborators:e=>{let a=C.filter(e=>"email"===e.type||"email_share_suggestion"===e.type),l=C.filter(e=>"user"===e.type||"user_share_suggestion"===e.type);l.length>0&&y(e,l.map(e=>e.id)),a.length>0&&v(e,a.map(e=>e.id))},i18n:l,isAdAccountOwner:p,orbacActingAs:m,selectedContacts:C,setSelectedContacts:x,shouldUseOverlayPanel:n("web_board_create_overlay_panel").anyEnabled,viewer:i})}p(f,"defaultProps",{privacy:i.ZP.BoardPrivacy.PUBLIC})},931267:function(e,a,l){l.d(a,{Z:()=>X});var t=l(281098),o=l(667294),r=l(20256),n=l(657043),i=l(982166),s=l(678213),d=l(19585),c=l(302148),u=l(675973),h=l(15667),m=l(782259),_=l(87853),b=l(647709),g=l(640924),p=l(271597),f=l(333002),v=l(167168),y=l(673539),C=l(785893);function x({selectedContacts:e=[],setSelectedContacts:a}){(0,o.useEffect)(()=>{(0,t.Z)("BoardCreateAddCollaborators","/app/www/BoardCreate/BoardCreateAddCollaborators.tsx")},[]);let l=(0,d.ZP)(),{searchValue:n,allContacts:i,handleTextFieldChange:s,handleTypeaheadSuggestionsChange:c,handleCollaboratorClick:u}=(0,y.Z)({selectedContacts:e||[],onSelectedContactsChange:a||(()=>{})}),h=e.map(e=>e.id);return(0,C.jsxs)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,C.jsx)(r.xu,{paddingY:2,children:(0,C.jsx)(r.xv,{size:"100",children:l._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,C.jsx)(r.xu,{marginBottom:4,marginTop:2,children:(0,C.jsx)(v.Z,{onSearchChange:s,onTypeaheadSuggestionsChange:c,searchValue:n})}),(0,C.jsx)(f.Z,{contacts:i,itemPadding:2,onCollaboratorToggle:u,selectedContactIds:h})]})}var k=l(476482),B=l(509120);let F=({label:e,labelId:a})=>a?(0,C.jsx)(r.__,{htmlFor:a,children:(0,C.jsx)(r.xv,{size:"100",children:e})}):(0,C.jsx)(o.Fragment,{children:e});function w(e){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormRow","/app/www/BoardForm/BoardFormRow.tsx")},[]);let{children:a,label:l,labelId:n}=e;return(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)(r.xu,{marginBottom:2,children:(0,C.jsx)(F,{label:l,labelId:n})}),a]})}function P({coverPin:e,handleShowBoardCoverEditModal:a}){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormBoardCoverButton","/app/www/BoardForm/BoardFormBoardCoverButton.tsx")},[]);let l=(0,d.ZP)(),[n,i]=(0,o.useState)(!1),{isRTL:s}=(0,h.B)();return(0,C.jsx)(w,{label:(0,C.jsx)(r.X6,{accessibilityLevel:3,size:"100",children:(0,C.jsx)(r.xv,{inline:!0,size:"100",children:l._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover')})}),children:(0,C.jsx)(r.xu,{position:"relative",width:138,children:(0,C.jsx)(r.iP,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onTap:a,rounding:4,children:e?.custom_cover?(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)(r.zd,{height:138,rounding:4,width:138,children:(0,C.jsx)(B.Z,{alt:e.image_url,color:"gray",customCover:e.custom_cover,height:138,imgPos:function(e){let{crop:a,size:l}=e||{};if(Array.isArray(a)&&Array.isArray(l))return{x:a[0]||0,y:a[1]||0,width:l[0]||0,height:l[1]||0}}(e),imgUrl:e.image_url||"",renderAsImage:!0,width:138})}),(0,C.jsx)(r.xu,{bottom:!0,left:s,padding:2,position:"absolute",right:!s,children:(0,C.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:n?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,C.jsx)(r.JO,{accessibilityLabel:l._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,C.jsx)(r.xu,{alignItems:"center",color:n?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,C.jsx)(r.JO,{accessibilityLabel:l._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function j({children:e,label:a,labelId:l,subtext:n}){return(0,o.useEffect)(()=>{(0,t.Z)("BoardFormSettingsRow","/app/www/BoardForm/BoardFormSettingsRow.tsx")},[]),(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginBottom:10,children:[e,(0,C.jsxs)(r.xu,{marginStart:2,children:[(0,C.jsx)(r.__,{htmlFor:l,children:(0,C.jsx)(r.xv,{size:"300",weight:"bold",children:a})}),n]})]})})}function A({hasCollabBoardEmail:e,isCollaborative:a,onCheckboxChange:l}){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormCollaboratorsEmailCheckbox","/app/www/BoardForm/BoardFormCollaboratorsEmailCheckbox.tsx")},[]);let n=(0,d.ZP)();return a&&(0,C.jsx)(j,{label:n._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,C.jsx)(r.xv,{color:"subtle",size:"300",children:n._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,C.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,C.jsx)(r.xu,{marginEnd:1,children:(0,C.jsx)(r.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:l})})})})}var E=l(734263),I=l(812577);function z({board:e,onCollaboratorInviteClick:a}){(0,o.useEffect)(()=>{(0,t.Z)("BoardCollaboratorsAndInviteSection","/app/www/boardEdit/BoardCollaboratorsAndInviteSection.tsx")},[]);let l=(0,d.ZP)(),n=(0,I.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),i=n.slice(0,3).map(e=>e.name),s="";switch(n.length){case 3:s=(0,c.Wc)(`${l._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${i[0]}`,second:`${i[1]}`,last:`${i[2]}`});break;case 2:s=(0,c.Wc)(`${l._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${i[0]}`,second:`${i[1]}`});break;default:s=i.join(", ")}let u=n.length>3?(0,c.Wc)(l.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', n.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:s,leftCount:`${n.length-3}`}):(0,c.Wc)(`${l._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:s});return(0,C.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,C.jsx)(r.HE,{accessibilityLabel:u,collaborators:n.map(({name:e,src:a,color:l})=>({src:a?.endsWith("/default_75.png")?void 0:a,name:e,color:l})),size:"md"}),(0,C.jsx)(r.hU,{accessibilityLabel:l._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:a,size:"lg"})]})}function S({board:e,onCollaboratorInviteClick:a}){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormCollaboratorsInviteList","/app/www/BoardForm/BoardFormCollaboratorsInviteList.tsx")},[]);let l=(0,d.ZP)(),n=(0,C.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,C.jsx)(r.X6,{accessibilityLevel:3,size:"100",children:(0,C.jsx)(r.xv,{inline:!0,size:"100",children:l._('Collaborators', ' - ', ' -- ')})}),(0,C.jsx)(E.Z,{}),(0,C.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:(0,C.jsx)(r.rU,{accessibilityLabel:l._('Learn more about creating and managing group boards.', 'BoardForm.BoardFormCollaboratorsInviteList', 'Accessibility label for link to learn more about group boards'),display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:l._('Learn more', ' - ', ' -- ')})})]});return(0,C.jsx)(w,{label:n,children:(0,C.jsx)(z,{board:e,onCollaboratorInviteClick:a})})}function T({collaboratorInvitesEnabled:e,isCollaborative:a,onCheckboxChange:l}){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormCollaboratorsInviteToggle","/app/www/BoardForm/BoardFormCollaboratorsInviteToggle.tsx")},[]);let n=(0,d.ZP)();return a&&(0,C.jsx)(j,{label:n._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,C.jsx)(r.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:l})})}function D({description:e,descriptionValidatorErrors:a,onChange:l}){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormDescription","/app/www/BoardForm/BoardFormDescription.tsx")},[]);let n=(0,d.ZP)(),i="boardEditDescription";return(0,C.jsx)(w,{label:n._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:i,children:(0,C.jsx)(r.Kx,{errorMessage:a.join(", "),id:i,name:"description",onChange:l,placeholder:n._('What\'s your board about?', ' - ', ' -- '),value:e})})}let L=({children:e})=>((0,o.useEffect)(()=>{(0,t.Z)("BoardFormList","/app/www/BoardForm/BoardFormList.tsx")},[]),(0,C.jsx)(r.xu,{paddingX:8,role:"list",children:o.Children.map(e,(a,l)=>a&&(0,C.jsx)(r.xu,{marginBottom:l===o.Children.count(e)-1?1:8,role:"listitem",children:a},l))}));function Z({name:e,nameValidatorErrors:a,onChange:l,disabled:n}){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormTitleInput","/app/www/BoardForm/BoardFormTitleInput.tsx")},[]);let i=(0,d.ZP)();return(0,C.jsx)(w,{label:i._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,C.jsx)(r.nv,{disabled:n,errorMessage:a.join(", "),id:"boardEditName",name:"boardName",onChange:l,placeholder:i._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}let K=({board:e,collabBoardEmail:a,collaboratorInvitesEnabled:l,coverPin:n,currentUserIsOwner:i,description:s,descriptionValidatorErrors:c,handleBoardLeave:u,isCollaborative:h,showCoverEdit:m,name:_,nameValidatorErrors:b,handleShowBoardCoverEditModal:g,handleChangeName:p,handleChangeDescription:f,handleShowCollaboratorsModal:v,handleChangeCollabBoardEmail:y,handleChangeCollaboratorInvitesEnabled:x,shouldShowCollaboratorsInviteToggle:k})=>{(0,o.useEffect)(()=>{(0,t.Z)("AdsOnlyBoardFormFields","/app/www/BoardForm/AdsOnlyBoardFormFields.tsx")},[]);let B=(0,d.ZP)();return(0,C.jsxs)(L,{children:[m&&(0,C.jsx)(P,{coverPin:n,handleShowBoardCoverEditModal:g}),(0,C.jsx)(Z,{disabled:!0,name:_,nameValidatorErrors:b,onChange:p}),(0,C.jsx)(D,{description:s,descriptionValidatorErrors:c,onChange:f}),i&&!!u&&(0,C.jsx)(S,{board:e,onCollaboratorInviteClick:v}),h&&(0,C.jsx)(r.xu,{marginBottom:-7,children:(0,C.jsx)(r.xv,{size:"100",children:B._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,C.jsx)(A,{hasCollabBoardEmail:a,isCollaborative:h,onCheckboxChange:y}),k&&(0,C.jsx)(T,{collaboratorInvitesEnabled:l,isCollaborative:h,onCheckboxChange:x})]})};var R=l(918920);function M({isProtectedToggler:e,isToggleDisable:a,onChange:l,onCheckboxChange:n,privacy:i}){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormPrivacyToggle","/app/www/BoardForm/BoardFormPrivacyToggle.tsx")},[]);let s=(0,d.ZP)();if(!0===e)return(0,C.jsx)(j,{label:s._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,C.jsx)(r.xu,{paddingY:2,children:(0,C.jsx)(r.rs,{disabled:a,id:"protected",onChange:l,switched:i===R.ZP.BoardPrivacy.PROTECTED})})});if(i!==R.ZP.BoardPrivacy.PROTECTED){let e=s._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),l=(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(r.xv,{color:"subtle",inline:!0,size:"300",children:[s._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,C.jsx)(r.rU,{accessibilityLabel:s._('Learn more about secret boards.', 'BoardForm.BoardFormPrivacyToggle.Link', 'Accessibility label for link to learn more about secret boards'),display:"inline",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",children:s._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,C.jsx)(j,{label:e,labelId:"secret",subtext:l,children:(0,C.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,C.jsx)(r.XZ,{checked:i===R.ZP.BoardPrivacy.SECRET,disabled:a,id:"secret",name:"secret",onChange:n})})})}return null}function O({allowHomefeedRecommendations:e,onCheckboxChange:a}){(0,o.useEffect)(()=>{(0,t.Z)("BoardFormRecommendationToggle","/app/www/BoardForm/BoardFormRecommendationToggle.tsx")},[]);let l=(0,d.ZP)();return(0,C.jsx)(j,{label:l._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,C.jsx)(r.xv,{color:"subtle",size:"300",children:l._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,C.jsx)(r.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:a})})}var V=l(556811);function N(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let U=(0,o.lazy)(()=>Promise.all([l.e("25418"),l.e("98114")]).then(l.bind(l,284484))),$=(0,o.lazy)(()=>Promise.all([l.e("29670"),l.e("52626")]).then(l.bind(l,826654))),H=({condition:e,children:a})=>e?(0,C.jsx)(r.xu,{position:"absolute",zIndex:s.b7,children:a}):a;class q extends o.Component{constructor(e){super(e),N(this,"handleChangeName",({value:e})=>{let a=(0,g.FU)((0,V.D)(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:a})}),N(this,"handleChangeDescription",({value:e})=>{let a=(0,g.FU)((0,V.e)(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:a})}),N(this,"handleChangePrivacyToggle",({value:e})=>{let a="public";e&&(a=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==a&&this.setState({privacy:a})}),N(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),N(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),N(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),N(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),N(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),N(this,"handleCheckboxChange",e=>({event:a,checked:l})=>e({event:a,value:l})),N(this,"handleSubmit",e=>{let{onSubmit:a,shouldShowCollaboratorsInviteToggle:l}=this.props,{collab_board_email:t,collaboratorInvitesEnabled:o,description:r,name:i,privacy:s,allowHomefeedRecommendations:d}=this.state;if("preventDefault"in e&&e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let c=i.trim(),u=r.trim();this.setState({submitting:!0,submitError:""}),a(l?{name:c,collab_board_email:t,collaborator_invites_enabled:o,description:u,privacy:s,allow_homefeed_recommendations:d}:{name:c,collab_board_email:t,description:u,privacy:s,allow_homefeed_recommendations:d}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let a=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- '),l=(0,n.Z)(e,"message");if(l){let t=(0,n.Z)(e,"message_detail");a=t?`${l} ${t}`:l}else"string"==typeof e&&(a=e);this.setState({submitting:!1,submitError:a})})}),N(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),N(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),N(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),N(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),N(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:a}=this.props;a&&a(e)});let{board:{collab_board_email:a,collaborator_invites_enabled:l,description:t,name:o,pin_count:r,privacy:i,allow_homefeed_recommendations:s}}=e;this.state={collab_board_email:a,description:t,name:o,pin_count:r,privacy:i,allowHomefeedRecommendations:s,collaboratorInvitesEnabled:l,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:o,previousDescription:t,previousPrivacy:i}}static getDerivedStateFromProps(e,a){let l={};return e.board.name&&e.board.name!==a.previousName&&(l.previousName=e.board.name,l.nameValidatorErrors=(0,g.FU)((0,V.D)(e.i18n),e.board.name)),e.board.description&&e.board.description!==a.previousDescription&&(l.previousDescription=e.board.description,l.descriptionValidatorErrors=(0,g.FU)((0,V.e)(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==a.previousPrivacy&&(l.previousPrivacy=e.board.privacy),l}getFormFooter(){let{submitText:e}=this.props,{submitError:a}=this.state;return(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)(r.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,C.jsx)(r.xu,{children:(0,C.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,C.jsx)(r.xu,{height:48,children:(0,C.jsx)(r.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),a&&(0,C.jsx)(r.xu,{"aria-live":"polite",paddingX:1,tabIndex:0,children:(0,C.jsx)(r.xv,{color:"error",children:a})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:a,nameValidatorErrors:l,submitting:t}=this.state;return!a||l.length>0||e.length>0||t}render(){let{board:e,board:{archived_by_me_at:a,cover_pin:l,id:t,is_collaborative:n},coverImageHeight:d,coverImageWidth:u,currentUserIsOwner:h,handleBoardLeave:_,isAdAccount:b,isAdAccountOwner:g,isDeletable:f,isDesktop:v,isEditable:y,isNameAndSecretView:B,onClose:F,onDeleteButtonClick:w,requestContext:j,title:E,useModalWithNoLayer:I,showSecretBoardCreateToggle:z,shouldShowAddCollaborators:R,shouldShowCollaboratorsInviteToggle:V,setSelectedContacts:N,selectedContacts:q,isProfilePublisher:X,shouldUseOverlayPanel:W}=this.props,{allowHomefeedRecommendations:J,collab_board_email:G,collaboratorInvitesEnabled:Y,description:Q,descriptionValidatorErrors:ee,name:ea,nameValidatorErrors:el,pin_count:et,privacy:eo,showBoardCoverEdit:er,showCollaboratorsModal:en,showSecretConfirmation:ei}=this.state,es=y&&et>0,ed=e.is_ads_only,ec=(0,C.jsxs)(L,{children:[es&&(0,C.jsx)(P,{coverPin:l,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,C.jsx)(Z,{disabled:ed,name:ea,nameValidatorErrors:el,onChange:this.handleChangeName}),(0,C.jsx)(D,{description:Q,descriptionValidatorErrors:ee,onChange:this.handleChangeDescription}),h&&!!_&&(0,C.jsx)(S,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,C.jsxs)(r.pg,{legend:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form'),children:[(0,C.jsx)(M,{isProtectedToggler:!!b,isToggleDisable:!!b&&!g&&!X,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:eo}),!a&&(0,C.jsx)(O,{allowHomefeedRecommendations:J,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,C.jsx)(A,{hasCollabBoardEmail:G,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),V&&(0,C.jsx)(T,{collaboratorInvitesEnabled:Y,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)})]}),f&&(0,C.jsxs)(r.xu,{marginTop:-15,paddingY:4,children:[(0,C.jsx)(r.X6,{accessibilityLevel:3,size:"100",children:(0,C.jsx)(r.xv,{inline:!0,size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')})}),(0,C.jsxs)(r.iP,{onTap:w,children:[(0,C.jsx)(r.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,C.jsx)(r.X6,{accessibilityLevel:4,size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,C.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:p.Xq})})]})]})]});h?B&&(ec=(0,C.jsxs)(L,{children:[(0,C.jsx)(Z,{disabled:ed,name:ea,nameValidatorErrors:el,onChange:this.handleChangeName}),!z&&(0,C.jsx)(M,{isProtectedToggler:!!b,isToggleDisable:!!b&&!g&&!X,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:eo}),R&&(0,C.jsx)(x,{selectedContacts:q,setSelectedContacts:N})]})):ec=(0,C.jsxs)(L,{children:[!!_&&(0,C.jsx)(S,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,C.jsx)(A,{hasCollabBoardEmail:G,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!a&&ed&&(0,C.jsx)(O,{allowHomefeedRecommendations:J,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,C.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,C.jsx)(r.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let eu=I?r.u_:i.ZP,eh=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),em=(0,C.jsxs)(r.xu,{paddingY:8,position:"relative",children:[(0,C.jsx)(r.X6,{align:"center",size:"600",children:eh}),(0,C.jsx)(r.xu,{left:j.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!j.isRTL,top:!0,children:(0,C.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]}),e_=this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),eb=(0,C.jsx)(r.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,C.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!ed&&ec,ed&&(0,C.jsx)(K,{board:e,collabBoardEmail:G,collaboratorInvitesEnabled:Y,coverPin:l,currentUserIsOwner:h,description:Q,descriptionValidatorErrors:ee,handleBoardLeave:_,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:n,name:ea,nameValidatorErrors:el,shouldShowCollaboratorsInviteToggle:V,showCoverEdit:es})]})}),eg=W?(0,C.jsx)(r.mh,{zIndex:s.b7,children:(0,C.jsx)(r.To,{accessibilityLabel:e_,closeOnOutsideClick:!0,footer:this.getFormFooter(),heading:this.props.overlayPanelHeadingText,onDismiss:F,size:"sm",children:eb})}):(0,C.jsx)(H,{condition:!!I,children:(0,C.jsx)(eu,{accessibilityModalLabel:e_,footer:this.getFormFooter(),heading:E,onDismiss:F,size:"sm",children:eb})});return(0,C.jsxs)(o.Fragment,{children:[!er&&!en&&eg,er&&v&&(0,C.jsx)(m.Z,{children:(0,C.jsx)(U,{boardId:t,boardName:ea,coverPinId:l?.pin_id,frameHeight:d,frameWidth:u,heading:em,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),ei&&(0,C.jsx)(k.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),en&&(0,C.jsx)(m.Z,{children:(0,C.jsx)($,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}componentDidMount(){(0,t.Z)("BoardForm","/app/www/BoardForm/BoardForm.tsx")}}function X(e){(0,o.useEffect)(()=>{(0,t.Z)("BoardForm","/app/www/BoardForm/BoardForm.tsx")},[]);let a=(0,d.ZP)(),l=(0,b.ZP)(),{checkExperiment:r}=(0,u.Z)(),n=!r("sg_hide_collab_invite_on_edit_modal").anyEnabled;return(0,C.jsx)(q,{...e,i18n:a,isDesktop:"desktop"===l,requestContext:(0,h.B)(),shouldShowCollaboratorsInviteToggle:n,toastManagerContext:(0,_.dI)()})}N(q,"defaultProps",{isNameAndSecretView:!1})},556811:function(e,a,l){l.d(a,{D:()=>s,e:()=>i});var t=l(918920),o=l(473728),r=l(640924);let n=(e,a)=>(0,r.Gy)({max:e,maxErrorString:(0,o.Z)(a._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),i=e=>[n(t.ZP.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],s=e=>[(0,r.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),n(t.ZP.MAX_CHARS_FOR_BOARD_TITLE,e)]},476482:function(e,a,l){l.d(a,{Z:()=>d});var t=l(281098),o=l(667294),r=l(20256),n=l(982166),i=l(19585),s=l(785893);function d({cancelButtonLabel:e,confirmButtonLabel:a,heading:l,message:d,onCancel:c,onConfirm:u}){(0,o.useEffect)(()=>{(0,t.Z)("BoardEditConfirmation","/app/www/boardEdit/BoardEditConfirmation.tsx")},[]);let h=(0,i.ZP)(),m=l||h._('Are you sure?', ' - ', ' -- '),_=e||h._('Cancel', ' - ', ' -- ');return(0,s.jsx)(n.ZP,{accessibilityModalLabel:m,footer:(0,s.jsxs)(r.xu,{marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(r.xu,{"data-test-id":"cancel-button",padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:c,size:"lg",text:_})}),(0,s.jsx)(r.xu,{"data-test-id":"confirm-button",padding:1,children:(0,s.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:u,size:"lg",text:a})})]}),heading:m,onDismiss:c,role:"alertdialog",children:(0,s.jsx)(r.xu,{padding:4,children:(0,s.jsx)(r.xv,{children:d})})})}},415602:function(e,a,l){l.d(a,{A8:()=>y,CQ:()=>w,Cf:()=>f,DK:()=>b,GJ:()=>F,RZ:()=>C,SD:()=>x,aN:()=>P,h6:()=>p,tV:()=>B,xx:()=>v,yC:()=>j,zC:()=>g});var t,o,r,n,i,s,d,c=l(581722),u=l(167912),h=l(575108),m=l(980787),_=l(686319);let b=()=>{let e=(void 0!==t||(t=l(800679)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==t.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),[a]=(0,u.useMutation)(e),{logContextEvent:o}=(0,m.u)();return async(e,l,t)=>{let r={boardId:e,collaboratorIds:l,message:t||""};return await new Promise((l,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),o({event_type:28,object_id_str:e}),l()},onError:e=>t(e)})})}},g=()=>{let e=(void 0!==o||(o=l(868455)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==o.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,m.u)();return async(e,l,o)=>{let r={boardId:e,emails:l,message:o||""};return await new Promise((l,o)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&o(r[0]),t({event_type:28,object_id_str:e}),l()},onError:e=>o(e)})})}},p=()=>{let e=(void 0!==r||(r=l(479699)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==r.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,m.u)();return async(e,l)=>{let o={boardId:e,userId:l};return await new Promise((l,r)=>{a({variables:{...o},onCompleted:(a,o)=>{o&&r(o[0]),t({event_type:32,object_id_str:e}),l(a)},onError:e=>r(e)})})}};function f(e,a){return async l=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:a}})}}function v(e,a){return async l=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let y=(e,a)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:a}}),C=()=>{let e=(void 0!==n||(n=l(608747)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==n.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,m.u)();return async e=>{let l={boardId:e};return await new Promise((o,r)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&r(l[0]),t({event_type:32,object_id_str:e}),o(a)},onError:e=>r(e)})})}},x=(e,a,l)=>async t=>{t(y(e,a)),(await h.Z.create("BoardInviteResource",{board_id:e,invited_user_id:a.id}).callUpdate()).resource_response.error||l({event_type:32,object_id_str:e})};function k(e,a){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:a}}}let B=()=>{let e=(void 0!==i||(i=l(336997)).hash&&"9aa22a7713214239538142ad2c957cc3"!==i.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),[a]=(0,u.useMutation)(e),t=(0,c.I0)();return async e=>{let l={boardId:e};return await new Promise((o,r)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&(t(k(e,!1)),r(l[0])),t(k(e,!0)),o(a)},onError:a=>{t(k(e,!1)),r(a)}})})}};function F(e,a){return l=>{(0,_.Z)({url:`/v3/boards/${e}/collaborators/invite/${a}/`,method:"DELETE",data:{board:e,user:a}}).catch(()=>{l(k(e,!0))}),l(k(e,!1))}}let w=()=>{let e=(void 0!==s||(s=l(296485)).hash&&"c62e5df78917dd238b70f366f358d487"!==s.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,m.u)();return async(e,l,o)=>{let r={boardId:e,userId:l,ban:o||!1};return await new Promise((l,o)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&o(r[0]),t({event_type:29,object_id_str:e}),l(a)},onError:e=>o(e)})})}},P=()=>{let e=(void 0!==d||(d=l(579965)).hash&&"2c3e1508650962adfff1171e950fa419"!==d.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,m.u)();return async(e,l)=>{let o={board:e,collaboratorIds:[l]};return await new Promise((l,r)=>{a({variables:{...o},onCompleted:(a,o)=>{o&&r(o[0]),t({event_type:29,object_id_str:e}),l(a)},onError:e=>r(e)})})}},j=()=>{let e=w(),a=P();return(l,t,o)=>async()=>{let{invited_user:t,status:r,board:{id:n}}=l;t&&("accepted"===r?await a(n,t.id):await e(n,t.id,o))}}},812577:function(e,a,l){l.d(a,{I:()=>i,Z:()=>n});var t=l(886981),o=l(947810);let r=({boardId:e,ownerUsername:a,ownerName:l,ownerImgSrc:r})=>{let n=(0,o.Z)(),{data:i,isLoaded:s}=(0,t.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...n?{orbac_subject_id:n}:{}}}),d=[{name:l,src:r,href:`/${a}/`,isDim:!1}];return s&&i&&i.length>0&&i.forEach(e=>{d.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),d},n=r;function i({children:e,...a}){return e(r(a))}},890774:function(e,a,l){l.d(a,{Z:()=>c});var t=l(581722),o=l(782677),r=l(575108),n=l(877956),i=l(440568),s=l(536652),d=l(72918);function c(){let e=(0,t.I0)(),a=(0,t.v9)(e=>e.resources);return async function({boardCreateOptions:l,deprecatedSchemaForNormalization:t}){let c=await r.Z.create("BoardResource",l).callCreate(),u=c.resource_response.data,h=t?(0,o.Fv)(u,t):void 0;e((0,d.XM)("BoardResource",l,c,h)),e((0,n.fO)({event_type:20})),u.owner?.id&&e((0,s.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let m=a.BoardsResource||{},_=a.BoardsFeedResource||{};return Object.keys(m).forEach(a=>{(0,i.k)(a).username===u.owner?.username&&e((0,d.jB)("BoardsResource",a))}),Object.keys(_).forEach(a=>{(0,i.k)(a).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",a))}),u}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/2944-84364becdd3d1a1d.mjs.map