(self.modernJsonp=self.modernJsonp||[]).push([["75348"],{359656:function(e,l,o){o.r(l),o.d(l,{default:()=>s});let n={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[r,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{id:"134b0b580aa92245148296845cace9afb35dc06c14786cdd346a49001d84a14b",metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:null}};n.hash="a23b0f7439754a2c42bb445168b9e510";let s=n;var t,i,a,r,c,d=n.default||n;if("query"===d.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(d);else{let e=[d.params.name,d.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=d}},250905:function(e,l,o){o.d(l,{HW:()=>a,MS:()=>u,i3:()=>p,o2:()=>_});var n=o(667294),s=o(729434),t=o(25837),i=o(785893);let a=t.fe+1,r={educationId:null,paddingRight:0,zIndex:a};function c(e,l){switch(l.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:o}=l.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:n}=l.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":let{zIndex:s}=l.payload;return{...e,zIndex:s};default:return e}}let{Provider:d,Consumer:_,get:u}=(0,s.Z)("footerContext");function p({children:e}){let[l,o]=(0,n.useReducer)(c,r),s=(0,n.useCallback)(e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),t=(0,n.useCallback)(e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),a=(0,n.useCallback)(e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),_=(0,n.useMemo)(()=>({...l,setEducationId:t,setPaddingRight:s,setZIndex:a}),[l,t,s,a]);return(0,i.jsx)(d,{value:_,children:e})}},246145:function(e,l,o){o.d(l,{Z:()=>_});var n=o(281098),s=o(667294),t=o(20256),i=o(821342),a=o(19585),r=o(709311),c=o(302148),d=o(785893);function _({count:e,onClick:l,variant:o,size:_="300"}){(0,s.useEffect)(()=>{(0,n.Z)("FollowersDisplay","/app/www/followersAuthDesktop/FollowersDisplay.tsx")},[]);let u=(0,a.ZP)(),{isAuth:p}=(0,i.Z)(),h=e<=0,f={followers:(0,c.nk)(u.ngettext('{{count}} follower', '{{count}} followers', e, 'label for n followers', 'label for n followers'),{count:(0,d.jsx)(r.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,c.nk)(u.ngettext('{{count}} following', '{{count}} following', e, 'label for n following users', 'label for n following users'),{count:(0,d.jsx)(r.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return p?(0,d.jsx)(t.xu,{"data-test-id":`profile-${o}-count`,display:"inlineBlock",children:(0,d.jsx)(t.iP,{disabled:h,onTap:()=>l(o),children:(0,d.jsx)(t.xv,{inline:!0,size:_,weight:h?"normal":"bold",children:f[o]})})}):(0,d.jsx)(t.xv,{inline:!0,children:f[o]})}},813153:function(e,l,o){o.d(l,{Z:()=>a});var n=o(281098),s=o(667294),t=o(20256),i=o(785893);function a({accessibilityLabel:e,color:l="default",icon:o,info:a}){return(0,s.useEffect)(()=>{(0,n.Z)("AboutDrawerInfoRow","/app/www/profile/ProfileHeader/AboutDrawerInfoRow.tsx")},[]),(0,i.jsxs)(t.kC,{gap:{row:7,column:0},children:[(0,i.jsx)(t.JO,{accessibilityLabel:e,color:l,icon:o,size:20}),a]})}},683444:function(e,l,o){o.d(l,{Z:()=>_});var n=o(281098),s=o(667294),t=o(20256),i=o(744862),a=o(19585),r=o(858845),c=o(136070),d=o(785893);let _=({onTouch:e,size:l="xl",user:o,viewer:_,ref:u})=>{(0,s.useEffect)(()=>{(0,n.Z)("AvatarWithPincode","/app/www/profile/ProfileHeader/AvatarWithPincode.tsx")},[]);let p=(0,a.ZP)(),{image_xlarge_url:h,username:f,avatar_color_index:g}=o??{},m=(0,c.Z)(o),x=(0,r.Z)({viewer:_,user:o})||_.isAuth&&_.isEmployee,w=(0,d.jsx)(i.qE,{color:g,name:f||"",outline:m,size:l,src:h??void 0});return x?(0,d.jsx)(t.iP,{ref:u,accessibilityLabel:p._('Click to open pincode and share profile', 'AvatarWithPincode.pincodeEnabled.accessibilityLabel', 'Accessibility label for clicking on profile picture to open pincode for sharing'),fullWidth:!1,onTap:e,rounding:"circle",children:w}):w}},110024:function(e,l,o){o.d(l,{I_:()=>i,Rf:()=>c,TL:()=>_,V1:()=>t,X9:()=>s,cO:()=>n,fk:()=>r,g:()=>d,wN:()=>u,wc:()=>a});let n=360,s=640,t=1244,i=488,a=275,r=488,c=80,d=211,_=64,u=1},204130:function(e,l,o){o.d(l,{Z:()=>I});var n,s=o(281098),t=o(667294),i=o(167912),a=o(20256),r=o(918920),c=o(355940),d=o(821342),_=o(19585),u=o(886981),p=o(821806),h=o(980787),f=o(15667),g=o(697473),m=o(647709),x=o(246145),w=o(813153),b=o(136070),y=o(860880),j=o(78762),P=o(785893);let v=(0,j.Z)(()=>o.e("6332").then(o.bind(o,465702)),void 0,e=>465702,"app-www-followersAuthDesktop-FollowersModalContainer",e=>["6332"]),C=(0,j.Z)(()=>Promise.all([o.e("25418"),o.e("68329"),o.e("56595"),o.e("94898")]).then(o.bind(o,115718)),void 0,e=>115718,"app-www-ProfileFollowers-ProfileFollowersModalGraphQL",e=>["25418","68329","56595","94898"]);function z({followersTotalCount:e,followingResource:l,followingTotalCount:o,isAboutDrawerVariant:n,isViewingOwnProfile:i,size:r="300",user:c}){(0,t.useEffect)(()=>{(0,s.Z)("FollowerCountsGraphQL","/app/www/followersAuthDesktop/FollowerCountsGraphQL.tsx")},[]);let d=(0,_.ZP)(),u=new URL(window.location.href),p=(()=>{let{isAuthenticated:e}=(0,f.B)(),l=(0,m.HG)();return e&&l})(),{logContextEvent:j}=(0,h.u)(),z=/_(followers|following)\/$/,A=u.pathname.match(z),k=p&&A?.[1]||null,[I,S]=(0,t.useState)(k),Z=()=>{S(null),k&&window.history.pushState({},"",u.pathname.replace(z,""))},E=e=>{S(e),i&&j({event_type:101,view_type:4,view_parameter:3106,component:13056,element:"followers"===e?42:41})},B=(0,b.Z)(c);return(0,P.jsxs)(t.Fragment,{children:[n?(0,P.jsxs)(a.kC,{direction:"column",gap:{row:0,column:6},children:[!!e&&e>=0&&(0,P.jsx)(w.Z,{accessibilityLabel:d._('Followers icon', 'profileHeader.followersIcon', 'Icon next to user\'s follower count'),icon:"person-add",info:(0,P.jsx)(g.Z,{items:[(0,P.jsx)(x.Z,{count:e,onClick:()=>E("followers"),size:r,variant:"followers"},"followersDisplay"),B?(0,P.jsx)(y.default,{user:c}):null]})}),o>=0&&(0,P.jsx)(w.Z,{accessibilityLabel:d._('Following icon', 'profileHeader.followingIcon', 'Icon next to user\'s following count'),icon:"people",info:(0,P.jsx)(x.Z,{count:o,onClick:()=>E("following"),size:r,variant:"following"})})]}):(0,P.jsx)(g.Z,{items:[e&&e>=0?(0,P.jsx)(x.Z,{count:e,onClick:()=>E("followers"),size:r,variant:"followers"}):null,o>=0?(0,P.jsx)(x.Z,{count:o,onClick:()=>E("following"),size:r,variant:"following"}):null]}),"followers"===I&&(0,P.jsx)(C,{onDismiss:Z,totalFollowersCount:e}),"following"===I&&(0,P.jsx)(v,{followersResource:l,onDismiss:Z,totalFollowersCount:o,user:c,variant:I})]})}var A=o(858845);function k({isAboutDrawerVariant:e=!1,size:l="300",user:s}){let t=(0,d.Z)(),{id:a}=s,c=(void 0!==n||(n=o(359656)).hash&&"a23b0f7439754a2c42bb445168b9e510"!==n.hash&&console.error("The definition of 'FollowersControllerQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),_=(0,i.useLazyLoadQuery)(c,{userId:a}),{following_count:p=0,interest_following_count:h=0}=s,f=_.v3GetUserHandlerQuery?.__typename==="V3GetUserHandler"?_.v3GetUserHandlerQuery.data:null,{followerCount:g,username:m}=f||{},x=(0,A.Z)({user:s,viewer:t}),w=(0,u.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!x||void 0,page_size:r.ZP.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:x,username:m}});return f?(0,P.jsx)(z,{followersTotalCount:g,followingResource:w,followingTotalCount:p-(h??0),isAboutDrawerVariant:e,isViewingOwnProfile:x,size:l,user:s}):null}function I(e){(0,t.useEffect)(()=>{(0,s.Z)("FollowersController","/app/www/profile/ProfileHeader/FollowersController.tsx")},[]);let l=(0,_.ZP)(),{compactLoader:o=!1,size:n}=e,i=l._('Loading follower counts', 'profile.header.followerController', 'accessibility label for follower counts spinner');return(0,P.jsx)(c.Z,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,P.jsx)(p.Z,{fallback:o?(0,P.jsx)(a.xv,{size:n,children:i}):(0,P.jsx)(a.xu,{padding:5,children:(0,P.jsx)(a.xH,{accessibilityLabel:i,show:!0})}),children:(0,P.jsx)(k,{...e})})})}},547712:function(e,l,o){o.d(l,{Z:()=>v});var n=o(281098),s=o(667294),t=o(20256),i=o(575108),a=o(752712),r=o(980787),c=o(19585),d=o(790314),_=o(302148),u=o(250905),p=o(25837),h=o(603316),f=o(785893);let g=new t.H3([new t.Ry(u.HW),new t.Ry(p.fe)]),m="/settings/account-settings/",x=({text:e})=>{let l=(0,s.useRef)(null),[o,n]=(0,s.useState)(!1);return o&&(0,h.nP)("client.profile.inspirational_badge_controls.info_tool_tip.rendered",{sampleRate:1}),(0,f.jsxs)(s.Fragment,{children:[o&&(0,f.jsx)(t.J2,{_deprecatedShowCaret:!0,anchor:l.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:()=>n(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,f.jsx)(t.xu,{padding:3,children:(0,f.jsx)(t.xv,{align:"center",color:"inverse",size:"200",children:e})})}),(0,f.jsx)(t.xu,{height:32,width:32,children:(0,f.jsx)(t.iP,{ref:l,fullHeight:!0,fullWidth:!0,onFocus:()=>n(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,f.jsx)(t.hU,{accessibilityLabel:e,icon:"info-circle",iconColor:"gray",size:"sm"})})})]})},w=({badgeLabel:e,disabled:l,eligible:o,isChecked:n,setSelectedBadge:s})=>{let i=(0,f.jsx)(t.xu,{display:"inlineBlock",children:(0,f.jsx)(t.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,f.jsx)(t.xv,{overflow:"noWrap",children:(0,f.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:a.QP["0"],color:o?"black":"gray"}},display:"inlineBlock",marginEnd:1,marginStart:1,paddingX:2,paddingY:1,rounding:1,children:e.label})})})});return(0,f.jsxs)(t.kC,{alignItems:"start",direction:"row",children:[(0,f.jsx)(t.xu,{display:"inlineBlock",marginBottom:2,marginEnd:2,children:(0,f.jsx)(t.XZ,{checked:n,disabled:l,id:`inspirational-badge-${e.id}`,name:"badges",onChange:({checked:l})=>s(e.id,l)},e.id)}),e.controlsTooltip?(0,f.jsx)(t.u,{idealDirection:"right",text:e.controlsTooltip,children:i}):i]},e.id)};function b({inspirationalSignal:e,onDismiss:l,onSubmit:o}){(0,s.useEffect)(()=>{(0,n.Z)("InspirationalBadgeControls","/app/www/profile/ProfileHeader/InspirationalBadgeControls.tsx")},[]);let{logContextEvent:i}=(0,r.u)(),u=(0,c.ZP)(),p=u._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),b=u._('Contact us', 'InspoBadgeControls.contactUs', 'Contact us link'),y=u._('Brand values', 'InspoBadgeControls.brandValuesLegend', 'Legend text used to describe brand values'),j=u._('Your brand\'s website indicates that your business is aligned with the values listed below', 'InspoBadges.brandValuesTooltip', 'Tooltip describing brand values'),P=u._('Communities', 'InspoBadgeControls.communitiesLegend', 'Legend text used to describe communities'),v=u._('Your brand\'s owner self-identified as a member of these groups. This information is only associated with your business account and isn\'t used to target ads. ', 'InspoBadges.communityTooltip', 'Tooltip describing communities'),C=u._('default color', 'InspoBadgeControls.defaultColor', 'Annotation describing the selected color as the default color'),z=(0,a.eT)(e),A=(0,a.hm)(e),k=(0,a.I)(u,z,e.badge_details),I=(0,a.I)(u,A,e.badge_details),S=k.filter(e=>a.yQ.includes(e.id)),Z=k.filter(e=>a.Dm.includes(e.id)),E=k.map(e=>e.id),B=I.map(e=>e.id),F=e.inspirational_badge_selection?.badgeColor||a.QP["0"],[T,L]=(0,s.useState)(B),[D,R]=(0,s.useState)(!1),[H,M]=(0,s.useState)(F),U=(0,s.useRef)(null),O=!!(0,d.oo)(H),Q=O?H.toUpperCase():a.QP["0"],W=Q===a.QP["0"]?`${Q} (${C})`:Q,G=E.filter(e=>!T.includes(e)),N=B.length!==T.length||!T.every(e=>B.includes(e))||H!==F,V=(e,l)=>{L(l?[...T,e]:T.filter(l=>l!==e)),i({event_type:l?9675:9676,component:13911})};return(0,h.nP)("client.profile.inspirational_badge_controls.rendered",{sampleRate:1}),(0,f.jsx)(t.mh,{zIndex:g,children:(0,f.jsx)(t.To,{accessibilityDismissButtonLabel:u._('Close Inspirational Badges sheet', 'InspoBadgeControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing inspirational badges sheet'),accessibilityLabel:u._('Inspirational Badges customization for business profile', 'InspoBadgeControls.accessibilitySheetLabel', 'Accessibility text for opening inspirational badges sheet'),footer:({onDismissStart:e})=>(0,f.jsxs)(t.kC,{direction:"row",justifyContent:"between",children:[(0,f.jsxs)(t.xu,{children:[(0,f.jsx)(t.xv,{color:"subtle",inline:!0,size:"200",children:u._('Have questions about brand values?', 'InspoBadgeControls.haveQuestions', 'Question preceding a contact us link')}),(0,f.jsx)("br",{}),(0,f.jsx)(t.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:(0,f.jsx)(t.rU,{accessibilityLabel:b,display:"inlineBlock",href:"https://help.pinterest.com/en/contact",target:"blank",underline:"hover",children:b})})]}),(0,f.jsx)(t.xu,{children:(0,f.jsxs)(t.hE,{children:[(0,f.jsx)(t.zx,{color:"gray",onClick:e,text:u._('Cancel', 'InspoBadgeControls.cancel', 'Cancel editing Inspirational badges')}),(0,f.jsx)(t.zx,{color:"red",disabled:!N,onClick:()=>o({badgeColor:H,badgeOptOut:G}),text:u._('Save', 'InspoBadgeControls.save', 'Save Inspirational badges')})]})})]}),heading:u._('Edit merchant details', 'InspoBadgeControls.title', 'Title for Inspirational Badges customization sheet'),onDismiss:l,size:"sm",children:(0,f.jsx)(t.kC,{direction:"column",gap:{row:0,column:12},children:(0,f.jsxs)(t.kC,{direction:"column",gap:{row:0,column:4},children:[(0,f.jsxs)(t.xu,{children:[(0,f.jsxs)(t.xv,{inline:!0,children:[u._('Pinterest is committed to connecting shoppers and merchants with compatible values.', 'InspoBadgeControls.description', 'Description text for Inspirational Badges customization sheet'),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),u._('Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.', 'InspoBadgeControls.description2', 'Description text for Inspirational Badges customization sheet')]}),"Â ",(0,f.jsx)(t.xv,{inline:!0,weight:"bold",children:(0,f.jsx)(t.rU,{accessibilityLabel:p,display:"inlineBlock",href:a._f,onClick:()=>{i({event_type:9677,component:13911})},target:"blank",underline:"hover",children:p})})]}),(0,f.jsxs)(t.kC,{direction:"column",children:[(0,f.jsxs)(t.kC,{alignItems:"center",children:[(0,f.jsx)(t.xv,{inline:!0,overflow:"noWrap",size:"200",children:y}),(0,f.jsx)(x,{text:j})]}),(0,f.jsx)(t.xu,{paddingY:1,children:(0,f.jsx)(t.pg,{legend:y,legendDisplay:"hidden",children:(0,f.jsx)(t.kC,{direction:"column",gap:{row:0,column:3},children:S.map(e=>{let l=T.includes(e.id),o=T.length>=a.S4&&!l;return(0,f.jsx)(w,{badgeLabel:e,disabled:o,eligible:!0,isChecked:l,setSelectedBadge:V},e.id)})})})})]}),Z.length>0&&(0,f.jsxs)(t.kC,{direction:"column",children:[(0,f.jsxs)(t.kC,{alignItems:"center",children:[(0,f.jsx)(t.xv,{inline:!0,overflow:"noWrap",size:"200",children:P}),(0,f.jsx)(x,{text:v})]}),(0,f.jsx)(t.xu,{paddingY:1,children:(0,f.jsx)(t.pg,{legend:P,legendDisplay:"hidden",children:(0,f.jsx)(t.kC,{direction:"column",gap:{row:0,column:3},children:Z.map(e=>{let l=T.includes(e.id),o=T.length>=a.S4&&!l;return(0,f.jsx)(w,{badgeLabel:e,disabled:o,eligible:!0,isChecked:l,setSelectedBadge:V},e.id)})})})}),(0,f.jsx)(t.xv,{color:"subtle",inline:!0,size:"200",children:(0,_.nk)(u._('To change communities info, visit {{ accountSettingsLink }}', 'InspoBadgeControls.changeCommunities', 'Tell users when they can reapply'),{accountSettingsLink:(0,f.jsx)(t.rU,{display:"inlineBlock",href:m,underline:"hover",children:(0,f.jsx)(t.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:u._('account settings', 'InspoBadgeControls.accountSettingsLink', 'Link to account settings')})},m)})})]}),(0,f.jsxs)(t.kC,{direction:"column",children:[(0,f.jsxs)(t.xu,{children:[(0,f.jsx)(t.xu,{marginBottom:4,marginTop:4,children:(0,f.jsx)(t.__,{htmlFor:"color-menu",children:(0,f.jsx)(t.xv,{size:"200",children:u._('Choose your label color', 'InspoBadgeControls.labelColor', 'Label color title')})})}),(0,f.jsx)(t.zx,{accessibilityControls:"color-menu",accessibilityExpanded:D,accessibilityHaspopup:!0,iconEnd:"arrow-down",onClick:()=>{i({event_type:9674,component:13911}),R(!0)},selected:D,size:"lg",text:W})]}),(0,f.jsx)(t.xu,{ref:U}),D&&(0,f.jsx)(t.mh,{children:(0,f.jsx)(t.J2,{anchor:U.current,idealDirection:"down",onDismiss:()=>R(!1),positionRelativeToAnchor:!1,role:"listbox",shouldFocus:!0,size:"flexible",children:(0,f.jsxs)(t.xu,{borderStyle:"shadow",id:"color-menu",padding:4,rounding:2,width:"100%",children:[(0,f.jsx)(t.kC,{alignItems:"start",gap:{row:4,column:0},children:a.QP.map(e=>(0,f.jsx)(t.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:H===e?"black":e,backgroundColor:e}},height:48,marginBottom:4,rounding:"circle",width:48,children:(0,f.jsx)(t.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>M(e),rounding:4})},e))}),(0,f.jsxs)(t.kC,{alignItems:"start",gap:{row:4,column:0},children:[(0,f.jsx)(t.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:O&&!a.QP.includes(H.toUpperCase())?"black":void 0,backgroundColor:Q}},height:48,rounding:"circle",width:48}),(0,f.jsx)(t.nv,{id:"selected-color",onChange:({value:e})=>M(e.slice(0,7)),size:"lg",value:H})]})]})})})]})]})})})})}var y=o(886981),j=o(742438);let P=new t.Ry(10);function v(e){(0,s.useEffect)(()=>{(0,n.Z)("InspirationalBadgesAuthDesktop","/app/www/profile/ProfileHeader/InspirationalBadgesAuthDesktop.tsx")},[]);let{isOwnProfile:l,marginEnd:o=1,marginStart:d=1,userId:_,rounding:u=1,size:p="200"}=e,{logContextEvent:g}=(0,r.u)(),m=(0,c.ZP)(),x=m._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),w=m._('New!', 'InspoBadges.newText', 'New! descriptor calling out a New feature'),v=m._('Show shoppers your brand values and which communities you\'re a part of', 'InspoBadges.editTooltipText', 'Edit your badges callout'),C=m._('Add merchant details', 'InspoBadges.toggleEditBadges', 'CTA to add merchant details if a merchant does not have any'),z=function(){let e=(0,j.Z)(),l=e.data?.id;return(0,y.Z)({name:"VerifiedMerchantResource",options:{userId:l}})}(),A=z.data,k=(0,a.Bu)({verifiedMerchant:A}),I=(0,s.useRef)(null),[S,Z]=(0,s.useState)(a.Xe),[E,B]=(0,s.useState)(!1),[F,T]=(0,s.useState)(!0),L=k?(0,a.hm)(S):[],D=(0,a.I)(m,L,S.badge_details),R=S.inspirational_badge_selection?.badgeColor||a.QP["0"];(0,s.useEffect)(()=>{Z(A?.inspirational_signal||a.Xe)},[A?.inspirational_signal]),(0,s.useEffect)(()=>{L&&L.length&&g({event_type:9667,view_type:4,component:13910})});let H=()=>{B(!0),T(!1),g({event_type:9671,component:13911})},M=()=>{g({event_type:9668,component:13910})},U=()=>{g({event_type:9670,component:13910})};return k&&(0,h.nP)("client.profile.inspirational_badges.rendered",{sampleRate:1,tags:{is_own_profile:l,num_badges:D.length,badge_color:R,user_id:A?.id}}),k?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)(t.kC,{alignItems:"center",children:[D.map(e=>(0,f.jsx)(t.u,{link:(0,f.jsx)(t.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,f.jsx)(t.rU,{accessibilityLabel:x,href:a.NG,onClick:U,target:"blank",children:(0,f.jsx)(t.xv,{color:"inverse",size:"100",weight:"bold",children:x})})}),text:e.description,zIndex:P,children:(0,f.jsx)(t.xv,{overflow:"noWrap",size:p,children:(0,f.jsx)(t.iP,{onMouseEnter:M,children:(0,f.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:(0,a.ym)(R)},"data-test-id":"inspirational-badge",display:"inlineBlock",marginEnd:o,marginStart:d,paddingX:2,paddingY:1,rounding:u,children:e.label})})})},e.label)),l&&(0,f.jsxs)(s.Fragment,{children:[F&&(0,f.jsx)(t.mh,{zIndex:P,children:(0,f.jsx)(t.J2,{_deprecatedShowCaret:!0,anchor:I.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:()=>{T(!1),g({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,f.jsx)(t.xu,{padding:3,children:(0,f.jsxs)(t.xv,{align:"center",color:"inverse",inline:!0,size:"200",children:[(0,f.jsx)(t.xv,{inline:!0,weight:"bold",children:w})," ",v]})})})}),0===D.length&&(0,f.jsx)(t.xu,{display:"inlineBlock",children:(0,f.jsx)(t.iP,{fullWidth:!0,onTap:H,children:(0,f.jsx)(t.xv,{color:"subtle",children:C})})}),(0,f.jsx)(t.hU,{ref:I,accessibilityLabel:C,icon:"edit",iconColor:"gray",onClick:H,size:"sm"})]})]}),E&&(0,f.jsx)(b,{inspirationalSignal:S,onDismiss:()=>B(!1),onSubmit:({badgeColor:e,badgeOptOut:l})=>{B(!1),i.Z.create("VerifiedMerchantResource",{userId:_,inspirational_badge_selection:{badgeColor:e,badgeOptOut:l}}).callUpdate().then(()=>z.refresh()),Z({...S,inspirational_badge_selection:{badgeColor:e,badgeOptOut:l}}),g({event_type:9672,component:13911})}})]}):(0,f.jsx)(s.Fragment,{})}},691846:function(e,l,o){o.d(l,{Z:()=>P});var n=o(281098),s=o(667294),t=o(355940),i=o(821342),a=o(20256),r=o(980787),c=o(140725),d=o(19585),_=o(302148),u=o(133232),p=o(575108),h=o(199593),f=o(308266),g=o(785893);function m({children:e,flyoutDirection:l,setShowMessageFlyout:o,showMessageFlyout:t,userId:i}){(0,s.useEffect)(()=>{(0,n.Z)("ProfileMessageController","/app/www/profile/ProfileHeader/ProfileMessageController.tsx")},[]);let{logContextEvent:c}=(0,r.u)(),[d,_]=(0,s.useState)(""),u=(0,s.useRef)(null),{conversationCreate:m,conversationOpen:x}=(0,h.Z)(),w=async()=>{_(""),o(!1),c({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});let e=p.Z.create("ConversationsResource",{user_ids:[i],text:d}),l=await e.callCreate(),n=l?.resource_response.data;m(n),x(n.id)};return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(a.xu,{ref:u,children:e({toggleSendMessageFlyout:()=>{o(!t)}})}),t&&(0,g.jsx)(f.Z,{anchor:u.current,idealDirection:l,message:d,onDismiss:()=>o(!1),onMessageChange:_,onMessageSubmit:w})]})}var x=o(913852);function w({isOwnProfile:e,setShowMessageFlyout:l,size:t="lg",showMessageFlyout:i,user:p}){(0,s.useEffect)(()=>{(0,n.Z)("ContactMenuButton","/app/www/profile/ProfileHeader/ContactMenuButton.tsx")},[]);let{logContextEvent:h}=(0,r.u)(),f=(0,d.ZP)(),w=(0,s.useRef)(null),[b,y]=(0,s.useState)(!1),[j,P]=(0,s.useState)(),v=(0,u.V)(e,p?.partner?.profile_place||{},f._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied')),C=()=>{y(!1)},{id:z,partner:A}=p,{contact_email:k="",contact_phone:I="",contact_phone_country:S="",enable_profile_address:Z,enable_profile_message:E,profile_place:B={}}=A??{},F=I?j?.(I,{defaultCallingCode:S&&"0"!==S.phone_code?S.phone_code:null}):null;(0,c.Q)({component:13673,element:11953,object_id_str:z,view_type:4,view_parameter:3107});let T=async()=>{if(y(e=>!e),I&&!j){let e=await Promise.all([o.e("47497"),o.e("42638")]).then(o.bind(o,713375));P(()=>e.parsePhoneNumberFromString)}h({event_type:101,component:13673,element:11953,object_id_str:z,view_type:4,view_parameter:3107})},L=e=>{h({event_type:101,component:13674,element:e,object_id_str:z,view_type:48,view_parameter:3107})},D=k||I,R={contact:f._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),sectionTitle:f._('Contact options', 'profileHeader.contactButton.contactOptions', 'Button on a business profile to contact that business'),message:f._('Message', 'profileHeader.contactMenu.message', 'Menu option to message the user'),email:(0,_.nk)(f._('Email {{ contactEmail }}', 'profileHeader.contactMenu.email', 'contactEmail: Menu option to send an email to the user'),{contactEmail:k}),call:f._('Call', 'profileHeader.contactMenu.phoneNumber', 'Menu option to call the user')};if(!D&&!E)return null;let H=(0,u.T)(B||{});return(0,g.jsx)(m,{flyoutDirection:"up",setShowMessageFlyout:l,showMessageFlyout:i,userId:z,children:({toggleSendMessageFlyout:e})=>(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(a.xu,{ref:w,children:(0,g.jsx)(a.zx,{onClick:()=>{D?T():e()},selected:b,size:t,text:R.contact})}),b&&(0,g.jsxs)(a.Lt,{anchor:w.current,disableMobileUI:!0,id:"profileHeader_contactMenu",idealDirection:"up",onDismiss:C,zIndex:new a.H3([x.Zu]),children:[(0,g.jsxs)(a.Lt.Section,{label:R.sectionTitle,children:[E&&(0,g.jsx)(a.Lt.Item,{onSelect:()=>{e(),L(11956),C()},option:{label:R.message,value:R.message}}),k&&(0,g.jsx)(a.Lt.Link,{href:`mailto:${k}`,iconEnd:"visit",onClick:()=>{L(11954),C()},option:{label:R.email.join(""),value:R.email.join("")}}),F||I?(0,g.jsx)(a.Lt.Link,{href:`tel:${F?F.getURI():I}`,iconEnd:"visit",onClick:({dangerouslyDisableOnNavigation:e})=>{L(11955),e(),C()},option:{label:R.call,value:R.call}}):null]}),Z&&(0,g.jsx)(a.Lt.Section,{label:f._('Address', 'profileHeader.contactButton.address', 'Address category for contact options drawer'),children:(0,g.jsx)(a.Lt.Item,{onSelect:v,option:{label:H,value:H}})})]})]})})}var b=o(563354),y=o(858845),j=o(136070);function P(e){(0,s.useEffect)(()=>{(0,n.Z)("ProfileHeaderContactButton","/app/www/profile/ProfileHeader/ProfileHeaderContactButton.tsx")},[]);let{setShowMessageFlyout:l,size:o,showMessageFlyout:a,user:r}=e,c=(0,i.Z)(),d=(0,j.Z)(r),_=(0,y.Z)({user:r,viewer:c}),{blocked_by_me:u,id:p,partner:h={},should_show_messaging:f}=r,{contact_email:x="",contact_phone:P="",enable_profile_message:v}=h||{},C=!u&&!!f&&!!(c.isAuth&&c.should_show_messaging);return C&&(x||P)?(0,g.jsx)(t.Z,{name:"ContactMenuButton",children:(0,g.jsx)(w,{isOwnProfile:_,setShowMessageFlyout:l,showMessageFlyout:a,size:o,user:r})}):C&&(v||!d)?(0,g.jsx)(m,{flyoutDirection:"up",setShowMessageFlyout:l,showMessageFlyout:a,userId:p,children:({toggleSendMessageFlyout:e})=>(0,g.jsx)(b.Z,{onClick:e,size:o,userId:p})}):null}},860880:function(e,l,o){o.r(l),o.d(l,{default:()=>p});var n=o(281098),s=o(667294),t=o(20256),i=o(937392),a=o(821342),r=o(19585),c=o(709311),d=o(302148),_=o(858845),u=o(785893);function p({color:e="default",user:l,inline:o=!1,size:p}){(0,s.useEffect)(()=>{(0,n.Z)("ViewerCount","/app/www/profile/ProfileHeader/ViewerCount.tsx")},[]);let h=(0,r.ZP)(),f=(0,s.useRef)(null),g=(0,a.Z)(),m=new t.Ry(2);if(l?.profile_views===-1)return null;let x=l?.profile_views??0,w=x>=1e7?h._('10m+ monthly views', 'viewerCount.overTenMillion', 'Shortform string indicating that a partner profile has over 10,000,000 monthly views'):(0,d.nk)(h._('{{ count }} {{ label }}', 'viewerCount.templateString', 'Template string for a count of the monthly viewers of a partner profile'),{count:(0,u.jsx)(c.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:x||0},"pretty_number"),label:h._('monthly views', 'viewerCount.monthlyViewsLabel', 'Label for count of monthly views of a partner profile')});return(0,u.jsx)(t.xu,{ref:f,children:(0,u.jsxs)(t.xv,{color:e,inline:o,size:p,weight:"normal",children:[w,(0,_.Z)({user:l,viewer:g})&&(0,u.jsx)(i.Qp,{anchor:f.current,customWrapper:({children:e})=>(0,u.jsx)(t.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:m,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open("https://www.pinterest.com/_/_/help/business/article/review-new-and-updated-reporting-metrics#section-15861","_blank"),placementId:19,showCaret:!0,textAlign:"center"})]})})}},133232:function(e,l,o){o.d(l,{T:()=>a,V:()=>r});var n=o(980787),s=o(475498),t=o(87853),i=o(785893);function a(e){let{street:l,extra_street:o,locality:n,region:s,postal_code:t,country:i}=e,a=l||"",r=o||"",c=n||"";return`${a}${r}${(a||r)&&","} ${c}${c&&","} ${s||""} ${t||""} ${i||""}`.trim()}function r(e,l,o){let{logContextEvent:r}=(0,n.u)(),{showToast:c}=(0,t.dI)();return()=>{r({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(a(l)),c(({hideToast:e})=>(0,i.jsx)(s.Z,{onHide:e,text:o}))}}},706147:function(e,l,o){o.d(l,{Z:()=>h});var n=o(281098),s=o(667294),t=o(20256),i=o(521009),a=o(821342),r=o(19585),c=o(644024),d=o(199593),_=o(858845),u=o(539532),p=o(785893);function h(e){(0,s.useEffect)(()=>{(0,n.Z)("SendProfileButton","/app/www/sending/SendProfileButton.tsx")},[]);let{bgColor:l,dataTestId:o="share-profile-auth",iconColor:h,labelVariant:f="share",size:g="lg",useGestaltButton:m,user:x}=e,w=(0,r.ZP)(),[b,y]=(0,s.useState)(!1),j=(0,a.Z)(),P=(0,_.Z)({user:x,viewer:j}),v=(0,i.Z)(),C=j.isAuth&&P&&j.isPrivateProfile,{conversations:{showConversationsDropdown:z},dropdownOpen:A,setObjectAttachment:k}=(0,d.Z)(),I=w._('Send Profile', 'Accessible label for button to send this profile', 'Accessible label to send this profile button'),S="shareProfile"===f?w._('Share profile', 'sendProfileButton.button.shareProfile', 'Button to share user profile'):w._('Share', 'sendProfileButton.button', 'Button to share user profile');return(0,p.jsx)(u.Z,{flyoutDisplayOptions:{shownWithinProfileHeader:!0},isFlyoutOpen:b,loggingOptions:{component:13675,element:12631,viewType:4},onFlyoutDismiss:()=>y(!1),onToggleFlyout:()=>{v({event_type:101,component:13675,element:1079,object_id_str:x?.id,view_type:4,view_parameter:P?3106:3107}),C?!z&&x?.id&&(k({type:"follow_invite",id:x.id}),A()):y(!b)},sendObject:{type:"user",description:"",name:x?.full_name,imageUrl:x?.image_large_url??"",url:`/${x?.username??""}/`,id:x?.id??""},children:({handleSendShareFlyoutButtonClick:e})=>(0,p.jsx)(t.xu,{"data-test-id":o,children:m?(0,p.jsx)(t.zx,{accessibilityLabel:I,onClick:()=>e(),selected:b,size:g,text:S}):(0,p.jsx)(c.Z,{accessibilityLabel:I,bgColor:l,icon:"share",iconColor:h,onClick:()=>e(),selected:b})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/75348-5283b4b3c0203881.mjs.map