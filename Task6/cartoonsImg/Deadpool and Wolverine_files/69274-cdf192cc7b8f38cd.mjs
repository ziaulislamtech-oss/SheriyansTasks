(self.modernJsonp=self.modernJsonp||[]).push([["69274"],{446291:function(e,a,t){var r={"./he_IL/LocaleDataLoader":["175496","94661"],"./zh_TW/LocaleDataLoader":["758893","8846"],"./en_AU/LocaleDataLoader":["685005","98982"],"./en_GB/LocaleDataLoader":["450875","63925"],"./en_IN/LocaleDataLoader":["108941","21232"],"./cs_CZ/LocaleDataLoader":["5362","78080"],"./hi_IN/LocaleDataLoader":["609030","37452"],"./ko_KR/LocaleDataLoader":["885361","53361"],"./nl/LocaleDataLoader":["593752","85528"],"./vi_VN/LocaleDataLoader":["754122","99083"],"./es_ES/LocaleDataLoader":["27246","92758"],"./sv_SE/LocaleDataLoader":["249853","60127"],"./ru_RU/LocaleDataLoader":["306087","86610"],"./uk_UA/LocaleDataLoader":["150487","43064"],"./en_US/LocaleDataLoader":["351760","95303"],"./ms_MY/LocaleDataLoader":["529824","23200"],"./bn_IN/LocaleDataLoader":["785293","41651"],"./nb_NO/LocaleDataLoader":["489209","15242"],"./it/LocaleDataLoader":["969582","7613"],"./te_IN/LocaleDataLoader":["462394","33744"],"./es_419/LocaleDataLoader":["896844","44068"],"./es_AR/LocaleDataLoader":["971273","14394"],"./tr/LocaleDataLoader":["626438","27644"],"./af_ZA/LocaleDataLoader":["978080","6065"],"./es_MX/LocaleDataLoader":["951796","99147"],"./pt_BR/LocaleDataLoader":["852931","60566"],"./fi_FI/LocaleDataLoader":["369347","80158"],"./da_DK/LocaleDataLoader":["11114","88844"],"./fr/LocaleDataLoader":["273629","12168"],"./pt_PT/LocaleDataLoader":["147951","87457"],"./ar_SA/LocaleDataLoader":["66130","29585"],"./sk_SK/LocaleDataLoader":["215225","5539"],"./hu_HU/LocaleDataLoader":["827390","55719"],"./hr_HR/LocaleDataLoader":["169293","60605"],"./tl_PH/LocaleDataLoader":["649698","9849"],"./el_GR/LocaleDataLoader":["161910","2304"],"./ja/LocaleDataLoader":["388227","34040"],"./ro_RO/LocaleDataLoader":["337630","88369"],"./es_US/LocaleDataLoader":["515562","52458"],"./zh_CN/LocaleDataLoader":["181594","90170"],"./pl_PL/LocaleDataLoader":["105585","82294"],"./bg_BG/LocaleDataLoader":["454662","36738"],"./id_ID/LocaleDataLoader":["244515","51603"],"./th_TH/LocaleDataLoader":["669649","61242"],"./de/LocaleDataLoader":["576124","17889"]};function n(e){if(!t.o(r,e))return Promise.resolve().then(function(){var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a});var a=r[e],n=a[0];return t.e(a[1]).then(function(){return t(n)})}n.keys=()=>Object.keys(r),n.id=446291,e.exports=n},978991:function(e,a,t){var r={"./af_ZA/LocaleDataLoader":"978080","./ar_SA/LocaleDataLoader":"66130","./bg_BG/LocaleDataLoader":"454662","./bn_IN/LocaleDataLoader":"785293","./cs_CZ/LocaleDataLoader":"5362","./da_DK/LocaleDataLoader":"11114","./de/LocaleDataLoader":"576124","./el_GR/LocaleDataLoader":"161910","./en_AU/LocaleDataLoader":"685005","./en_GB/LocaleDataLoader":"450875","./en_IN/LocaleDataLoader":"108941","./en_US/LocaleDataLoader":"351760","./es_419/LocaleDataLoader":"896844","./es_AR/LocaleDataLoader":"971273","./es_ES/LocaleDataLoader":"27246","./es_MX/LocaleDataLoader":"951796","./es_US/LocaleDataLoader":"515562","./fi_FI/LocaleDataLoader":"369347","./fr/LocaleDataLoader":"273629","./he_IL/LocaleDataLoader":"175496","./hi_IN/LocaleDataLoader":"609030","./hr_HR/LocaleDataLoader":"169293","./hu_HU/LocaleDataLoader":"827390","./id_ID/LocaleDataLoader":"244515","./it/LocaleDataLoader":"969582","./ja/LocaleDataLoader":"388227","./ko_KR/LocaleDataLoader":"885361","./ms_MY/LocaleDataLoader":"529824","./nb_NO/LocaleDataLoader":"489209","./nl/LocaleDataLoader":"593752","./pl_PL/LocaleDataLoader":"105585","./pt_BR/LocaleDataLoader":"852931","./pt_PT/LocaleDataLoader":"147951","./ro_RO/LocaleDataLoader":"337630","./ru_RU/LocaleDataLoader":"306087","./sk_SK/LocaleDataLoader":"215225","./sv_SE/LocaleDataLoader":"249853","./te_IN/LocaleDataLoader":"462394","./th_TH/LocaleDataLoader":"669649","./tl_PH/LocaleDataLoader":"649698","./tr/LocaleDataLoader":"626438","./uk_UA/LocaleDataLoader":"150487","./vi_VN/LocaleDataLoader":"754122","./zh_CN/LocaleDataLoader":"181594","./zh_TW/LocaleDataLoader":"758893"};function n(e){var a=s(e);if(!t.m[a]){var r=Error("Module '"+e+"' ('"+a+"') is not available (weak dependency)");throw r.code="MODULE_NOT_FOUND",r}return t(a)}function s(e){if(!t.o(r,e)){var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return r[e]}n.keys=()=>Object.keys(r),n.resolve=s,n.id=978991,e.exports=n},13882:function(e,a,t){function r(e,a){if(a.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+a.length+" present")}t.d(a,{Z:()=>r})},983946:function(e,a,t){function r(e){if(null===e||!0===e||!1===e)return NaN;var a=Number(e);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}t.d(a,{Z:()=>r})},777349:function(e,a,t){t.d(a,{Z:()=>o});var r=t(983946),n=t(619013),s=t(13882);function o(e,a){(0,s.Z)(2,arguments);var t=(0,n.Z)(e),o=(0,r.Z)(a);return isNaN(o)?new Date(NaN):(o&&t.setDate(t.getDate()+o),t)}},707069:function(e,a,t){t.d(a,{Z:()=>o});var r=t(983946),n=t(777349),s=t(13882);function o(e,a){(0,s.Z)(2,arguments);var t=(0,r.Z)(a);return(0,n.Z)(e,-t)}},619013:function(e,a,t){t.d(a,{Z:()=>n});var r=t(13882);function n(e){(0,r.Z)(1,arguments);var a=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===a?new Date(e.getTime()):"number"==typeof e||"[object Number]"===a?new Date(e):(("string"==typeof e||"[object String]"===a)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},525169:function(e,a,t){var r=t(973935),n={stream:!0},s=new Map;function o(e){var a=t(e);return"function"!=typeof a.then||"fulfilled"===a.status?null:(a.then(function(e){a.status="fulfilled",a.value=e},function(e){a.status="rejected",a.reason=e}),a)}function i(){}function l(e){for(var a=e[1],r=[],n=0;n<a.length;){var l=a[n++],d=a[n++],u=s.get(l);void 0===u?(c.set(l,d),d=t.e(l),r.push(d),u=s.set.bind(s,l,null),d.then(u,i),s.set(l,d)):null!==u&&r.push(u)}return 4===e.length?0===r.length?o(e[0]):Promise.all(r).then(function(){return o(e[0])}):0<r.length?Promise.all(r):null}function d(e){var a=t(e[0]);if(4===e.length&&"function"==typeof a.then)if("fulfilled"===a.status)a=a.value;else throw a.reason;return"*"===e[2]?a:""===e[2]?a.__esModule?a.default:a:a[e[2]]}var c=new Map,u=t.u;t.u=function(e){var a=c.get(e);return void 0!==a?a:u(e)};var _=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,p=Symbol.for("react.transitional.element"),E=Symbol.for("react.lazy"),S=Symbol.iterator,y=Symbol.asyncIterator,T=Array.isArray,R=Object.getPrototypeOf,m=Object.prototype,A=new WeakMap;function f(e,a,t){A.has(e)||A.set(e,{id:a,originalBind:e.bind,bound:t})}function g(e,a,t,r){this.status=e,this.value=a,this.reason=t,this._response=r}function I(e){switch(e.status){case"resolved_model":w(e);break;case"resolved_module":U(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":throw e;default:throw e.reason}}function C(e){return new g("pending",null,null,e)}function P(e,a){for(var t=0;t<e.length;t++)(0,e[t])(a)}function h(e,a,t){switch(e.status){case"fulfilled":P(a,e.value);break;case"pending":case"blocked":if(e.value)for(var r=0;r<a.length;r++)e.value.push(a[r]);else e.value=a;if(e.reason){if(t)for(a=0;a<t.length;a++)e.reason.push(t[a])}else e.reason=t;break;case"rejected":t&&P(t,e.reason)}}function O(e,a){if("pending"!==e.status&&"blocked"!==e.status)e.reason.error(a);else{var t=e.reason;e.status="rejected",e.reason=a,null!==t&&P(t,a)}}function N(e,a,t){return new g("resolved_model",(t?'{"done":true,"value":':'{"done":false,"value":')+a+"}",null,e)}function D(e,a,t){v(e,(t?'{"done":true,"value":':'{"done":false,"value":')+a+"}")}function v(e,a){if("pending"!==e.status)e.reason.enqueueModel(a);else{var t=e.value,r=e.reason;e.status="resolved_model",e.value=a,null!==t&&(w(e),h(e,t,r))}}function L(e,a){if("pending"===e.status||"blocked"===e.status){var t=e.value,r=e.reason;e.status="resolved_module",e.value=a,null!==t&&(U(e),h(e,t,r))}}g.prototype=Object.create(Promise.prototype),g.prototype.then=function(e,a){switch(this.status){case"resolved_model":w(this);break;case"resolved_module":U(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),a&&(null===this.reason&&(this.reason=[]),this.reason.push(a));break;default:a&&a(this.reason)}};var b=null;function w(e){var a=b;b=null;var t=e.value;e.status="blocked",e.value=null,e.reason=null;try{var r=JSON.parse(t,e._response._fromJSON),n=e.value;if(null!==n&&(e.value=null,e.reason=null,P(n,r)),null!==b){if(b.errored)throw b.value;if(0<b.deps){b.value=r,b.chunk=e;return}}e.status="fulfilled",e.value=r}catch(a){e.status="rejected",e.reason=a}finally{b=a}}function U(e){try{var a=d(e.value);e.status="fulfilled",e.value=a}catch(a){e.status="rejected",e.reason=a}}function G(e,a){e._closed=!0,e._closedReason=a,e._chunks.forEach(function(e){"pending"===e.status&&O(e,a)})}function M(e){return{$$typeof:E,_payload:e,_init:I}}function B(e,a){var t=e._chunks,r=t.get(a);return r||(r=e._closed?new g("rejected",null,e._closedReason,e):C(e),t.set(a,r)),r}function k(e,a,t,r,n,s){function o(e){if(!i.errored){i.errored=!0,i.value=e;var a=i.chunk;null!==a&&"blocked"===a.status&&O(a,e)}}if(b){var i=b;i.deps++}else i=b={parent:null,chunk:null,value:null,deps:1,errored:!1};return e.then(function e(l){for(var d=1;d<s.length;d++){for(;l.$$typeof===E;)if((l=l._payload)===i.chunk)l=i.value;else if("fulfilled"===l.status)l=l.value;else{s.splice(0,d-1),l.then(e,o);return}l=l[s[d]]}d=n(r,l,a,t),a[t]=d,""===t&&null===i.value&&(i.value=d),a[0]===p&&"object"==typeof i.value&&null!==i.value&&i.value.$$typeof===p&&(l=i.value,"3"===t)&&(l.props=d),i.deps--,0===i.deps&&null!==(d=i.chunk)&&"blocked"===d.status&&(l=d.value,d.status="fulfilled",d.value=i.value,null!==l&&P(l,i.value))},o),null}function F(e,a,t,r){if(!e._serverReferenceConfig)return function(e,a){function t(){var e=Array.prototype.slice.call(arguments);return n?"fulfilled"===n.status?a(r,n.value.concat(e)):Promise.resolve(n).then(function(t){return a(r,t.concat(e))}):a(r,e)}var r=e.id,n=e.bound;return f(t,r,n),t}(a,e._callServer);var n=function(e,a){var t="",r=e[a];if(r)t=r.name;else{var n=a.lastIndexOf("#");if(-1!==n&&(t=a.slice(n+1),r=e[a.slice(0,n)]),!r)throw Error('Could not find the module "'+a+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return r.async?[r.id,r.chunks,t,1]:[r.id,r.chunks,t]}(e._serverReferenceConfig,a.id);if(e=l(n))a.bound&&(e=Promise.all([e,a.bound]));else{if(!a.bound)return f(e=d(n),a.id,a.bound),e;e=Promise.resolve(a.bound)}if(b){var s=b;s.deps++}else s=b={parent:null,chunk:null,value:null,deps:1,errored:!1};return e.then(function(){var e=d(n);if(a.bound){var o=a.bound.value.slice(0);o.unshift(null),e=e.bind.apply(e,o)}f(e,a.id,a.bound),t[r]=e,""===r&&null===s.value&&(s.value=e),t[0]===p&&"object"==typeof s.value&&null!==s.value&&s.value.$$typeof===p&&(o=s.value,"3"===r)&&(o.props=e),s.deps--,0===s.deps&&null!==(e=s.chunk)&&"blocked"===e.status&&(o=e.value,e.status="fulfilled",e.value=s.value,null!==o&&P(o,s.value))},function(e){if(!s.errored){s.errored=!0,s.value=e;var a=s.chunk;null!==a&&"blocked"===a.status&&O(a,e)}}),null}function H(e,a,t,r,n){var s=parseInt((a=a.split(":"))[0],16);switch((s=B(e,s)).status){case"resolved_model":w(s);break;case"resolved_module":U(s)}switch(s.status){case"fulfilled":var o=s.value;for(s=1;s<a.length;s++){for(;o.$$typeof===E;)if("fulfilled"!==(o=o._payload).status)return k(o,t,r,e,n,a.slice(s-1));else o=o.value;o=o[a[s]]}return n(e,o,t,r);case"pending":case"blocked":return k(s,t,r,e,n,a);default:return b?(b.errored=!0,b.value=s.reason):b={parent:null,chunk:null,value:s.reason,deps:0,errored:!0},null}}function x(e,a){return new Map(a)}function V(e,a){return new Set(a)}function Y(e,a){return new Blob(a.slice(1),{type:a[0]})}function $(e,a){e=new FormData;for(var t=0;t<a.length;t++)e.append(a[t][0],a[t][1]);return e}function j(e,a){return a[Symbol.iterator]()}function W(e,a){return a}function Z(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function q(e,a,t,r,n,s,o){var i,l=new Map;this._bundlerConfig=e,this._serverReferenceConfig=a,this._moduleLoading=t,this._callServer=void 0!==r?r:Z,this._encodeFormAction=n,this._nonce=s,this._chunks=l,this._stringDecoder=new TextDecoder,this._fromJSON=null,this._rowLength=this._rowTag=this._rowID=this._rowState=0,this._buffer=[],this._closed=!1,this._closedReason=null,this._tempRefs=o,this._fromJSON=(i=this,function(e,a){if("string"==typeof a){var t=i,r=this,n=e,s=a;if("$"===s[0]){if("$"===s)return null!==b&&"0"===n&&(b={parent:b,chunk:null,value:null,deps:0,errored:!1}),p;switch(s[1]){case"$":return s.slice(1);case"L":return M(t=B(t,r=parseInt(s.slice(2),16)));case"@":if(2===s.length)return new Promise(function(){});return B(t,r=parseInt(s.slice(2),16));case"S":return Symbol.for(s.slice(2));case"F":return H(t,s=s.slice(2),r,n,F);case"T":if(r="$"+s.slice(2),null==(t=t._tempRefs))throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return t.get(r);case"Q":return H(t,s=s.slice(2),r,n,x);case"W":return H(t,s=s.slice(2),r,n,V);case"B":return H(t,s=s.slice(2),r,n,Y);case"K":return H(t,s=s.slice(2),r,n,$);case"Z":return ee();case"i":return H(t,s=s.slice(2),r,n,j);case"I":return 1/0;case"-":return"$-0"===s?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(s.slice(2)));case"n":return BigInt(s.slice(2));default:return H(t,s=s.slice(1),r,n,W)}}return s}if("object"==typeof a&&null!==a){if(a[0]===p){if(e={$$typeof:p,type:a[1],key:a[2],ref:null,props:a[3]},null!==b){if(b=(a=b).parent,a.errored)e=M(e=new g("rejected",null,a.value,i));else if(0<a.deps){var o=new g("blocked",null,null,i);a.value=e,a.chunk=o,e=M(o)}}}else e=a;return e}return a})}function z(e,a,t){var r=e._chunks,n=r.get(a);n&&"pending"!==n.status?n.reason.enqueueValue(t):r.set(a,new g("fulfilled",t,null,e))}function K(e,a,t,r){var n=e._chunks,s=n.get(a);s?"pending"===s.status&&(e=s.value,s.status="fulfilled",s.value=t,s.reason=r,null!==e&&P(e,s.value)):n.set(a,new g("fulfilled",t,r,e))}function Q(e,a,t){var r=null;t=new ReadableStream({type:t,start:function(e){r=e}});var n=null;K(e,a,t,{enqueueValue:function(e){null===n?r.enqueue(e):n.then(function(){r.enqueue(e)})},enqueueModel:function(a){if(null===n){var t=new g("resolved_model",a,null,e);w(t),"fulfilled"===t.status?r.enqueue(t.value):(t.then(function(e){return r.enqueue(e)},function(e){return r.error(e)}),n=t)}else{t=n;var s=C(e);s.then(function(e){return r.enqueue(e)},function(e){return r.error(e)}),n=s,t.then(function(){n===s&&(n=null),v(s,a)})}},close:function(){if(null===n)r.close();else{var e=n;n=null,e.then(function(){return r.close()})}},error:function(e){if(null===n)r.error(e);else{var a=n;n=null,a.then(function(){return r.error(e)})}}})}function X(){return this}function J(e,a,t){var r=[],n=!1,s=0,o={};o[y]=function(){var a,t=0;return(a={next:a=function(a){if(void 0!==a)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(t===r.length){if(n)return new g("fulfilled",{done:!0,value:void 0},null,e);r[t]=C(e)}return r[t++]}})[y]=X,a},K(e,a,t?o[y]():o,{enqueueValue:function(a){if(s===r.length)r[s]=new g("fulfilled",{done:!1,value:a},null,e);else{var t=r[s],n=t.value,o=t.reason;t.status="fulfilled",t.value={done:!1,value:a},null!==n&&h(t,n,o)}s++},enqueueModel:function(a){s===r.length?r[s]=N(e,a,!1):D(r[s],a,!1),s++},close:function(a){for(n=!0,s===r.length?r[s]=N(e,a,!0):D(r[s],a,!0),s++;s<r.length;)D(r[s++],'"$undefined"',!0)},error:function(a){for(n=!0,s===r.length&&(r[s]=C(e));s<r.length;)O(r[s++],a)}})}function ee(){var e=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.");return e.stack="Error: "+e.message,e}function ea(e,a){for(var t=e.length,r=a.length,n=0;n<t;n++)r+=e[n].byteLength;r=new Uint8Array(r);for(var s=n=0;s<t;s++){var o=e[s];r.set(o,n),n+=o.byteLength}return r.set(a,n),r}function et(e,a,t,r,n,s){z(e,a,n=new n((t=0===t.length&&0==r.byteOffset%s?r:ea(t,r)).buffer,t.byteOffset,t.byteLength/s))}function er(e){return new q(null,null,null,e&&e.callServer?e.callServer:void 0,void 0,void 0,e&&e.temporaryReferences?e.temporaryReferences:void 0)}function en(e,a){function t(a){G(e,a)}var r=a.getReader();r.read().then(function a(s){var o=s.value;if(s.done)G(e,Error("Connection closed."));else{var i=0,d=e._rowState;s=e._rowID;for(var c=e._rowTag,u=e._rowLength,p=e._buffer,E=o.length;i<E;){var S=-1;switch(d){case 0:58===(S=o[i++])?d=1:s=s<<4|(96<S?S-87:S-48);continue;case 1:84===(d=o[i])||65===d||79===d||111===d||85===d||83===d||115===d||76===d||108===d||71===d||103===d||77===d||109===d||86===d?(c=d,d=2,i++):64<d&&91>d||35===d||114===d||120===d?(c=d,d=3,i++):(c=0,d=3);continue;case 2:44===(S=o[i++])?d=4:u=u<<4|(96<S?S-87:S-48);continue;case 3:S=o.indexOf(10,i);break;case 4:(S=i+u)>o.length&&(S=-1)}var y=o.byteOffset+i;if(-1<S)(function(e,a,t,r,s){switch(t){case 65:z(e,a,ea(r,s).buffer);return;case 79:et(e,a,r,s,Int8Array,1);return;case 111:z(e,a,0===r.length?s:ea(r,s));return;case 85:et(e,a,r,s,Uint8ClampedArray,1);return;case 83:et(e,a,r,s,Int16Array,2);return;case 115:et(e,a,r,s,Uint16Array,2);return;case 76:et(e,a,r,s,Int32Array,4);return;case 108:et(e,a,r,s,Uint32Array,4);return;case 71:et(e,a,r,s,Float32Array,4);return;case 103:et(e,a,r,s,Float64Array,8);return;case 77:et(e,a,r,s,BigInt64Array,8);return;case 109:et(e,a,r,s,BigUint64Array,8);return;case 86:et(e,a,r,s,DataView,1);return}for(var o=e._stringDecoder,i="",d=0;d<r.length;d++)i+=o.decode(r[d],n);switch(r=i+=o.decode(s),t){case 73:var c=e,u=a,p=r,E=c._chunks,S=E.get(u);p=JSON.parse(p,c._fromJSON);var y=function(e,a){if(e){var t=e[a[0]];if(e=t&&t[a[2]])t=e.name;else{if(!(e=t&&t["*"]))throw Error('Could not find the module "'+a[0]+'" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.');t=a[2]}return 4===a.length?[e.id,e.chunks,t,1]:[e.id,e.chunks,t]}return a}(c._bundlerConfig,p);if(p=l(y)){if(S){var T=S;T.status="blocked"}else T=new g("blocked",null,null,c),E.set(u,T);p.then(function(){return L(T,y)},function(e){return O(T,e)})}else S?L(S,y):E.set(u,new g("resolved_module",y,null,c));break;case 72:switch(a=r[0],e=JSON.parse(r=r.slice(1),e._fromJSON),r=_.d,a){case"D":r.D(e);break;case"C":"string"==typeof e?r.C(e):r.C(e[0],e[1]);break;case"L":a=e[0],t=e[1],3===e.length?r.L(a,t,e[2]):r.L(a,t);break;case"m":"string"==typeof e?r.m(e):r.m(e[0],e[1]);break;case"X":"string"==typeof e?r.X(e):r.X(e[0],e[1]);break;case"S":"string"==typeof e?r.S(e):r.S(e[0],0===e[1]?void 0:e[1],3===e.length?e[2]:void 0);break;case"M":"string"==typeof e?r.M(e):r.M(e[0],e[1])}break;case 69:t=JSON.parse(r),(r=ee()).digest=t.digest,(s=(t=e._chunks).get(a))?O(s,r):t.set(a,new g("rejected",null,r,e));break;case 84:(s=(t=e._chunks).get(a))&&"pending"!==s.status?s.reason.enqueueValue(r):t.set(a,new g("fulfilled",r,null,e));break;case 78:case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:Q(e,a,void 0);break;case 114:Q(e,a,"bytes");break;case 88:J(e,a,!1);break;case 120:J(e,a,!0);break;case 67:(e=e._chunks.get(a))&&"fulfilled"===e.status&&e.reason.close(""===r?'"$undefined"':r);break;default:(s=(t=e._chunks).get(a))?v(s,r):t.set(a,new g("resolved_model",r,null,e))}})(e,s,c,p,u=new Uint8Array(o.buffer,y,S-i)),i=S,3===d&&i++,u=s=c=d=0,p.length=0;else{o=new Uint8Array(o.buffer,y,o.byteLength-i),p.push(o),u-=o.byteLength;break}}return e._rowState=d,e._rowID=s,e._rowTag=c,e._rowLength=u,r.read().then(a).catch(t)}}).catch(t)}a.createFromFetch=function(e,a){var t=er(a);return e.then(function(e){en(t,e.body)},function(e){G(t,e)}),B(t,0)},a.createFromReadableStream=function(e,a){return en(a=er(a),e),B(a,0)},a.createServerReference=function(e,a){function t(){var t=Array.prototype.slice.call(arguments);return a(e,t)}return f(t,e,null),t},a.createTemporaryReferenceSet=function(){return new Map},a.encodeReply=function(e,a){return new Promise(function(t,r){var n=function(e,a,t,r,n){function s(e,a){a=new Blob([new Uint8Array(a.buffer,a.byteOffset,a.byteLength)]);var t=l++;return null===c&&(c=new FormData),c.append(""+t,a),"$"+e+t.toString(16)}function o(e,f){if(null===f)return null;if("object"==typeof f){switch(f.$$typeof){case p:if(void 0!==t&&-1===e.indexOf(":")){var g,I,C,P,h,O=u.get(this);if(void 0!==O)return t.set(O+":"+e,f),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case E:O=f._payload;var N=f._init;null===c&&(c=new FormData),d++;try{var D=N(O),v=l++,L=i(D,v);return c.append(""+v,L),"$"+v.toString(16)}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then){d++;var b=l++;return O=function(){try{var e=i(f,b),a=c;a.append(""+b,e),d--,0===d&&r(a)}catch(e){n(e)}},e.then(O,O),"$"+b.toString(16)}return n(e),null}finally{d--}}if("function"==typeof f.then){null===c&&(c=new FormData),d++;var w=l++;return f.then(function(e){try{var t=i(e,w);(e=c).append(a+w,t),d--,0===d&&r(e)}catch(e){n(e)}},n),"$@"+w.toString(16)}if(void 0!==(O=u.get(f)))if(_!==f)return O;else _=null;else -1===e.indexOf(":")&&void 0!==(O=u.get(this))&&(e=O+":"+e,u.set(f,e),void 0!==t&&t.set(e,f));if(T(f))return f;if(f instanceof FormData){null===c&&(c=new FormData);var U=c,G=a+(e=l++)+"_";return f.forEach(function(e,a){U.append(G+a,e)}),"$K"+e.toString(16)}if(f instanceof Map)return e=l++,O=i(Array.from(f),e),null===c&&(c=new FormData),c.append(a+e,O),"$Q"+e.toString(16);if(f instanceof Set)return e=l++,O=i(Array.from(f),e),null===c&&(c=new FormData),c.append(a+e,O),"$W"+e.toString(16);if(f instanceof ArrayBuffer)return e=new Blob([f]),O=l++,null===c&&(c=new FormData),c.append(a+O,e),"$A"+O.toString(16);if(f instanceof Int8Array)return s("O",f);if(f instanceof Uint8Array)return s("o",f);if(f instanceof Uint8ClampedArray)return s("U",f);if(f instanceof Int16Array)return s("S",f);if(f instanceof Uint16Array)return s("s",f);if(f instanceof Int32Array)return s("L",f);if(f instanceof Uint32Array)return s("l",f);if(f instanceof Float32Array)return s("G",f);if(f instanceof Float64Array)return s("g",f);if(f instanceof BigInt64Array)return s("M",f);if(f instanceof BigUint64Array)return s("m",f);if(f instanceof DataView)return s("V",f);if("function"==typeof Blob&&f instanceof Blob)return null===c&&(c=new FormData),e=l++,c.append(a+e,f),"$B"+e.toString(16);if(e=null===(g=f)||"object"!=typeof g?null:"function"==typeof(g=S&&g[S]||g["@@iterator"])?g:null)return(O=e.call(f))===f?(e=l++,O=i(Array.from(O),e),null===c&&(c=new FormData),c.append(a+e,O),"$i"+e.toString(16)):Array.from(O);if("function"==typeof ReadableStream&&f instanceof ReadableStream)return function(e){try{var t,s,i,u,_,p,E,S=e.getReader({mode:"byob"})}catch(u){return t=e.getReader(),null===c&&(c=new FormData),s=c,d++,i=l++,t.read().then(function e(l){if(l.done)s.append(a+i,"C"),0==--d&&r(s);else try{var c=JSON.stringify(l.value,o);s.append(a+i,c),t.read().then(e,n)}catch(e){n(e)}},n),"$R"+i.toString(16)}return u=S,null===c&&(c=new FormData),_=c,d++,p=l++,E=[],u.read(new Uint8Array(1024)).then(function e(t){t.done?(t=l++,_.append(a+t,new Blob(E)),_.append(a+p,'"$o'+t.toString(16)+'"'),_.append(a+p,"C"),0==--d&&r(_)):(E.push(t.value),u.read(new Uint8Array(1024)).then(e,n))},n),"$r"+p.toString(16)}(f);if("function"==typeof(e=f[y]))return I=f,C=e.call(f),null===c&&(c=new FormData),P=c,d++,h=l++,I=I===C,C.next().then(function e(t){if(t.done){if(void 0===t.value)P.append(a+h,"C");else try{var s=JSON.stringify(t.value,o);P.append(a+h,"C"+s)}catch(e){n(e);return}0==--d&&r(P)}else try{var i=JSON.stringify(t.value,o);P.append(a+h,i),C.next().then(e,n)}catch(e){n(e)}},n),"$"+(I?"x":"X")+h.toString(16);if((e=R(f))!==m&&(null===e||null!==R(e))){if(void 0===t)throw Error("Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.");return"$T"}return f}if("string"==typeof f)return"Z"===f[f.length-1]&&this[e]instanceof Date?"$D"+f:e="$"===f[0]?"$"+f:f;if("boolean"==typeof f)return f;if("number"==typeof f)return Number.isFinite(f)?0===f&&-1/0==1/f?"$-0":f:1/0===f?"$Infinity":-1/0===f?"$-Infinity":"$NaN";if(void 0===f)return"$undefined";if("function"==typeof f){if(void 0!==(O=A.get(f)))return e=JSON.stringify({id:O.id,bound:O.bound},o),null===c&&(c=new FormData),O=l++,c.set(a+O,e),"$F"+O.toString(16);if(void 0!==t&&-1===e.indexOf(":")&&void 0!==(O=u.get(this)))return t.set(O+":"+e,f),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof f){if(void 0!==t&&-1===e.indexOf(":")&&void 0!==(O=u.get(this)))return t.set(O+":"+e,f),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"==typeof f)return"$n"+f.toString(10);throw Error("Type "+typeof f+" is not supported as an argument to a Server Function.")}function i(e,a){return"object"==typeof e&&null!==e&&(a="$"+a.toString(16),u.set(e,a),void 0!==t&&t.set(a,e)),_=e,JSON.stringify(e,o)}var l=1,d=0,c=null,u=new WeakMap,_=e,f=i(e,0);return null===c?r(f):(c.set(a+"0",f),0===d&&r(c)),function(){0<d&&(d=0,null===c?r(f):r(c))}}(e,"",a&&a.temporaryReferences?a.temporaryReferences:void 0,t,r);if(a&&a.signal){var s=a.signal;if(s.aborted)n(s.reason);else{var o=function(){n(s.reason),s.removeEventListener("abort",o)};s.addEventListener("abort",o)}}})},a.registerServerReference=function(e,a){return f(e,a,null),e}},217775:function(e,a,t){e.exports=t(525169)},753894:function(e,a,t){function r(e){return function(a){var t=a.dispatch,r=a.getState;return function(a){return function(n){return"function"==typeof n?n(t,r,e):a(n)}}}}t.d(a,{Z:()=>s});var n=r();n.withExtraArgument=r;let s=n},656152:function(e,a){function t(e,a){var t=e.length;for(e.push(a);0<t;){var r=t-1>>>1,n=e[r];if(0<s(n,a))e[r]=a,e[t]=n,t=r;else break}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var a=e[0],t=e.pop();if(t!==a){e[0]=t;for(var r=0,n=e.length,o=n>>>1;r<o;){var i=2*(r+1)-1,l=e[i],d=i+1,c=e[d];if(0>s(l,t))d<n&&0>s(c,l)?(e[r]=c,e[d]=t,r=d):(e[r]=l,e[i]=t,r=i);else if(d<n&&0>s(c,t))e[r]=c,e[d]=t,r=d;else break}}return a}function s(e,a){var t=e.sortIndex-a.sortIndex;return 0!==t?t:e.id-a.id}if(a.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,i=performance;a.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();a.unstable_now=function(){return l.now()-d}}var c=[],u=[],_=1,p=null,E=3,S=!1,y=!1,T=!1,R=!1,m="function"==typeof setTimeout?setTimeout:null,A="function"==typeof clearTimeout?clearTimeout:null,f="undefined"!=typeof setImmediate?setImmediate:null;function g(e){for(var a=r(u);null!==a;){if(null===a.callback)n(u);else if(a.startTime<=e)n(u),a.sortIndex=a.expirationTime,t(c,a);else break;a=r(u)}}function I(e){if(T=!1,g(e),!y)if(null!==r(c))y=!0,C||(C=!0,o());else{var a=r(u);null!==a&&b(I,a.startTime-e)}}var C=!1,P=-1,h=5,O=-1;function N(){return!!R||!(a.unstable_now()-O<h)}function D(){if(R=!1,C){var e=a.unstable_now();O=e;var t=!0;try{e:{y=!1,T&&(T=!1,A(P),P=-1),S=!0;var s=E;try{a:{for(g(e),p=r(c);null!==p&&!(p.expirationTime>e&&N());){var i=p.callback;if("function"==typeof i){p.callback=null,E=p.priorityLevel;var l=i(p.expirationTime<=e);if(e=a.unstable_now(),"function"==typeof l){p.callback=l,g(e),t=!0;break a}p===r(c)&&n(c),g(e)}else n(c);p=r(c)}if(null!==p)t=!0;else{var d=r(u);null!==d&&b(I,d.startTime-e),t=!1}}break e}finally{p=null,E=s,S=!1}}}finally{t?o():C=!1}}}if("function"==typeof f)o=function(){f(D)};else if("undefined"!=typeof MessageChannel){var v=new MessageChannel,L=v.port2;v.port1.onmessage=D,o=function(){L.postMessage(null)}}else o=function(){m(D,0)};function b(e,t){P=m(function(){e(a.unstable_now())},t)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(e){e.callback=null},a.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):h=0<e?Math.floor(1e3/e):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(e){switch(E){case 1:case 2:case 3:var a=3;break;default:a=E}var t=E;E=a;try{return e()}finally{E=t}},a.unstable_requestPaint=function(){R=!0},a.unstable_runWithPriority=function(e,a){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=E;E=e;try{return a()}finally{E=t}},a.unstable_scheduleCallback=function(e,n,s){var i=a.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=0x3fffffff;break;case 4:l=1e4;break;default:l=5e3}return l=s+l,e={id:_++,callback:n,priorityLevel:e,startTime:s,expirationTime:l,sortIndex:-1},s>i?(e.sortIndex=s,t(u,e),null===r(c)&&e===r(u)&&(T?(A(P),P=-1):T=!0,b(I,s-i))):(e.sortIndex=l,t(c,e),y||S||(y=!0,C||(C=!0,o()))),e},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(e){var a=E;return function(){var t=E;E=a;try{return e.apply(this,arguments)}finally{E=t}}}},363840:function(e,a,t){e.exports=t(656152)},939672:function(e,a,t){t.d(a,{$A:()=>T,B4:()=>R,N0:()=>f,N3:()=>m,VK:()=>y,_J:()=>A,mW:()=>S});var r=t(281098),n=t(667294),s=t(503246),o=t(603316),i=t(785893);let l={},d={},c={},u=!1,_=0,p={},E=(0,n.createContext)({setMetric:()=>void 0,setRawData:()=>void 0,setRmaData:()=>void 0,updateCommitTimeMap:()=>void 0,commitTimeMap:{}});function S({children:e}){(0,n.useEffect)(()=>{(0,r.Z)("RenderPerformanceContext","/app/common/react/components/ProfilerWithStats/RenderPerformanceContext.tsx")},[]);let a=(0,n.useCallback)((e,a,t)=>{l[e]||(l[e]={}),l[e][a]=t},[]),t=(0,n.useCallback)((e,a,t)=>{c[e]||(c[e]={}),c[e][a]||(c[e][a]=[]),c[e][a].push(t)},[]),o=(0,n.useCallback)(({id:e,path:a,fragmentName:t,executionTime:r,newData:n})=>{if(u)return;let o=`${t}.${e}`;d[a]||(d[a]={}),d[a][o]||(d[a][o]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let i=d[a][o];(0,s.ZP)(n,i.previousData)?(i.wastedTime+=r,_+=r):i.resultUpdatedCount+=1,i.totalRenderTime+=r,i.renderCount+=1,i.previousData=n},[]),S=(0,n.useCallback)((e,a)=>{let t=`${Math.floor(e)}`;p[t]?p[t].push(a):p[t]=[a]},[]),y=(0,n.useMemo)(()=>({setMetric:a,setRawData:t,setRmaData:o,updateCommitTimeMap:S,commitTimeMap:p}),[a,o,t,S]);return(0,i.jsx)(E,{value:y,children:e})}function y(){return(0,n.use)(E)}function T(e){let a=function(){let e=Object.keys(p),a=e.length,t=e.sort().slice(0,a),r={};return t.forEach(e=>{let a=p[e];if(!a)return;let t=a.sort((e,a)=>e.startTime-a.startTime);for(let e=0;e<t.length;e+=1){let a=t[e],n=t[e+1];if(a&&n){let{startTime:e,id:t,actualDuration:s}=a,{startTime:o}=n,i=o<e+s?o-e:s;r[t]||(r[t]=0),r[t]+=i}else if(a){let{actualDuration:e,id:t}=a;r[t]||(r[t]=0),r[t]+=e}}}),r}();return Object.keys(a).forEach(t=>{let r=a[t];if(!r)return;let n=l[e]?.[t]?.mountTime??0,s=l[e]?.[t]?.mountCount??0,o=l[e]?.[t]?.updatesCount??0,i=Number(r.toFixed(2)),d=Number((n+i).toFixed(2)),c=o>0?Number((i/o).toFixed(2)):0,u=l[e]?.[t]?.memoizationDeltaArray??[],_=Math.max(...u),p=u.reduce((e,a)=>e+a,0)/u.length,E=l[e]?.[t]?.memoizationRatioArray??[],S=Math.max(...E),y=E.reduce((e,a)=>e+a,0)/E.length;l[e]&&l[e][t]&&(l[e][t]={...l[e][t],totalCount:s+o,totalTiming:d,updatesCount:o,updateTiming:i,averageUpdateTiming:c,maxMemoizationDelta:_,averageMemoizationDelta:p,maxMemoizationRatio:S,averageMemoizationRatio:y})}),l[e]}function R(e){return c[e]}function m(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function A(e){let a=d[e],t={};u=!0,a&&Object.keys(a).length&&m(e)&&(Object.entries(a).forEach(([e,a])=>{let[r]=e.split(".");r&&!t[r]&&(t[r]=!0,(0,o.QX)(`render_stats.rma.${r}.renderCount`,a.renderCount,{sampleRate:1}),(0,o.QX)(`render_stats.rma.${r}.resultUpdatedCount`,a.resultUpdatedCount,{sampleRate:1}),(0,o.LY)(`render_stats.rma.${r}.renderTime`,a.totalRenderTime,{sampleRate:1}),(0,o.LY)(`render_stats.rma.${r}.wastedTime`,a.totalRenderTime,{sampleRate:1}))}),(0,o.LY)("render_stats.rma.totalWastedTime",_,{sampleRate:1,tags:{path:e}}))}function f(){l={},d={},c={},u=!1,_=0}},573631:function(e,a,t){t.d(a,{G:()=>l,b:()=>d});var r=t(281098),n=t(667294),s=t(825332),o=t(785893);let i=(0,n.createContext)(!0);function l({children:e}){(0,n.useEffect)(()=>{(0,r.Z)("InitialPageContext","/app/packages/InitialPageContext.tsx")},[]);let a=(0,s.TH)(),t=(0,n.useRef)(a).current===a;return(0,o.jsx)(i,{value:t,children:e})}function d(){return(0,n.useContext)(i)}},895628:function(e,a,t){t.d(a,{ZP:()=>E,xR:()=>p});var r=t(255581),n=t(464332),s=t(507282),o=t(941404),i=t(424150),l=t(603316);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},c=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],u=/www\.pinterest\.[A-Za-z]{2}/,_=/[A-Za-z]{2}\.pinterest\.com/;function p(e){if(c.indexOf(e)>-1||u.test(e)||_.test(e))return e;for(let a in d)if(Object.prototype.hasOwnProperty.call(d,a)&&e.indexOf(a)>-1)return d[a];return"other"}function E({pageType:e,requestContext:a,route:t}){(({moduleName:e,pageType:a,requestContext:t})=>{let d,c=(e=>{let{userAgent:a}=e;if(!a.isMobile&&!a.isTablet)return"desktop";switch(a.platform){case i.RL:return"iphone";case i.GW:return a.isTablet?"android_tablet":"android";case i.s4:return"ipad";default:return"mobile_other"}})(t),u=t.isAuthenticated?"auth":"unauth",_=(()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";else if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";else if(e.indexOf("applebot")>-1)return"apple_bot";else if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}})(),E=(0,s.Z)(),S=(d=!1,n.U2(r.VL)||(n.t8(r.VL,"1",(0,n.kZ)(r.VL)),d=!0),d),y=document.domain||"unknown";S&&((0,o.My)(`traffic.${c}.${E}.${e}.${u}`),(0,o.My)(`traffic_subdomain.${y}.${E}.${e}.${u}`),(0,o.My)(`traffic_subdomain.${y}.${c}.${E}.${e}.${u}`),(0,o.My)(`traffic_subdomain.${y}.${c}.${u}`),(0,o.My)(`traffic_duplo.${c}.${E}.${e}.${u}`),_&&(0,o.My)(`traffic_bot.${_}.${e}`));let T={domain:p(y),referrer:E??"unknown",platform:c??"unknown",browser:t.userAgent.browserName??"unknown",bot_type:_??"none",page_type:a??"unknown",is_auth:u??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:S??"unknown"};(0,l.nP)("webapp.traffic",{sampleRate:.1,tags:T}),("google"===E||"other"===E)&&(0,l.nP)(`webapp.traffic.${c}.${E}`,{sampleRate:.1,tags:T})})({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[t]||"other",pageType:e,requestContext:a})}},220455:function(e,a,t){function r(){return new Date(Date.now())}t.d(a,{Z:()=>r})},460118:function(e,a,t){function r(e){let a=new Date(e);return a.setUTCMilliseconds(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCHours(0),a}t.d(a,{Z:()=>r})},503246:function(e,a,t){function r(e,a,t){if(e.length!==a.length)return!1;for(let r=0;r<e.length;r+=1)if(!s(e[r],a[r],t+1))return!1;return!0}function n(e,a,t){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(let r in e)if(!(r in a)||!s(e[r],a[r],t+1))return!1;return!0}function s(e,a,t){if(t>=1e3)return!1;if(e===a)return!0;if(null==e||null==a||"object"!=typeof e&&"object"!=typeof a)return e!=e&&a!=a;let s=Object.prototype.toString.call(e);if(s!==Object.prototype.toString.call(a))return!1;switch(s){case"[object Array]":return r(e,a,t);case"[object Set]":return r(Array.from(e).sort(),Array.from(a).sort(),t);case"[object Object]":case"[object Arguments]":return n(e,a,t);case"[object Map]":return n(Object.fromEntries(e),Object.fromEntries(a),t);case"[object RegExp]":return e+""==a+"";case"[object Error]":return e.name===a.name&&e.message===a.message;default:return!1}}function o(e,a){return s(e,a,0)}t.d(a,{ZP:()=>o,qP:()=>r})},2170:function(e,a,t){t.d(a,{D:()=>o,G:()=>s});var r=t(854237);let n=["completed","dismissed","view-end"];function s(e={},a){switch(a.type){case r.V$:let{experienceId:t,placementId:o,status:i}=a.payload,l={...e},d=l[o]||[],c=d.findIndex(e=>e.experience_id===t);return c>=0&&(n.includes(i)?d.splice(c,1):d[c].status=i),l;case r.$S:let{experiencesMulti:u}=a.payload;return{...u};default:return e}}function o(e={},a){switch(a.type){case r.iY:let{placementId:t,status:s}=a.payload,i={...e};return i[t]&&(n.includes(s)?delete i[t]:i[t].status=s),i;case r.mR:return{...e,...a.payload.experiences};case r._4:let{experiences:l}=a.payload;return{...l};default:return e}}},298422:function(e,a,t){t.d(a,{Nq:()=>o,aK:()=>l,as:()=>s,pl:()=>n});var r=t(686319);let n="GUIDANCE_FETCH_RECOMMENDATION_DATA_START",s="GUIDANCE_FETCH_RECOMMENDATION_DATA_SUCCESS",o="GUIDANCE_FETCH_RECOMMENDATION_DATA_FAILURE";function i(e){return{type:s,payload:{data:e,error:null,isLoading:!1,isLoaded:!0}}}function l(e){let{advertiser_id:a}=e;return async t=>{try{if(t({type:n,payload:{error:null,isLoading:!0,lastCallParams:e}}),a){let n=(await (0,r.Z)({url:"/ads/v4/notification_messages/RECOMMENDATIONS/",data:{...e,recipient_id:a,recipient_type:"ADVERTISER"}})).resource_response.data;t(i(n))}else t(i([]))}catch(e){t({type:o,payload:{data:[],error:e,isLoading:!1}})}}}},35814:function(e,a,t){t.d(a,{Z:()=>p,i:()=>_});var r=t(281098),n=t(667294),s=t(19585),o=t(82583),i=t(675973),l=t(603316),d=t(183152),c=t(78762),u=t(785893);let _=(0,c.Z)(e=>t(446291)(`./${e?.localeCode}/LocaleDataLoader`),{dynamicRequestKey:"localeCode",fallback:(0,u.jsx)(function({group:e}){let a=(0,d.Zv)();return(0,l.nP)("webapp.i18nProvider.suspend",{sampleRate:1,tags:{handler:a,group:e,environment:"client"}}),null},{group:"enabled"})},e=>t(978991).resolve(`./${e?.localeCode}/LocaleDataLoader`),"locale-[request]-LocaleDataLoader",e=>({"locale-en_GB-LocaleDataLoader":["63925"],"locale-es_ES-LocaleDataLoader":["92758"],"locale-he_IL-LocaleDataLoader":["94661"],"locale-zh_CN-LocaleDataLoader":["90170"],"locale-es_419-LocaleDataLoader":["44068"],"locale-es_US-LocaleDataLoader":["52458"],"locale-en_US-LocaleDataLoader":["95303"],"locale-id_ID-LocaleDataLoader":["51603"],"locale-vi_VN-LocaleDataLoader":["99083"],"locale-pt_PT-LocaleDataLoader":["87457"],"locale-ar_SA-LocaleDataLoader":["29585"],"locale-sv_SE-LocaleDataLoader":["60127"],"locale-te_IN-LocaleDataLoader":["33744"],"locale-zh_TW-LocaleDataLoader":["8846"],"locale-bg_BG-LocaleDataLoader":["36738"],"locale-sk_SK-LocaleDataLoader":["5539"],"locale-ms_MY-LocaleDataLoader":["23200"],"locale-el_GR-LocaleDataLoader":["2304"],"locale-af_ZA-LocaleDataLoader":["6065"],"locale-de-LocaleDataLoader":["17889"],"locale-hr_HR-LocaleDataLoader":["60605"],"locale-tr-LocaleDataLoader":["27644"],"locale-it-LocaleDataLoader":["7613"],"locale-th_TH-LocaleDataLoader":["61242"],"locale-fr-LocaleDataLoader":["12168"],"locale-uk_UA-LocaleDataLoader":["43064"],"locale-bn_IN-LocaleDataLoader":["41651"],"locale-da_DK-LocaleDataLoader":["88844"],"locale-nl-LocaleDataLoader":["85528"],"locale-en_AU-LocaleDataLoader":["98982"],"locale-es_AR-LocaleDataLoader":["14394"],"locale-pl_PL-LocaleDataLoader":["82294"],"locale-nb_NO-LocaleDataLoader":["15242"],"locale-ru_RU-LocaleDataLoader":["86610"],"locale-en_IN-LocaleDataLoader":["21232"],"locale-hu_HU-LocaleDataLoader":["55719"],"locale-tl_PH-LocaleDataLoader":["9849"],"locale-cs_CZ-LocaleDataLoader":["78080"],"locale-pt_BR-LocaleDataLoader":["60566"],"locale-es_MX-LocaleDataLoader":["99147"],"locale-hi_IN-LocaleDataLoader":["37452"],"locale-ja-LocaleDataLoader":["34040"],"locale-ko_KR-LocaleDataLoader":["53361"],"locale-fi_FI-LocaleDataLoader":["80158"],"locale-ro_RO-LocaleDataLoader":["88369"]}));function p({children:e,otaData:a,enableInContextTranslation:l,locale:d}){(0,n.useEffect)(()=>{(0,r.Z)("I18nProvider","/app/packages/i18n/I18nProvider.tsx")},[]);let[c,p]=(0,n.useState)(),E=(0,i.Z)(),S=d.split("-").join("_");return(0,n.useEffect)(()=>{let e=async()=>{p(new(await t.e("82621").then(t.bind(t,394972))).default("webapp"))};l&&e()},[l]),(0,u.jsx)(_,{localeCode:S,children:t=>{let r=(0,o.Z)(d,{...t,otaData:a,experimentsClient:E,inContextTranslationWebapp:c});return(0,u.jsx)(s.q6,{value:r,children:e})}})}},82583:function(e,a,t){let r;t.d(a,{Z:()=>m});var n=t(341877),s=t(603316);let o="string_usage_logger.exceptions",i=[];function l(){if(!i.length)return;let e=[...i];i=[],clearTimeout(r),r=void 0;try{let{default:a}=t(966872);a.logToServer(a.SERVER_LOG_TYPE.STRING_USAGE,a.HTTP_METHOD.POST,e,3,1e3)}catch(e){(0,s.nP)(o)}}function d(e,a,t,c,u,_,p,E=1e-4){Math.random()<E&&(()=>{try{let s=n.Z.getTextUnitName(e,t,p,a),o={repository:"webapp",sample_rate:E,content:e,text_unit_name:s,asset_path:"messages.pot",comment:c.trim(),app_locale:a,mojito_locale:a,target:u,translation_status:_,version:"1.0"};!function(e){i.push(e),r||(r=setTimeout(l.bind(this),1e4))}(o)}catch(e){(0,s.nP)(o)}})()}let c="TRANSLATED",u="UNTRANSLATED",_="DELTA",p="i18n.ota_deltas.prod.lookup.hit";function E(e){return window.location.hostname.includes("pinterdev.com")?{locale:e,repository:"webapp",hostname:window.location.hostname}:{locale:e,repository:"webapp"}}let S="NATIVE",y="MT_REQUIRED";function T(e,a,t,r,o,i){let{localeCode:l,inContextTranslation:T,getDeltaTranslation:R}=e,m=a,A=i||void 0===l||"en-US"===l?c:u;if(t=t.replace(/\s+/g," "),"en-US"!==l&&R){let e=R(n.Z.getTextUnitName(t,r,o,l));if(e)return(0,s.nP)(p,{sampleRate:.001,tags:E(l)}),d(t,l,r,"",e,_,o),e}return T&&(m=A===c?T.getIctTranslationOrDefault(t,r,o,l,a,S):T.getIctTranslationOrDefault(t,r,o,l,a,y)),d(t,l,r,"",m,A,o),m}function R(e,a,t="",r="",o){let{localeCode:i,i18nStrings:l,inContextTranslation:T,getDeltaTranslation:m}=e;if(a=a.replace(/\s+/g," "),"en-US"!==i&&m){let e=m(n.Z.getTextUnitName(a,t,o,i));if(e)return(0,s.nP)(p,{sampleRate:.001,tags:E(i)}),d(a,i,t,r,e,_,o),e}let A=a,f=void 0===i||"en-US"===i?c:u;return void 0!==i&&"en-US"!==i&&void 0!==l&&void 0!==l[t]&&void 0!==l[t][a]&&(f=c,Array.isArray(l[t][a])?void 0!==o&&(A=l[t][a][o]):A=l[t][a]),T&&(A=f===c?T.getIctTranslationOrDefault(a,t,o,i,A,S):T.getIctTranslationOrDefault(a,t,o,i,A,y)),d(a,i,t,r,A,f,o),A}function m(e,a){let{otaData:t}=a,r={...a,[e]:{...a[e]||{},i18nStrings:a[e]?.i18nStrings||a.i18nStrings,plural:a[e]?.plural||a.plural}},n={localeCode:e,i18nStrings:r.i18nStrings,pluralFunction:r.locale===e&&r.plural||null,inContextTranslation:r.inContextTranslationWebapp,getDeltaTranslation:t?e=>t.deltas?t.deltas[e]:null:null},s={_:(e,a="",t="",r)=>R(n,e,a,t,r),bt:(e,a,t,r,s)=>T(n,e,a,t,r,s),nbt:(e,a,t,r)=>(function(e,a,t,r,n){let{localeCode:s,pluralFunction:o}=e,i=+(o||(e=>1!==e))(t),l="en-US"===s&&1===i?a[1]:a[0];return T(e,a[i]??a[0],l,r,i,n)})(n,e,a,t,r),ngettext:(e,a,t,r,s)=>(function(e,a,t,r,n,s){let{localeCode:o,pluralFunction:i}=e,l=+(i||(e=>1!==e))(r);return R(e,"en-US"===o&&1===l?t:a,n,s,l)})(n,e,a,t,r,s),getLocaleData:()=>r,getPluralFunction:(a=e)=>r[a]&&r[a].plural?r[a].plural:e=>1!==e},o={defaultErrorMessage:s._('Sorry! Something went wrong on our end!', ' - ', ' -- '),asciiPasswordError:s._('Oops! Your password can only have letters, numbers and basic symbols.', ' - ', ' -- ')};return{...s,commonStrings:o}}},151246:function(e,a,t){t.d(a,{yR:()=>o});var r=t(255581),n=t(464332),s=t(377654);let o=()=>{let e=(0,s.oy)();!!n.U2(r.oj)!==e&&(e?n.t8(r.oj,String(!0),(0,n.kZ)(r.oj)):n.zN(r.oj.name),"undefined"!=typeof window&&window.location.reload())}},377654:function(e,a,t){t.d(a,{Rq:()=>r,Vf:()=>n,jd:()=>s,oy:()=>o});let r=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,n=28,s=e=>window.innerHeight>=748&&r(e),o=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},286036:function(e,a,t){function r(e,a,t){var r;return(a="symbol"==typeof(r=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?r:r+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,{Z:()=>o});let n=new class{constructor(){r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(a=>a!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(a=>a!==e)}},s=e=>{if(e.isHidden){let{reason:a}=e;n.windowInFocus=!1,n.onPauseListeners.forEach(e=>e(a))}else n.windowInFocus=!0,n.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>s({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>s({isHidden:!1})),window.addEventListener("blur",()=>s({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>s({isHidden:!1})),window.addEventListener("pagehide",()=>s({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>s(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>s(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let o=n},526435:function(e,a,t){t.d(a,{$4:()=>v,A7:()=>G,AQ:()=>W,Bj:()=>R,DB:()=>Z,FM:()=>J,G9:()=>B,GX:()=>y,Hy:()=>ec,JO:()=>b,Ke:()=>L,LM:()=>n,Lc:()=>e_,Lr:()=>ed,MN:()=>A,Mn:()=>ee,N8:()=>T,NB:()=>et,P0:()=>er,P9:()=>ei,Pn:()=>f,S:()=>w,TK:()=>I,TZ:()=>O,UU:()=>u,Uw:()=>Q,W_:()=>el,XB:()=>l,Xy:()=>N,YM:()=>C,aD:()=>ep,aj:()=>V,bA:()=>M,bo:()=>d,cH:()=>eT,dS:()=>h,eZ:()=>E,fk:()=>es,g1:()=>eu,gU:()=>c,hH:()=>H,i2:()=>_,iR:()=>k,jh:()=>eE,km:()=>p,lx:()=>U,mr:()=>q,mt:()=>j,n_:()=>x,np:()=>$,of:()=>r,q:()=>ey,qY:()=>P,qm:()=>eo,rc:()=>X,ro:()=>eS,sD:()=>o,sG:()=>S,u1:()=>K,uR:()=>i,v5:()=>s,v9:()=>z,vk:()=>ea,wj:()=>g,x1:()=>F,yC:()=>m,yI:()=>D,yb:()=>Y,zr:()=>en});let r=880,n=340,s=380,o=510,i=40,l=20,d=4,c=474,u=134,_=96,p=800,E=186,S=40,y=10,T=48,R=88,m=183,A=130,f=24,g=400,I=50,C=8,P=8,h=5,O=29,N=5,D=20,v=400,L=100,b=800,w=800,U=500,G=3e3,M=40,B=100,k=5,F=["attempted","publishing","succeeded","uploading"],H={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},x=["tl","tc","tr","bl","bc","br"],V=["left","center"],Y=["top","center","bottom"],$=["none","uppercase"],j=["sm","md","lg"],W=[1,.75],Z=198,q=132,z=1,K=56,Q=240,X="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=1e3,ee=1500,ea=2,et=3,er=20,en=20,es=2,eo=["creating","processing","publishing","saving"],ei=300.5,el=4,ed=0xc800000,ec=2500,eu=3,e_="pin-builder-default-education-id",ep="pin-builder-default-tour-id",eE="pin-builder-editing-tour-id",eS="save_from_url",ey=["processing","edited","creating","saving","saved"],eT=2048},640785:function(e,a,t){t.d(a,{NC:()=>s,Rc:()=>i,WK:()=>d,X9:()=>n,b9:()=>r,f9:()=>l,gu:()=>o});let r="pin-builder-font-faces",n="system-font-faces",s="pin-builder-education-font-faces",o="licensed",i="system",l="brand",d=4},145741:function(e,a,t){t.d(a,{Z:()=>c});var r=t(575108),n=t(652731),s=t(330547);function o(e,a,t){var r;return(a="symbol"==typeof(r=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?r:r+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class i{constructor(e={},a={},t=!1){o(this,"useBatching",!1),o(this,"flush",()=>{}),o(this,"_markExperimentAsActivated",()=>{}),o(this,"checkExperiment",(e,a)=>{a?.dangerouslySkipActivation||this._markExperimentAsActivated(e);let t=(this.active[e]??this.triggerable[e])||"";return{anyEnabled:(0,s.Z)(t),group:t}}),this.active=e,this.triggerable=a,this.useBatching=t}updateExperiments(e,a){e&&(this.active=e),a&&(this.triggerable=a)}}var l=t(603316);function d(e,a,t){var r;return(a="symbol"==typeof(r=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?r:r+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class c extends i{constructor(...e){super(...e),d(this,"_queuedResource",void 0),d(this,"_markExperimentAsActivated",e=>{let a=this.active[e];if(void 0===a&&void 0!==(a=this.triggerable[e])){this.active[e]=a;let t={experiment_name:e,...a?{experiment_group:a}:Object.freeze({})};this.useBatching?(this._queuedResource||(this._queuedResource=(0,n.Z)({flush:e=>{r.Z.create("ActivateExperimentResource",{experiments:e}).callCreate()},flushTimeoutMs:5e3})),this._queuedResource.enqueue(t)):r.Z.create("ActivateExperimentResource",t).callCreate({showError:!1}),(0,l.nP)("ExperimentsClient.markExperimentAsActivated",{sampleRate:.01,tags:{group:a,location:"client",name:e}})}}),d(this,"flush",()=>{this._queuedResource&&this._queuedResource.flush()})}}},337019:function(e,a,t){t.d(a,{Z:()=>r});let r=t(145741).Z},274320:function(e,a,t){t.d(a,{a:()=>r,r:()=>n});let{Provider:r,get:n}=(0,t(729434).Z)("ExperimentContext")},330547:function(e,a,t){t.d(a,{Z:()=>r});let r=e=>e.startsWith("enabled")||e.startsWith("employee")},341877:function(e,a,t){t.d(a,{Z:()=>r});let r=new class{getTextUnitName(e,a,t,r){let n=e;return a&&(n=`${n} --- ${a}`),n=n.replace(/"/g,'\\"'),null!==t&&t>=0&&(n=n+" _"+this.poPluralFormToCLDRForm(t,r)),n}poPluralFormToCLDRForm(e,a){return(({"cs-CZ":{0:"one",1:"few",2:"other"},"ja-JP":{0:"other"},"ko-KR":{0:"other"},"pl-PL":{0:"one",1:"few",2:"many"},"ro-RO":{0:"one",1:"few",2:"other"},"ru-RU":{0:"one",1:"few",2:"many"},"sk-SK":{0:"one",1:"few",2:"other"},"uk-UA":{0:"one",1:"few",2:"many"},"vi-VN":{0:"other"},"id-ID":{0:"other"},"th-TH":{0:"other"},"ms-MY":{0:"other"},"zh-CN":{0:"other"},"zh-TW":{0:"other"},"he-IL":{0:"one",1:"two",2:"many",3:"other"},"ar-SA":{0:"zero",1:"one",2:"two",3:"few",4:"many",5:"other"},"hr-HR":{0:"one",1:"few",2:"other"}})[a]||{0:"one",1:"other"})[e]||"other"}}},529547:function(e,a,t){t.d(a,{Z:()=>s});var r=t(336057),n=t(361423);function s(e){return("desktop"!==e||!!window.performance?.timing)&&!!n.Z&&(0,r.v)()}},368177:function(e,a,t){t.d(a,{Z:()=>o});var r=t(746287),n=t(877025),s=t(550947);function o({requestContext:e,traceLoggerData:a}){return{appVersion:(0,s.Z)(),browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,country:e.country,deviceType:(0,r.Z)(e),fullPath:e.fullPath,getExperimentGroup:a=>e.experimentsClient.checkExperiment(a,{dangerouslySkipActivation:!0}).group||null,hasActiveServiceWorker:(0,n.Z)(),isAppShell:!1,isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot,locale:e.locale,osName:e.userAgent.osName||"",serverData:a,stageName:e.stage,startType:"",unauthId:e.unauthId,storageInfo:{},cacheHitData:[]}}},579358:function(e,a,t){t.d(a,{F9:()=>d,LM:()=>l,VZ:()=>s,cQ:()=>c,rZ:()=>o});var r=t(210811),n=t(901360);let s=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,i=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let a=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return a&&a[1]||null},l=()=>document.querySelector?document.querySelectorAll(r.wc).length:((0,n.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,n.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(r.wc);return e[e.length-1]||null})();if(!e)return!1;let a=window.innerHeight||0,t=window.pageYOffset||0;return e.getBoundingClientRect().top+t>=a},c=(e,a,t)=>{if(!document.querySelector)return(0,n.H)("missing_document_query_selector"),[];let s={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[r.Wf,...e?[r.fF]:[],...a?[r.$N]:[]].join(","),d=[...document.querySelectorAll(l)];if(t){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],a=e=>{let t=[...e.children];!t.length&&e.style.backgroundImage?d.push(e):t.length&&t.forEach(e=>{a(e)})};e.forEach(e=>{a(e)})}return d.reduce((e,t)=>{if((t instanceof HTMLImageElement||t instanceof HTMLDivElement||t instanceof HTMLVideoElement&&a)&&((e,a)=>{let t=o(e);if(!t)return(0,n.H)("missing_client_rect"),!1;if(t.width<70&&t.height<70){if(e instanceof HTMLImageElement)return!1;let a=i(e);if(a?.endsWith("svg"))return!1}return(({top:e,height:a},{foldY:t,pageYOffset:r})=>{let n=e+r;if(n>=t)return!1;let s=Math.min(a,t-n);return s>.5*a||s>.2*t})(t,a)})(t,s)){let a=i(t);if(a){let r=(a||"").replace(/.*\//,"");return e.concat([{element:t,fileName:r}])}}return e},[])}},210811:function(e,a,t){t.d(a,{$N:()=>l,Kb:()=>r,Wf:()=>o,fF:()=>i,wc:()=>s});let r="pwt-grid-item",n=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${r}"]`],s=n.join(","),o=n.map(e=>`${e} img`).join(","),i=n.map(e=>`${e} div[style*=background-image]`).join(","),l=n.map(e=>`${e} video`).join(",")},336057:function(e,a,t){t.d(a,{Z:()=>S,v:()=>E});var r=t(667294),n=t(592109),s=t(579358),o=t(901360),i=t(392824),l=t(293169),d=t(754545),c=t(956077),u=t(610046),_=t(603316);let p=(0,n.XV)("GridProfiler"),E=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,s.VZ)();function S({isAtEndOfFeed:e,pinData:a,includeBackgroundImages:t,includeVideos:E=!1,includeSections:S,isPlaceholderGrid:y,stopwatchSetVisuallyCompleteResult:T,stopwatchContext:R}){let m=(0,d.P9)(),[A,f]=(0,r.useState)({status:"DISABLED"});(0,r.useEffect)(()=>{f({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[m]),(0,r.useEffect)(()=>{if(p("new status",A),"LAYOUT"===A.status){let e=((e,a)=>{let t=()=>{window.removeEventListener(e,t),a()};return window.addEventListener(e,t),()=>window.removeEventListener(e,t)})("scroll",()=>{(0,i.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[A.status]),(0,u.Z)(()=>{let r=(0,d.Ly)(),i=()=>{},u=e=>{(0,d.JG)(e),R&&R?.abort()};"unknown"!==r?i=c.rt:(r=`${R?.name}`,R?.addBinaryAnnotation&&(i=R?.addBinaryAnnotation));let m=(0,s.cQ)(t,E,S);if(y)return void p("bypassing PWT run due to skeleton pin grid");switch(A.status){case"LAYOUT":{let a=((e,a)=>{if(!a){let a=(0,s.LM)();if(a===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,s.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:a}}return{complete:!0}})(A.numOfItemsChecked,e);a.complete?f({status:"TIMING",failedCount:0,pinElements:m}):500*A.failedCount>6e4?((0,o.A9)(`images.${r}.visuallyComplete.maxLayoutAttempt`),u("visuallyComplete_layoutTimeout"),f({status:"DISABLED"})):f({...A,failedCount:A.failedCount+1,numOfItemsChecked:a.numOfItemsChecked});break}case"TIMING":{let e=(0,l.Cg)(),t=A.pinElements.length,s=[],c=0,E=0,S=0,y=1/0,R=0;if(A.pinElements.forEach(({element:a,fileName:t})=>{let o=e.find(e=>e.name.endsWith(t));o?o.responseEnd?(s.push(o),(0,n.v5)(a,"green"),"SEARCH_FEED_RENDER"===r&&(y=Math.min(y,o.requestStart),R=Math.max(R,o.responseEnd))):(S+=1,(0,n.v5)(a,"blue")):a instanceof HTMLImageElement&&a.complete?(E+=1,(0,n.v5)(a,"red")):(c+=1,(0,n.v5)(a,"greenyellow"))}),c||S)100*A.failedCount>6e4?((0,o.A9)(`images.${r}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:t,incompleteCount:c,noTimingCount:E,noTimingResponseEndCount:S}}),u("visuallyComplete_timingTimeout"),f({status:"DISABLED"})):f({...A,failedCount:A.failedCount+1});else{if(p(`All ${s.length} images are fetched`),a&&a.length){var g,I;let e,t,n,s,l,c=(g=a,I=A.pinElements,e=0,t=0,n=0,s=0,l=0,g=g.filter(e=>"pin"===e.type),I.forEach((a,r)=>{let o,i=a.fileName.split(".")[0];o=g[r],i!==o?.image_signature&&(o=g.find(e=>i===e?.image_signature)),void 0===o?l+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?n+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?e+=1:o?.videos?.video_list?t+=1:s+=1}),{storyPinCount:e,videoCount:t,adCount:n,imageCount:s,unknownCount:l});if(Object.entries(c).forEach(([e,a])=>{i(e,a,"I16"),(0,d.XJ)(e,a,"I16")}),(0,o.A9)(`${r}.pinTypes`,{tags:c}),"SEARCH_FEED_RENDER"===r){let e=R-y;a[0].display_options?.num_columns_requested===0?(0,_.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,_.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{T&&T(),(0,d.cB)(e)})({imageTimings:s}),f({status:"DISABLED"}),(0,o.A9)(`images.${r}.visuallyComplete.complete`,{tags:{totalImageCount:t,noTimingCount:E}})}}}},"LAYOUT"===A.status&&500||"TIMING"===A.status&&100||null)}},327613:function(e,a,t){t.d(a,{M3:()=>S,PA:()=>y,RP:()=>E,gq:()=>_});var r=t(529547),n=t(901360),s=t(392824),o=t(645214),i=t(868178),l=t(932885),d=t(970773),c=t(361423);let u={},_=(e,a)=>{a.forEach(a=>{u[a]=(({name:e,pwtStaticContext:a})=>{if(!c.Z||!(0,r.Z)())return null;let t={type:"stopwatch",name:e},n=[],s=!0;return{abort:e=>{if(!s)return;s=!1;let r={type:"ABORT",reason:e,traceId:(0,d.Z)(),startTime:0,endTime:c.Z?.now()||0,spans:[],annotationMap:(0,l.Z)(n),binaryAnnotationMap:(0,o.ng)({metricId:t,pwtStaticContext:a,type:"ABORT"})};(0,i.Z)({metricId:t,pwtStaticContext:a,result:r})},annotate:e=>{s&&n.push({label:e,timestamp:c.Z.now()})},stop:()=>{if(!s)return;s=!1;let e={type:"COMPLETE",traceId:(0,d.Z)(),startTime:0,endTime:c.Z.now(),spans:[],annotationMap:(0,l.Z)(n),binaryAnnotationMap:(0,o.ng)({metricId:t,pwtStaticContext:a,type:"COMPLETE"})};(0,i.Z)({metricId:t,pwtStaticContext:a,result:e})}}})({name:a,pwtStaticContext:e})})},p=e=>u[e],E=(e,a)=>{let t=p(e);if(t)try{t.abort(a)}catch(a){(0,n.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},S=(e,a)=>{let t=p(e);t&&(t.annotate(a),(0,s.ZP)(`stopwatch_${e}_${a}`))},y=e=>{let a=p(e);if(a)try{a.stop()}catch(a){(0,n.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},932885:function(e,a,t){t.d(a,{Z:()=>r});let r=e=>{let a={};e.forEach(({label:e,timestamp:t})=>{a={...a,[e]:(a[e]||[]).concat([t])}});let t=Object.freeze({});return Object.keys(a).forEach(e=>{(a[e]||[]).forEach((a,r)=>{let n=r?`${e}_${r+1}`:e;t={...t,[n]:a}})}),t}},30880:function(e,a,t){t.d(a,{Z:()=>o});var r=t(32259);let n=null;function s(e){(0,r.El)({eventName:`perf.not_supported.${e}`})}function o(){if(n)return n;try{if(!window.performance||!performance)return s("window_performance"),n=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return s("window_PerformanceObserver"),n=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return s("window_PerformanceObserver_supportedEntryTypes"),n=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return s("window_PerformanceObserver_supportedEntryTypes_mark"),n=!1,!1;n=["mark","measure","now","setResourceTimingBufferSize"].reduce((e,a)=>(window.performance[a]&&performance[a]||(s(`window_performance_${a}`),e=!1),e),!0)}catch(e){(0,r.jn)({errorName:e})}return n}},754545:function(e,a,t){let r,n,s;t.d(a,{Eq:()=>w,yh:()=>b,XJ:()=>M,Lg:()=>x,cB:()=>H,Ly:()=>U,JG:()=>F,P9:()=>G,ZP:()=>Y,ep:()=>V,$e:()=>B});var o=t(392824),i=t(703393),l=t(735201),d=t(868178),c=t(286036),u=t(573746);let _=!1;function p(){if(_)return;let e=window.innerHeight,a=window.innerWidth,t=()=>{let r=(0,u.bC)(),n=Math.abs(window.innerHeight-e),s=window.innerHeight!==e,o=window.innerWidth!==a;if("phone"===r.deviceType&&(!o&&s&&n<=150||!s&&!o)||"desktop"===r.deviceType&&!s&&!o){window.removeEventListener("resize",t),_=!1;return}F("windowResized"),window.removeEventListener("resize",t),_=!1};window.addEventListener("resize",t),_=!0}var E=t(30880);let S=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],y=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["NavigationCompletev4","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["NavigationCompletev4","RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["NavigationCompletev4","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["NavigationCompletev4"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["NavigationCompletev4","VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}}];var T=t(32259),R=t(112114);let m=[...y,...S];function A({isAuthenticated:e,isInitialPageLoad:a,isMobile:t}){let r=(0,R.H)(),n=m.find(e=>Array.isArray(e.handler)?e.handler.includes(r):r===e.handler),s=n?.config,o=s?.unified;if(o||(o=t?s?.mWeb:s?.dWeb),o){let t=e?o.auth:o.unauth;if(t){if(a&&t.initialPageLoad)return(0,T.qu)("Found isInitialPageLoad config"),(0,T.qu)(t.initialPageLoad),{...t.initialPageLoad};else if(!a&&t.clientNavigation)return(0,T.qu)("Found clientNavigation config"),(0,T.qu)(t.clientNavigation),{...t.clientNavigation}}}return(0,T.qu)(`No config found for ${r} :(`),null}var f=t(956077);let g={},I=[],C=[],P={},h={},O=[],N=0,D=0,v=[],L=["webpack_react_profiler","web_early_hydration","web_ngjs_related_modules_response_remove_nulls","web_ngjs_homefeed_response_remove_nulls","web_ngjs_search_response_remove_nulls","ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint","www_isolated_build"];function b(e){e&&F(e),(0,T.qu)("Reset PWT configs"),g={},I=[],C=[],P={},h={},O=[],r=null,N=0,D=0,s="",v=[]}function w(){return r?D:0}function U(){return r?r.name:"unknown"}function G(){return r?D:null}function M(e,a,t){let r;if((0,E.Z)()){switch(t){case"BOOL":r={type:"BOOL",value:"boolean"==typeof a?a:null};break;case"STRING":r={type:"STRING",value:"string"==typeof a?a:null};break;case"I16":case"I32":case"I64":r={type:t,value:"number"==typeof a?a:null};break;default:(0,T.qu)("Invalid binary annotation type");return}if(null===r.value)return void(0,T.qu)("Invalid binary annotation value");h={...h,[e]:r},(0,T.qu)(`Add binary annotation: { ${e}: ${r.value} }`)}}function B(e){if((0,E.Z)())if(r){let a=C.indexOf(e);if(a>-1){if(C.splice(a,1),(0,T.qu)(`Remove constraint: ${e}. Remaining constraints: [${C.join(", ")}]`),0===C.length){let e=N-D,a=[...L,...r.annotateExperiments||[]];(0,T.fv)({pwtName:r.name,annotateExperiments:a}),(0,T.$v)({eventName:r.name,value:e}),(0,T.$v)({eventName:"complete",value:e,tags:{handler:(0,R.H)()}});let t=(0,u.bC)(),l={type:"surface",surface:r.name,id:r.id,navigationType:n,isAuthenticated:t.isAuthenticated};(0,o.L8)(`Report_PWT_Complete_${r.name}`,D,N);let c=(0,i.W)({annotateExperiments:a,annotations:{},binaryAnnotations:h,constraintMap:P,endTime:N,imageTimings:O,isV4Logger:!0,metricId:l,pwtStaticContext:t,startTime:D,traceId:s,spans:[]});(0,T.qu)(`All constraints complete. ${r.name} PWT completed at ${Math.floor(N)}ms. PWT duration: ${Math.floor(e)}ms`),(0,T.qu)("Result:",c),(0,d.Z)({metricId:l,pwtStaticContext:t,result:c,isV4Logger:!0,annotateExperiments:a}),b()}}else(0,T.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:r.name,errorDetailsTag:e})}else(0,T.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),I.push(e)}function k(e,a){if((0,E.Z)())if(r){let t=C.indexOf(e);t>-1&&(N<a&&(N=a),P[e]=a,(0,T.eR)(C[t],r?.name),(0,T.$v)({eventName:`${r?.name}.constraint.${e}`,value:a}),(0,T.$v)({eventName:`constraint.${e}`,value:a,tags:{handler:(0,R.H)()}}),(0,T.qu)(`Complete constraint: ${e} at ${Math.floor(a)}ms`),B(e))}else g[e]||(g[e]=a)}function F(e){if((0,E.Z)()&&r){let a=[...L,...r.annotateExperiments||[]];(0,T.T0)({abortReason:e,pwtName:r.name,annotateExperiments:a}),C.forEach(e=>{(0,T.yi)(e,r?.name)});let t=(0,u.bC)(),o={type:"surface",surface:r.name,id:r.id,navigationType:n,isAuthenticated:t.isAuthenticated},l=(0,i.N)({reason:e,annotateExperiments:a,annotations:{},binaryAnnotations:h,constraintMap:P,endTime:performance.now(),imageTimings:O,isV4Logger:!0,metricId:o,pwtStaticContext:t,startTime:D,traceId:s,spans:[]});(0,T.qu)(`Abort ${r.name} PWT. Abort reason: ${e}`),(0,T.qu)("Result:",l),(0,d.Z)({metricId:o,pwtStaticContext:t,result:l,isV4Logger:!0,annotateExperiments:a}),b()}}function H(e){if((0,E.Z)()&&r&&C.includes("VisuallyComplete"))if((0,T.qu)("Set visually complete result"),(0,T.qu)("Image resource timings: ",e),0===(O=e).length)F("visuallyComplete_noImages");else{let e=Math.max(...O.map(e=>e.responseEnd||0));(0,f.Nx)("VisuallyComplete",e)}}function x(e){if((0,E.Z)())if(r&&r.name.toLowerCase()!==e.toLowerCase()){let a=[...L,...r.annotateExperiments||[]],{isAuthenticated:t,deviceType:s}=(0,u.bC)(),o=(({isAuthenticated:e,isInitialPageLoad:a,isMobile:t,segment:r})=>{let n=A({isAuthenticated:e,isInitialPageLoad:a,isMobile:t});return n?.segments?.[r]??null})({isAuthenticated:t,isInitialPageLoad:"initial_app_load"===n,isMobile:"phone"===s,segment:e});if(!o)return void(0,T.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,T.T0)({abortReason:"segmentChange",pwtName:r.name,annotateExperiments:a}),r.name=o,(0,T.qu)(`Set segment to ${e}. PWT action name: ${o}`),(0,T.sd)({pwtName:r.name,annotateExperiments:[...L,...r.annotateExperiments||[]]})}else(0,T.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function V(e,a,t){if((0,E.Z)())if(r&&F("routeChange"),"POP"===e&&!1===t);else{p();let{isAuthenticated:o,deviceType:i,serverData:d}=(0,u.bC)();if(r=A({isAuthenticated:o,isInitialPageLoad:t,isMobile:"phone"===i})){if(D=a,t)n="initial_app_load";else switch(e){case"PUSH":n="client_route_push";break;case"REPLACE":n="client_route_replace"}(0,T.sd)({pwtName:r.name,annotateExperiments:[...L,...r.annotateExperiments||[]]}),(0,T.qu)(`Start ${r.name} PWT`),r?.constraints.forEach(e=>{(0,E.Z)()&&(r?((0,T.DM)(e,r.name),C.includes(e)||(C.push(e),(0,T.qu)(`Add constraint: ${e}`))):(0,T.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e}))}),C.forEach(e=>{g[e]?k(e,g[e]):I.includes(e)&&B(e)}),s=(0,l.vc)()||(0,l.ZP)("initial_app_load"===n,d?.trace_id)}}}function Y({traceLoggerData:e}){try{if((0,u._A)({serverData:e}),!(0,E.Z)())return void(0,T.El)({eventName:"unsupportedPWTBrowser"});(0,T.El)({eventName:"supportedPWTBrowser"}),p(),c.Z.onSessionPause(F);let a=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{e&&e.name&&!e.name.startsWith("--")&&e.name.includes("complete_constraint__")&&k(e.name.split("complete_constraint__")[1]||"",e.startTime)})});a.observe&&a.observe({type:"mark",buffered:!0});let t=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let{rtt:a}=window.navigator.connection||{};if(a&&"number"==typeof a){let t=e.responseEnd-a/2;t>0&&(0,o.ZP)("client_chunkEndTime",t)}(0,o.L8)("dom_complete",e.startTime,e.domComplete),(0,o.L8)("dom_interactive",e.startTime,e.domInteractive),(0,o.L8)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,o.L8)("load_event_end",e.startTime,e.loadEventEnd),(0,o.L8)("response_start",e.startTime,e.responseStart),(0,o.L8)("response_duration",e.responseStart,e.responseEnd)})});t.observe&&t.observe({type:"navigation",buffered:!0});let r=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.identifier.includes("MainPinImage")&&!v.includes(e.identifier)&&v.push(e.identifier)})});r.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",()=>{a.disconnect(),t.disconnect(),r.disconnect()})}catch(e){(0,T.jn)({errorName:e})}}},956077:function(e,a,t){t.d(a,{Nx:()=>i,Yl:()=>c,l7:()=>d,qS:()=>u,rt:()=>_,sX:()=>l});var r=t(667294),n=t(392824),s=t(30880),o=t(754545);let i=(e,a)=>{(0,s.Z)()&&(a?performance.mark(`complete_constraint__${e}`,{startTime:a}):performance.mark(`complete_constraint__${e}`),(0,n.L8)(`constraint__${e}`,(0,o.Eq)(),a??performance.now()))},l=e=>{(0,o.JG)(e)},d=e=>{(0,o.$e)(e)},c=e=>{(0,o.Lg)(e)},u=e=>{(0,r.useEffect)(()=>{(0,o.Lg)(e)},[e])},_=(e,a,t)=>{(0,o.XJ)(e,a,t)}},636208:function(e,a,t){function r(e,a,t,n=0){if(-1===a||-1===t||a===t)return e;let s=t+n,o=a+n;if(s<0||s>=e.length||o<0||o>=e.length)return e;let i=[...e],l=i[o],d=o<s?1:-1;for(let a=o;a!==s;a+=d)i[a]=e[a+d];return i[s]=l,i}t.d(a,{Z:()=>r})},98824:function(e,a,t){t.d(a,{H:()=>i});var r=t(612647),n=t(413145);let s=new class{constructor(e){this.table={},this.interval=e,this.lastCallTime=Date.now()}_garbageCollectEntries(){Date.now()-this.lastCallTime>this.interval&&(this.table={})}_generateHash(e){let a=Object.keys(e).sort(),t=[];return a.forEach(a=>{if(e[a]){let n=(0,r.Z)(e[a])?JSON.stringify(e[a]):e[a]+"";n=a+":"+n,t.push(n)}}),t.join("")}getTableKey(e){return e.auxData?this._generateHash({message:e.errorObj.message,...e.auxData}):e.errorObj.message?e.errorObj.message:""}isWithinRateLimit(e){this._garbageCollectEntries();let a=Date.now();this.lastCallTime=a;let t=this.getTableKey(e);return this.table[t]&&a-this.table[t]<this.interval||(this.table[t]=a,!1)}}(5e3),o={};o._reportToConsole=(e,a={})=>{if(console&&console.error){let{name:t="",message:r="No message available",stack:n="No stack trace available"}=e;console.error(`Name: ${t}
Message: ${r}
----------
Stack: 
${n}
`,a)}},o._reportToServer=(e,a)=>{let t={errorObj:e};a&&(t.auxData=a),s.isWithinRateLimit(t)||(0,n.T)({...e,message_detail:a?JSON.stringify(a):""})};let i=(e,a)=>{let{columnNumber:t="",fileName:r="",lineNumber:n="",message:s="",original_message:i="",name:l="",stack:d="",stack_trace:c="",moduleName:u="",location:_="",contextRequestId:p=""}=e,E={columnNumber:t,fileName:r,lineNumber:n,message:i||s,name:l,stack:d||c,moduleName:u,location:_,contextRequestId:p};o._reportToConsole(E,a),function(e){let a=e.http_status||e.httpStatus||e.status;if(404===a||500===a)return!1;let t=e.stack||e.stack_trace;return!(t&&-1!==t.indexOf("global code")||e.message&&("Connectivity error or cancelled by navigation"===e.message||e.message.includes("count mfss fcw")||e.message.includes("evaluating 'elem.classList'")))}(e)&&o._reportToServer(E,a)};o.report=i},842164:function(e,a,t){t.d(a,{Z:()=>i});var r=t(440568),n=t(849233),s=t(35831);let o=e=>({api_error_code:e.api_error_code,code:e.code,message:e.message,message_detail:e.message_detail,extraData:e.extraData||e.extra_data||void 0,httpStatus:e.httpStatus||e.http_status||void 0});function i(e={},a){if(a.type===s.se){let t={...e||{},[a.payload.resource]:{...(e||{})[a.payload.resource]||Object.freeze({})}},n="string"==typeof a.payload.optionsOrOptionsKey?a.payload.optionsOrOptionsKey:(0,r.Z)(a.payload.optionsOrOptionsKey);return delete t[a.payload.resource][n],0===Object.keys(t[a.payload.resource]).length&&delete t[a.payload.resource],t}if(a.type===s.zP||a.type===s.aW||a.type===s.cR||a.type===s.KK){let{options:t,resource:i}=a.payload,l=(0,r.Z)(t),d=e?.[i]||{},c=function(e,a){switch(e.type){case s.KK:return{...a||{},fetching:e.payload.isFetching,error:null};case s.cR:return{...a||{},fetching:!1,error:o(e.payload.error),data:null};default:let t,{options:r,resource:i,response:l}=e.payload,d=e.type===s.zP&&e.payload.isRefresh,c=(t=r?.bookmarks||l.bookmarks)&&t[0]!==n.qx?t[0]:n.qx,u=l.resource_response.error?o(l.resource_response.error):void 0,_=a?.auxData,p=d?void 0:a?.data,E=l.resource_response.data,S=l.auxData;if(("BaseSearchResource"===i||"VisualLiveSearchResource"===i||"StoreFrontSearchResource"===i||"VisualSearchFlashlightUnifiedResource"===i||"NativeInteractionsResource"===i)&&p?Array.isArray(p.results)&&(E=E?{...p,results:[...p.results||[],...E.results||[]]}:p):Array.isArray(p)&&(E=[...p||[],...E||[]]),"VisualSearchFlashlightUnifiedResource"===i&&_){let e=S.metadata.one_bar_modules||_.metadata.one_bar_modules;S.metadata.one_bar_modules=e}return{...a||{},auxData:_?{..._,...S}:S,data:E,fetching:!1,nextBookmark:c,error:u}}}(a,d[l]);return{...e,[i]:{...d,[l]:c}}}return e}},940280:function(e,a,t){t.d(a,{i:()=>r});let r={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},477588:function(e,a,t){t.d(a,{Tb:()=>i,vW:()=>o});var r=t(378888),n=t(215295),s=t(940280);function o({searchParams:e,sourceUrl:a,isDesktop:t,isAuthenticated:r,appliedUnifiedFilters:n}){let{autoCorrectionDisabled:s,bubbleId:o,category:i,currentlyAppliedFiltersParamTerm:d,domains:c,guidedSearchQuery:u,inGlobalSearch:_,journeyDepth:p,personalizationPinSig:E,priceMax:S,priceMin:y,query:T,requestParams:R,rs:m,scope:A,selectedOneBarModules:f,sourceId:g,sourceModuleId:I,topPinIds:C,user:P}=e;return function(e){let{selectedOneBarModules:a,currentlyAppliedFiltersParamTerm:t,personalizationPinSig:r,inGlobalSearch:n,appliedUnifiedFilters:s,initialCategory:o,initialDomains:i,initialMaxPrice:d,initialMinPrice:c,isDuplo:u,..._}=e,p=a?.split(","),E={..._,filters:t,selectedOneBarModules:p,selectedPinImgSig:r};if(n)return l(E);let S={...E,appliedUnifiedFilters:s,appliedProductFilters:function({category:e,domains:a,maxPrice:t,minPrice:r}){return[e,a,t,r].map(e=>e??"").join("-")}({category:o,domains:i,maxPrice:d,minPrice:c})};return u&&(S.domains=i,S.priceMax=d?parseInt(d,10):void 0,S.priceMin=c?parseInt(c,10):void 0),l(S)}({appliedUnifiedFilters:n,autoCorrectionDisabled:s,bubbleId:o,currentlyAppliedFiltersParamTerm:d,guidedSearchQuery:u,inGlobalSearch:_,initialCategory:i,initialDomains:c,initialMaxPrice:S,initialMinPrice:y,isDuplo:!r||!t,journeyDepth:p,personalizationPinSig:E,query:T,requestParams:R,rs:m,scope:A,selectedOneBarModules:f,sourceId:g,sourceModuleId:I,sourceUrl:a,topPinIds:C,user:P})}function i({appliedProductFilters:e,applied_unified_filters:a,auto_correction_disabled:t,filters:r,journey_depth:n,query:s,rs:o,scope:i,selected_one_bar_modules:l,query_pin_sigs:d,source_id:c,source_module_id:u,top_pin_ids:_,user:p}){let E=[e,r,n,s,o,i,l,d,c,u,a,_,p].map(e=>e??"").join(":");return t?"auto-correction-disabled:"+E:E}function l(e){return{name:"BaseSearchResource",options:(e=>{let{query:a="",scope:t="pins",appliedUnifiedFilters:o=null,appliedProductFilters:i=null,filters:l=null,domains:d=null,priceMax:c=null,priceMin:u=null,rs:_=s.i.DIRECT_NAVIGATION,journeyDepth:p=null,sourceId:E=null,sourceModuleId:S=null,sourceUrl:y=null,selectedOneBarModules:T=null,selectedPinImgSig:R=null,user:m=null,autoCorrectionDisabled:A=!1,seoDrawerEnabled:f=!1,bubbleId:g=null,pageSize:I=null,requestParams:C=null,topPinIds:P=null}=e;return{query:a,scope:t,appliedProductFilters:i,domains:d,user:m,seoDrawerEnabled:f,applied_unified_filters:o,auto_correction_disabled:A,journey_depth:p,source_id:E,source_module_id:S,source_url:function(e){if(!e)return"";let a=new Set,t=e.split("?")[1];t&&t.split("&").forEach(e=>{e.includes("=")||a.add(e)});let{directory:s,queryKey:o}=(0,n.Z)((0,r.Gw)(e,["request_params"])),i=Object.keys(o).sort().map(e=>a.has(e)?e:`${e}=${o[e]}`).join("&");return i?`${s}?${i}`:s}(y),selected_one_bar_modules:T,query_pin_sigs:R,page_size:I,price_max:c,price_min:u,request_params:C,top_pin_ids:P,article:g,corpus:R?"personalize":null,customized_rerank_type:R?"manas_graph_sage_only_wand_rewrite":null,filters:l,rs:_,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},123317:function(e,a,t){t.d(a,{Cc:()=>p,DL:()=>d,Gf:()=>y,LX:()=>n,Lc:()=>T,Ls:()=>E,Rf:()=>l,YL:()=>i,ap:()=>s,h8:()=>u,pE:()=>c,s5:()=>S,tQ:()=>_,yR:()=>o});var r=t(20256);let n={w:9,h:16},s=n.w/n.h,o=8,i=10,l=5e3,d=2e3;function c(e,a=1){return{x:(e??24)/5,y:(e??24)*(a-1)}}let u={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},_=[u.IMAGE,u.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},E=new r.Ry(1),S=new r.H3([E]),y=new r.H3([S]),T=e=>{let a=Math.floor(e||0),t=Math.floor(a/60),r=a-60*t,n=t<10?`${t}`:t,s=r<10?`0${r}`:r;return`${n}:${s}`}},797471:function(e,a,t){function r(e,a,t,r){let n=a?"shop":0===e||2===e?"trending":1===e?"best":"article",s=t.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return`/today/${n}/${encodeURIComponent(s)}/${r}/`}t.d(a,{T7:()=>r,Y_:()=>s,d9:()=>i,nx:()=>o,xt:()=>n});let n=(e,a,t)=>e||a||t||"",s=e=>"todayarticle"===e.type,o=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),i=(e,a)=>(e??1)/(a??1)},507282:function(e,a,t){t.d(a,{Z:()=>n});var r=t(378888);function n(){let e=(0,r.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let a=document.referrer;return a?a.includes("/t.co/")?"twitter":a.includes("cdn.ampproject.org")?"amp":a.includes("google.")?"google":a.includes("bing.")?"bing":a.includes("facebook.")?"facebook":"other":"direct"}},634737:function(e,a,t){function r(e){if((e||"").includes("--")){let a=e.split("--"),t=a.pop();return{text:a.join("--"),pinId:t}}return{text:"",pinId:e}}t.d(a,{Z:()=>r})},610046:function(e,a,t){t.d(a,{Z:()=>n});var r=t(667294);let n=(e,a)=>{let t=(0,r.useRef)(()=>{});(0,r.useEffect)(()=>{t.current=e},[e]),(0,r.useEffect)(()=>{if(null===a)return()=>{};let e=setInterval(()=>t.current(),a);return()=>clearInterval(e)},[a])}},424150:function(e,a,t){t.d(a,{GW:()=>n,RL:()=>r,s4:()=>s});let r="ios",n="android",s="ipad"},572572:function(e,a,t){t.d(a,{Z:()=>n});var r=t(425102);function n(e){return e&&e.id?{allow_personalization_cookies:e.allow_personalization_cookies??!1,allow_analytic_cookies:e.allow_analytic_cookies??!1,allow_marketing_cookies:e.allow_marketing_cookies??!1,avatar_color_index:e.avatar_color_index,boardCount:e.board_count,groupBoardCount:e.group_board_count,secretBoardCount:e.secret_board_count,pinCount:e.pin_count,eligibleForStlTool:e.eligible_for_stl_tool,isAuth:!0,id:e.id,epik:e.epik,username:e.username,fullName:e.full_name??"",firstName:e.first_name??"",lastName:e.last_name??"",email:e.email??"",facebookId:e.facebook_id,hasPassword:e.has_password??!1,hasPublishedPins:e.has_published_pins,isEmployee:e.is_employee??!1,isEligibleForCoreActionsHeader:e.is_eligible_for_core_actions_header??!1,isEligibleForImageOnlyGrid:e.is_eligible_for_image_only_grid??!1,isLimitedLogin:e.login_state===r.Z.LIMITED,isMaturedNewUser:e.is_matured_new_user??!1,isPartner:e.is_partner??!1,isPrivateProfile:e.is_private_profile??!1,isUnder16:e.is_under_16??!1,isUnder18:e.is_under_18??!1,isWriteBanned:e.is_write_banned??!1,imageSmallUrl:e.image_small_url??"",imageMediumUrl:e.image_medium_url??"",imageLargeUrl:e.image_large_url??"",imageXLargeUrl:e.image_xlarge_url??"",nags:e.nags??[],profileDiscoveredPublic:e.profile_discovered_public??!1,shouldDefaultCommentsOff:e.should_default_comments_off,showDiscoveredFeed:e.show_discovered_feed??!1,createdAt:e.created_at??"",resurrectionInfo:e.resurrection_info&&e.resurrection_info.resurrection_dt?{resurrectionDate:e.resurrection_info.resurrection_dt}:void 0,country:e.country??"",domainUrl:e.domain_url,domainVerified:e.domain_verified,isAnyWebsiteVerified:e.is_any_website_verified,verifiedWebsites:e.verified_user_websites,listedWebsiteUrl:e.listed_website_url??"",gender:e.gender,customGender:e.custom_gender,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux??!1,partner:e.partner,socialNetwork:{facebook:{connected:!!e.connected_to_facebook},google:{connected:!!e.connected_to_google},youtube:{connected:!!e.connected_to_youtube},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:!!e.connected_to_microsoft},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:!!e.connected_to_etsy},instagram:{connected:!!e.connected_to_instagram,username:e.instagram_data?.username,url:e.instagram_data?.url},dropbox:{connected:!!e.connected_to_dropbox}},can_enable_mfa:e.can_enable_mfa??!1,has_mfa_enabled:e.has_mfa_enabled??!1,is_sso_user:e.is_sso_user??!1,has_quicksave_board:e.has_quicksave_board,phone_country:e.phone_country??"",phone_number:e.phone_number??"",phone_number_end:e.phone_number_end??"",push_package_user_id:e.push_package_user_id??"",third_party_marketing_tracking_enabled:void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled,age_in_years:e.age_in_years,save_behavior:e.save_behavior,shopping_rec_disabled:e.shopping_rec_disabled,show_personal_boutique:e.show_personal_boutique??!1,should_show_messaging:e.should_show_messaging??!1,isParentalControlPasscodeEnabled:e.is_parental_control_passcode_enabled??!1,isParentalControlPasscodeVerificationPending:e.is_parental_control_passcode_verification_pending??!1,isCandidateForParentalControlPasscode:e.is_candidate_for_parental_control_passcode??!1,parentalControlAnonymizedEmail:e.parental_control_anonymized_email??"",teenSafetyOptionsUrl:e.teen_safety_options_url??"",weight_loss_ads_opted_out:e.weight_loss_ads_opted_out??!1}:{isAuth:!1,isLimitedLogin:!1}}},577952:function(e,a,t){t.d(a,{Ab:()=>r,M_:()=>n,Uh:()=>i,c$:()=>o,el:()=>s,rt:()=>d});let r={CREATE:"CREATE",APPLY:"APPLY"},n={BANNER:"BANNER",EMAIL:"EMAIL"},s={INPUT_1:{type:void 0,value:void 0},INPUT_2:{type:void 0,value:void 0}},o={CREATED_PROMO_NOT_APPLIED:"CREATED_PROMO_NOT_APPLIED",APPLIED_PROMO:"APPLIED_PROMO",CREATE_FAILURE:"CREATE_FAILURE",APPLY_FAILURE:"APPLY_FAILURE"},i=e=>({[o.APPLIED_PROMO]:{message:e._('Your promotion has been successfully applied to your selected campaigns', 'promotionsModal.appliedToast', 'Toast that indicates that a promotion has been successfully applied'),componentType:15221,toastType:"success"},[o.CREATED_PROMO_NOT_APPLIED]:{message:e._('Your promotion has been successfully created! You\'ll be able to apply it when you create your next campaign', 'promotionsModal.createToast', 'Toast that indicates that a promotion has been successfully applied'),componentType:15222,toastType:"success"},[o.CREATE_FAILURE]:{message:e._('Something went wrong while creating your promotion. Try submitting the form again', 'promotionsModal.createFailureToast', 'Toast that indicates that a promotion failed to be created'),componentType:15224,toastType:"error"},[o.APPLY_FAILURE]:{message:e._('Something went wrong while applying your promotion. You\'ll be able to apply it when you create your next campaign', 'promotionsModal.applyFailureToast', 'Toast that indicates that a promotion failed to be applied'),componentType:15223,toastType:"error"}}),l="numeric",d={year:l,month:l,day:l,hour:l,minute:l,hour12:!0,timeZoneName:"short"}},26032:function(e,a,t){t.d(a,{$:()=>n,X:()=>s});var r=t(492316);let n=e=>decodeURIComponent(e),s=e=>encodeURIComponent((0,r.t)(e))},370347:function(e,a,t){t.d(a,{Yg:()=>c,ib:()=>_,nF:()=>E,xX:()=>p});var r=t(675973),n=t(15667),s=t(647709),o=t(603316);let i=["image"],l=["image","storyPin"],d=({checkExperiment:e})=>{let{group:a}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,t)=>(0,o.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:a,...t}})}},c=()=>{let{isAuthenticated:e}=(0,n.B)(),a=(0,s.HG)(),{checkExperiment:t}=(0,r.Z)();return e&&!a?d({checkExperiment:t}):{logStat:()=>{}}},u=0,_=({checkExperiment:e,isAuthMweb:a})=>{if(!a)return;let{logStat:t}=d({checkExperiment:e});(u+=1)<10&&t(`repin_${u}`)};function p({checkExperiment:e,isDesktop:a,isAuthenticated:t}){if(!t)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:["image"]};if(a){let{anyEnabled:a}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:a,isGraphQLEnabledInGeneral:a,validImageTypes:i}}{let{anyEnabled:a,group:t}=e("auth_mweb_graphql_pin_page");switch(t){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,validImageTypes:i};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:i};case"enabled_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,validImageTypes:l};case"only_closeup":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:i};case"only_closeup_story_pin":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,validImageTypes:l};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,validImageTypes:i};default:return{isGraphQLEnabledInGeneral:a,isGraphQLEnabledForRelatedPins:a,validImageTypes:i}}}}function E(){let{checkExperiment:e}=(0,r.Z)(),a=(0,s.HG)(),{isAuthenticated:t}=(0,n.B)();return p({checkExperiment:e,isDesktop:a,isAuthenticated:t})}},907586:function(e,a,t){t.d(a,{_9:()=>s,o6:()=>r,tg:()=>n});let r=20,n=24,s=20},325426:function(e,a,t){t.d(a,{Z:()=>I});var r=t(121836),n=t(296086),s=t(988371),o=t(918306),i=t(993279),l=t(368177),d=t(392824),c=t(327613),u=t(950948),_=t(843466),p=t(238589),E=t(378888),S=t(572572),y=t(236688),T=t(14890),R=t(23534),m=t(363462),A=t(54357);let f=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e;var g=t(603316);function I({initialServerContext:e,initialReduxState:a,isAppShell:t,requestContext:I,traceLoggerData:C}){let P=function(e,a){(0,d.ZP)("AppInitMainStart");let t="homescreen_icon"===(0,E.mB)(window.location.search).utm_source;a.session.isPWA=t;let r=!!(0,E.mB)(window.location.search).utm_pai;a.session.isPaidTraffic=r;let n=(0,T.createStore)((0,T.combineReducers)((0,A.Z)({viewingUser:e.user})),a,(0,T.compose)((0,m.Z)(),(0,R.b)({type:"tick"}),f));return(0,d.ZP)("ReduxStoreInitialized"),n}(e,a),{isAuthenticated:h,unauthId:O,userAgent:{isMobile:N,isTablet:D}}=I;N||D||!h||o.Z.initFocus(),document.hasFocus()&&(0,n.Z)(),(0,d.ZP)("ContextInitialized"),(0,s.jD)(()=>(0,S.Z)((0,y.Z)(P.getState())),()=>I),window.unauthId=O,"1"===(0,E.mB)(window.location.search).oe&&(0,p.Nl)().setItem(r.EZ,"OPEN_UNAUTH"),e.user.is_partner;let{isAuthenticated:v}=I;"chrome"===(0,i.FB)(window)&&window.navigator.userAgent&&window.navigator.userAgent.includes("CrOS")&&(0,i.AJ)(window);let L=(0,l.Z)({requestContext:I,traceLoggerData:C});(0,c.gq)(L,v?[]:["facebook_autologin","google_autologin_gsi","google_autologin"]);let{isAuthenticated:b,userAgent:{isMobile:w,isTablet:U,browserName:G,browserVersion:M}}=I,B=!U&&!w,k="Chrome"===G&&Number(M.split(".")[0])>=123;(0,u.In)(P);let F=b&&B&&k;return b&&(!B||F)&&(0,u.$J)(),b||(0,_.Z)(),!function({isAppShell:e,isAuthenticated:a}){"undefined"!=typeof window&&window.navigator&&"serviceWorker"in window.navigator&&"addEventListener"in window.navigator.serviceWorker&&(window.navigator.serviceWorker.addEventListener("message",e=>{switch(e.data.message){case"replay-resource-requests-success":(0,g.nP)("replay_resource_request.success",{sampleRate:1});break;case"replay-resource-requests-failed":(0,g.nP)("replay_resource_request.failed",{sampleRate:1,tags:{errorMessage:e.data.replayErrorMessage}});break;case"log-service-worker-exp-group-got-from-headers":(0,g.nP)("sw_detect_resource_requests",{sampleRate:1,tags:{serviceWorkerGroup:e.data.group,experimentVersion:"v8"}})}}),(0,u.AP)({isAuthenticated:a,isAppShell:e}))}({isAppShell:t,isAuthenticated:b}),P}},492316:function(e,a,t){function r(e){if(!e)return e;let a=e.replace(/%26/gi,"&");return(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/%3F/gi,"?")).replace(/%23/gi,"#")).replace(/%2B/gi,"+")).replace(/%3B/gi,";")).replace(/%2C/gi,",")).replace(/%2F/gi,"/")).replace(/%3A/gi,":")).replace(/%40/gi,"@")).replace(/%3D/gi,"=")).replace(/%24/gi,"$")}function n(e){return Object.keys(e).reduce((a,t)=>({...a,[t]:r(e[t]??"")}),{})}t.d(a,{Z:()=>n,t:()=>r})},356299:function(e,a,t){t.d(a,{Z:()=>r});let r=(e,a,t)=>`${e}:${a||""}:${t||""}`},63064:function(e,a,t){t.d(a,{Z:()=>n});var r=t(991384);let n=function(e,a){return(t,n)=>{let s=a(t,n);if(n.payload&&!Array.isArray(n.payload)){let{normalizedResponse:a}=n.payload;if(a&&a.entities&&a.entities[e]){var o;return Object.keys(o=a.entities[e]).reduce((e,a)=>({...e,[a]:(0,r.Z)(e[a],o[a])}),s)}}return s}}},363462:function(e,a,t){t.d(a,{Z:()=>i});var r=t(14890),n=t(753894),s=t(98824);let o=[n.Z,e=>a=>t=>{if("ERROR_LOG_EVENT"===t.type){let{error:e,auxData:r}=t;return(0,s.H)(e,r),a(t)}try{return a(t)}catch(a){return(0,s.H)(a||Error("unknown error"),{action:t}),e.getState()}}],i=()=>(0,r.applyMiddleware)(...o)},54357:function(e,a,t){t.d(a,{Z:()=>aP});let r={isUnderageConfirmationModalVisible:!1},n=(e,a)=>{if(e=e||r,"SET_IS_UNDERAGE_CONFIRMATION_MODAL_VISIBLE"!==a.type)return e;{let{isUnderageConfirmationModalVisible:t}=a.payload;return{...e,isUnderageConfirmationModalVisible:t}}},s=(e=null,a)=>e;var o=t(2170),i=t(298422);let l={adsNotifications:{data:[],error:null,isLoading:!1,isLoaded:!1,lastCallParams:null}};function d(e=l,a){let t=e||l;switch(a.type){case i.pl:case i.as:case i.Nq:return{...t,adsNotifications:{...t.adsNotifications,...a.payload}};default:return t}}var c=t(842164),u=t(209644),_=t(334536);let p={initialSessionContext:void 0,currentPageViewType:0,unauthDownloadCount:0,unauthCreditLinkClickCount:0,upsellReason:"",pinViewCount:0,pinSaveCount:0,showBanner:!1,showSaveModal:!1,attributionLabel:"",pinId:"",showScrollDownUpsell:!0,clickCloseUp:!1,clickContextMenuSaveButton:!1,clickContextMenuDownloadButton:!1,clickFollowButton:!1,followIsIdeaPin:!1,clickCloseUpContextMenuSaveButton:!1,clickFollowingButton:!1,clickFollowersButton:!1,clickCommentComposerUpsell:!1,clickPinLinkUpsell:!1,clickPinLinkCount:0,clickRelatedPinOpenLinkUpsell:!1,uniqueNavigationalPagesSeen:[],navigationalPagesUpsellSeen:!1,navigationalContainerPage:"",modal:{isShown:!1},mWeb:{pinSaveCount:0},mWebSignupModal:{modal:{isShown:!1},scrollControllerHasDisplayed:!1,upsellEligibleNavigationCount:0,isUnauthSharingModalsShown:!1,lastShownTime:null,timesShownForSessionCount:0,modalHasShown:!1},appUpsells:{learningUpsell:{isShown:!1},floatingUpsell:{shouldShow:!0,isDismissed:!1},iabAppUpsell:{isShown:!1,appUpsellType:"other",isBlocking:!1}}};function E(e=p,a){switch(a.type){case _.mV:if(e.initialSessionContext)return e;return{...e,initialSessionContext:a.payload.sessionContext};case _.K7:return{...e,modal:{isShown:!0,displayProps:a.payload.displayProps}};case _.Gh:return{...e,showSaveModal:!1,clickCloseUp:!1,clickContextMenuSaveButton:!1,clickContextMenuDownloadButton:!1,clickFollowButton:!1,clickCloseUpContextMenuSaveButton:!1,clickCloseUpContextMenuDownloadButton:!1,clickFollowingButton:!1,clickFollowersButton:!1,clickCommentComposerUpsell:!1,clickPinLinkUpsell:!1,clickRelatedPinOpenLinkUpsell:!1,modal:{isShown:!1}};case _.pp:{let t={...e,pinViewCount:e.pinViewCount+1};if(u.Gk.shouldShowCloseupNavigationalModal?.evaluate({pinViewCount:t.pinViewCount,navigationalPagesUpsellSeen:t.navigationalPagesUpsellSeen}))return u.Gk.shouldShowCloseupNavigationalModal.getNextState({action:a,state:t});return t}case _.AS:return u.Gk.shouldShowSaveModal?.getNextState({action:a,state:e})||e;case _.gH:{let{pageUniqueKey:t}=a.payload;if(e.uniqueNavigationalPagesSeen.includes(t))return e;let r={...e,uniqueNavigationalPagesSeen:[...e.uniqueNavigationalPagesSeen,t],navigationalContainerPage:a.payload.containerPage},n={uniqueNavigationalPagesSeen:r.uniqueNavigationalPagesSeen,navigationalPagesUpsellSeen:r.navigationalPagesUpsellSeen,checkExperiment:a.payload?.checkExperiment,session:e.initialSessionContext||a.payload?.sessionContext};if(u.Gk.shouldShowNavigationalModal?.evaluate(n))return u.Gk.shouldShowNavigationalModal.getNextState({state:r,action:a});return r}case _.$S:if(u.Gk.shouldShowSignupModalOnCloseUpClick?.evaluate({modal:e.modal,clickCloseUp:e.clickCloseUp}))return u.Gk.shouldShowSignupModalOnCloseUpClick.getNextState({action:a,state:e});return e;case _.P9:if(u.Gk.shouldShowSignupModalOnClickContextMenuSaveButton?.evaluate({modal:e.modal,clickContextMenuSaveButton:e.clickContextMenuSaveButton}))return u.Gk.shouldShowSignupModalOnClickContextMenuSaveButton.getNextState({state:e,action:a});return{...e,pinId:a.payload.pinId,attributionLabel:a.payload.attributionLabelSource};case _.mX:if(u.Gk.shouldShowSignupModalOnClickCloseupSaveButton?.evaluate({modal:e.modal,clickCloseUpContextMenuSaveButton:e.clickCloseUpContextMenuSaveButton}))return u.Gk.shouldShowSignupModalOnClickCloseupSaveButton.getNextState({action:a,state:e});return{...e,pinId:a.payload.pinId,attributionLabel:a.payload.attributionLabelSource};case _.by:if(u.Gk.shouldShowSignupModalOnCloseupDownloadClick?.evaluate({limitReached:a.payload.limitReached,modal:e.modal,checkExperiment:a.payload.checkExperiment}))return u.Gk.shouldShowSignupModalOnCloseupDownloadClick.getNextState({action:a,state:e});return{...e,pinId:a.payload.pinId,attributionLabel:a.payload.attributionLabelSource};case _.Pp:if(u.Gk.shouldShowSignupModalOnContextMenuDownloadClick?.evaluate({limitReached:a.payload.limitReached,inImmediateUpsellGroup:a.payload.inImmediateUpsellGroup,checkExperiment:a.payload.checkExperiment,modal:e.modal}))return u.Gk.shouldShowSignupModalOnContextMenuDownloadClick.getNextState({action:a,state:e});return{...e,pinId:a.payload.pinId,attributionLabel:a.payload.attributionLabelSource};case _.Bi:if(u.Gk.shouldShowSignupModalOnFollowButtonClick?.evaluate({modal:e.modal,clickFollowButton:e.clickFollowButton}))return u.Gk.shouldShowSignupModalOnFollowButtonClick.getNextState({action:a,state:e});return e;case _.Ik:if(u.Gk.shouldShowSignupModalOnFollowingButtonClick?.evaluate({modal:e.modal,clickFollowingButton:e.clickFollowingButton}))return u.Gk.shouldShowSignupModalOnFollowingButtonClick.getNextState({action:a,state:e});return e;case _.rA:if(u.Gk.shouldShowSignupModalOnFollowersButtonClick?.evaluate({modal:e.modal,clickFollowersButton:e.clickFollowersButton}))return u.Gk.shouldShowSignupModalOnFollowersButtonClick.getNextState({action:a,state:e});return e;case _.kd:if(u.Gk.shouldShowLoginModalOnCommentComposerClick?.evaluate({modal:e.modal,clickCommentComposerUpsell:e.clickCommentComposerUpsell}))return u.Gk.shouldShowLoginModalOnCommentComposerClick.getNextState({action:a,state:e});return e;case _.Zr:if(u.Gk.shouldShowLoginModalOnPinLinkClick?.evaluate({modal:e.modal,pinLinkClickCount:a.payload.count}))return u.Gk.shouldShowLoginModalOnPinLinkClick.getNextState({action:a,state:e});return{...e,clickPinLinkCount:a.payload.count};case _.it:if(u.Gk.shouldShowLoginModalOnRelatedPinOpenLinkClick?.evaluate({modal:e.modal,clickRelatedPinOpenLinkUpsell:e.clickRelatedPinOpenLinkUpsell}))return u.Gk.shouldShowLoginModalOnRelatedPinOpenLinkClick.getNextState({action:a,state:e});return e;case _.OU:return{...e,upsellReason:a.payload.upsellReason};case _.HK:return{...e,showScrollDownUpsell:!1};case _.qT:return{...e,showScrollDownUpsell:!0};case _.dn:{let{triggerKey:t}=a.payload;if(!(t in e))return e;return{...e,[t]:!1}}case _.Ue:return{...e,mWebSignupModal:{...e.mWebSignupModal,upsellEligibleNavigationCount:(e.mWebSignupModal.upsellEligibleNavigationCount??0)+1}};case _.tA:return{...e,mWebSignupModal:{...e.mWebSignupModal,modal:{isShown:!1}}};case _.h4:return{...e,mWebSignupModal:{...e.mWebSignupModal,topInterest:a.payload.topInterest}};case _.Bh:return{...e,mWebSignupModal:{...e.mWebSignupModal,upsellEligibleNavigationCount:a.payload.upsellEligibleNavigationCount??e.mWebSignupModal.upsellEligibleNavigationCount}};case _.V9:return{...e,mWebSignupModal:{...e.mWebSignupModal,isUnauthSharingModalsShown:!1}};case _.UA:return{...e,mWebSignupModal:{...e.mWebSignupModal,isUnauthSharingModalsShown:!0}};case _.Yr:return{...e,mWebSignupModal:{...e.mWebSignupModal,lastShownTime:Date.now(),timesShownForSessionCount:(e.mWebSignupModal.timesShownForSessionCount??0)+1,scrollControllerHasDisplayed:e.mWebSignupModal.scrollControllerHasDisplayed,modal:{isShown:!0,displayProps:{headingType:a.payload.headingType,trigger:{attributionLabel:a.payload.attributionLabel,reason:a.payload.reason},allowCloseOnOutsideClick:a.payload.allowCloseOnOutsideClick,shouldMoveCancelButtonRight:a.payload.shouldMoveCancelButtonRight,customUpsellConfig:a.payload.customUpsellConfig,savePinImageUrl:a.payload.savePinImageUrl},pinId:a.payload.pinId||null}}};case _.ub:return u.ZW.shouldAllowUnauthSave?.getNextState({action:a,state:e})??e;case _.jB:return{...e,mWeb:{...e.mWeb,pinSaveCount:e.mWeb.pinSaveCount+1}};case _.jl:return{...e,unauthCreditLinkClickCount:e.unauthCreditLinkClickCount+1};case _.Sy:return{...e,unauthDownloadCount:a.payload.count};case _.Lu:return{...e,mWeb:{...e.mWeb,pinSaveCount:e.mWeb.pinSaveCount-1}};case _.g_:{let{conversionDecision:t,appUpsellDecision:r}=a.payload,n={...e};return t&&(n=u.ZW.shouldShowMainPinImageNavigationalModal?.getNextState({action:a,state:n})??n),r.shouldToggleAppUpsell&&(n={...n,appUpsells:{...n.appUpsells,learningUpsell:{isShown:!r.currentlyShowing}}}),n}case _.$y:{let{oldLocation:t,newLocation:r,isNavigationFromSwipe:n,checkExperiment:s,sessionContext:o,pageThreshold:i,isWashDismissible:l,isUpsellEnabledGlobally:d,isModalCurrentlyShown:c,hasSeenModal:_,currentNavigationCount:p,canShowSignupModalOnRouteChange:E,canShowSignupModalOnRouteChangeControl:S}=a.payload,y=u.ZW.shouldShowNavigationUpsell?.evaluate({checkExperiment:s,isUpsellEnabledGlobally:d,isModalCurrentlyShown:c,oldLocation:t,newLocation:r,isNavigationFromSwipe:n,currentNavigationCount:p,hasSeenModal:_,pageThreshold:i,isWashDismissible:l,canShowSignupModalOnRouteChange:E,canShowSignupModalOnRouteChangeControl:S,sessionContext:o}),T={...e};return y.shouldDismissModal&&(T={...T,mWebSignupModal:{...T.mWebSignupModal,modal:{isShown:!1}}}),y.shouldIncrementCount&&(T={...T,mWebSignupModal:{...T.mWebSignupModal,upsellEligibleNavigationCount:(T.mWebSignupModal.upsellEligibleNavigationCount??0)+1}}),y.shouldShowModal&&(T=u.ZW.shouldShowNavigationUpsell?.getNextState({action:a,state:T,decision:y})??T),T}case _.qs:let{decision:t}=a.payload,r={...e};return t.shouldIncrementCount&&(r={...r,mWebSignupModal:{...r.mWebSignupModal,upsellEligibleNavigationCount:(r.mWebSignupModal.upsellEligibleNavigationCount??0)+1}}),t.shouldShowModal&&(r=u.ZW.shouldShowOnLandUpsell?.getNextState({action:a,state:r,decision:t})??r),r;case _.f$:return{...e,appUpsells:{...e.appUpsells,learningUpsell:{...e.appUpsells.learningUpsell,isShown:a.payload.isShown}}};case _.wK:if(u.ZW.shouldShowSignupModalOnContextMenuDownloadClick?.evaluate({limitReached:a.payload.limitReached,inImmediateUpsellGroup:a.payload.inImmediateUpsellGroup,checkExperiment:a.payload.checkExperiment,modal:e.modal}))return u.ZW.shouldShowSignupModalOnContextMenuDownloadClick.getNextState({action:a,state:e});return e;case _.sg:if(u.ZW.shouldShowSignupModalOnFollowButtonClickMobile?.evaluate({mWebSignupModal:e.mWebSignupModal}))return u.ZW.shouldShowSignupModalOnFollowButtonClickMobile.getNextState({action:a,state:e});return e;case _.TQ:return{...e,appUpsells:{...e.appUpsells,floatingUpsell:{shouldShow:e.appUpsells.floatingUpsell?.shouldShow??!1,isDismissed:!0}}};case _.w$:return{...e,appUpsells:{...e.appUpsells,iabAppUpsell:{isShown:a.payload.isShown??e.appUpsells.iabAppUpsell?.isShown??!1,appUpsellType:a.payload.appUpsellType??e.appUpsells.iabAppUpsell?.appUpsellType??"other",isBlocking:a.payload.isBlocking??e.appUpsells.iabAppUpsell?.isBlocking??!1}}};default:return e}}var S=t(14890);let y={data:null,loading:!1,error:null},T={data:{},loading:!1,error:void 0,businessIdsAssociatedWithAoaas:[]},R={requests:{},loading:!1,error:void 0},m={data:[],loading:!1,error:void 0,refreshToken:{data:void 0,loading:!1,error:void 0}},A={assetGroups:{},owners:{adAccountOwners:[],profileOwners:[],aoaaIds:[]},selectedAssetGroupId:void 0,loading:!1,error:void 0,ownerError:void 0,adAccountsLoading:!1,profilesLoading:!1,catalogsLoading:!1,employeesLoading:!1,systemUsersLoading:!1,ownersLoading:!1,partnersLoading:!1,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},employeesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},systemUsersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},partnersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},f={audiences:{sharedAudiences:[],receivedAudiences:[],ownedAudiences:[],sharedAudiencesLoading:!1,receivedAudiencesLoading:!1,ownedAudiencesLoading:!1,error:null},sharedAccounts:{accounts:{},loading:!1,error:null}},g={adAccounts:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},catalogs:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},assetGroups:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},businessHierarchyBusinessMembers:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},profiles:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},employees:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},partners:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},pending:{childBusinesses:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},organizationManagers:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},loading:!1,error:void 0}},I={data:{},loading:!1,error:void 0},C={data:{},sharedData:{},invites:{},loading:!1,selectedCatalogId:void 0,selectedInviteId:void 0,error:void 0,employeesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},employeesLoading:!1,partnersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},partnersLoading:!1,catalogOwners:{},catalogOwnersLoading:!1},P={data:[],sharedData:[],loading:!1,error:void 0,adAccountLoading:!1,adAccounts:[],conversionTypeLoading:!1,conversionTypes:[],mainPanelLoading:!1,selectedConversionId:"",table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0}},h={data:[],loading:!1,error:void 0},O={employees:{},invites:{},loading:!1,currentBusiness:void 0,invitesLoading:!1,selectedEmployeeId:void 0,selectedEmployeeInviteId:void 0,error:void 0,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},adAccountsLoading:!1,profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},profilesLoading:!1,assetGroupsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},assetGroupsLoading:!1,catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},catalogsLoading:!1,adAccountError:void 0,profileError:void 0,assetGroupsError:void 0,catalogError:void 0,assetRoles:void 0,assetRolesLoading:!1,assetRolesError:void 0},N={list:null,isLoading:!1,error:null};var D=t(707069),v=t(220455),L=t(460118);let b={data:{},loading:!1,error:null,dateRange:{startDate:(0,L.Z)((0,D.Z)((0,v.Z)(),7)).toISOString(),endDate:(0,L.Z)((0,D.Z)((0,v.Z)(),1)).toISOString()}},w={invites:{},requests:{},loading:!1,error:void 0},U={invites:{people:{},partner:{}},requests:{partner:{}},type:"PENDING",loading:!1,error:void 0},G={data:{},loading:!1,error:null,invoiceTabVisibility:"PROGRESS"},M={users:{collapse:!1},accounts:{collapse:!1},isLoading:!1},B={invites:{businessRole:"",businesses:[]},selectedPartners:{selectedPartnerBusinessIds:[],selectedCountries:[],searchValue:"",totalSelected:0},selectedAssets:{adAccounts:{resourceIdToRoles:{},roleToNumberOfAssets:{}},catalogs:{resourceIdToRoles:{},roleToNumberOfAssets:{}},profiles:{resourceIdToRoles:{},roleToNumberOfAssets:{}}},selectedRmnAssets:{audiences:{resourceIdToRoles:{},resourceIdToNames:{}},conversionSegments:{resourceIdToRoles:{},resourceIdToNames:{}},catalogs:{resourceIdToRoles:{},resourceIdToNames:{}}},requestedAssets:{adAccounts:{resourceIdToRoles:{}},catalogs:{resourceIdToRoles:{}},profiles:{resourceIdToRoles:{}}},loading:!1,error:void 0,selectedApps:{resourceIdToRoles:{},roleToNumberOfAssets:{}},systemUserData:void 0},k={data:{},loading:!1,error:void 0,isSelectedPartnerAssociatedWithAoaa:!1},F={people:{},partner:{},assets:{},type:["PENDING","EXPIRED"],loading:!1,error:void 0},H={data:{},loading:!1,error:void 0},x={data:{},loading:!1,error:null},V={data:[],systemUsers:{},adAccounts:[],assetGroups:[],catalogs:[],systemApps:[],profiles:[],loading:!1,adAccountLoading:!1,selectedSystemId:"",profilesLoading:!1,appsLoading:!1,catalogsLoading:!1,assetGroupsLoading:!1,error:void 0,table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"full_name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},adAccountTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},appsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},assetGroupsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0}},Y={visibleData:[],page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},$={tags:{},loading:!1,selectedTagId:void 0,error:void 0,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},adAccountsLoading:!1,adAccountError:void 0,selectedAdAccounts:[],overlayOpen:!1},j={previousPermissions:void 0,selectedId:void 0,loading:!1,error:void 0},W={loading:!1,error:null,data:[]},Z={loading:!1,error:void 0,data:[]},q={data:void 0},z=(0,S.combineReducers)({people:(e,a)=>{let t=e||H;switch(a.type){case"GET_PERSON":case"DELETE_PEOPLE":case"GET_PEOPLE":case"GET_AD_ACCOUNTS_PEOPLE":case"GET_PROFILE_DETAIL_PEOPLE":case"CREATE_PEOPLE_INVITE":case"GET_BUSINESS_HIERARCHY_MANAGERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE":return{...t,loading:!0};case"GET_PERSON_ERROR":case"DELETE_PEOPLE_ERROR":case"GET_PEOPLE_ERROR":case"GET_AD_ACCOUNTS_PEOPLE_ERROR":case"GET_PROFILE_DETAIL_PEOPLE_ERROR":case"CREATE_PEOPLE_INVITE_ERROR":case"GET_BUSINESS_HIERARCHY_MANAGERS_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_ERROR":return{...t,error:a.error,loading:!1};case"DELETE_PEOPLE_SUCCESS":case"CREATE_PEOPLE_INVITE_SUCCESS":return{...t,loading:!1,error:void 0};case"GET_PERSON_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS":return{...t,loading:!1,data:{...t.data,...a.payload?.data??{}},error:void 0};case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":return{...t,loading:!1,error:void 0,data:{...t.data,...Object.keys(a.payload?.data||{}).reduce((e,t)=>({...e,...!!t&&{[t]:a.payload?.data[t]}}),{})}};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_SUCCESS":if(!a.payload?.data?.userId||"string"!=typeof a.payload.data.userId||!t.data[a.payload.data.userId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.permissions)return{...t,error:a.error,loading:!1};return{...t,loading:!1,error:void 0,data:{...t.data,[a.payload.data.userId]:{...t.data[a.payload.data.userId],permissions:a.payload.data.permissions}}};case"CLEAR_ERROR":return{...t,error:void 0};case"UPDATE_PEOPLE_TOTAL_COUNT":return{...t,loading:!1,totalCount:a.payload?.totalCount};default:return t}},invitesOrRequests:(e,a)=>{let t=e||U,{type:r,data:n,id:s}=a.payload??{};switch(a.type){case"GET_PARTNERS_REQUESTS":case"CREATE_PARTNER_INVITE":case"CREATE_RMN_PARTNER_INVITE":case"CREATE_PARTNER_REQUEST":return{...t,loading:!0};case"GET_PARTNERS_REQUESTS_ERROR":case"CREATE_PARTNER_INVITE_ERROR":case"CREATE_RMN_PARTNER_INVITE_ERROR":case"CREATE_PARTNER_REQUEST_ERROR":return{...t,error:a.error,loading:!1};case"CREATE_PARTNER_INVITE_SUCCESS":case"CREATE_RMN_PARTNER_INVITE_SUCCESS":case"CREATE_PARTNER_REQUEST_SUCCESS":return{...t,loading:!1,error:void 0};case"GET_PARTNERS_REQUESTS_SUCCESS":return{...t,loading:!1,requests:{...t.requests,[r]:{...t.requests[r],...n}}};case"CLEAR_ERROR":return{...t,error:void 0};case"CLEAR_INVITE":if(t.invites.partner){let{[s]:e,...a}=t.invites.partner;return{...t,invites:{...t.invites,partner:{...a}}}}return t;case"CLEAR_REQUEST":if(t.requests.partner){let{[s]:e,...a}=t.requests.partner;return{...t,requests:{...t.requests,partner:{...a}}}}return t;default:return t}},partners:(e,a)=>{let t=e||k;switch(a.type){case"GET_PARTNER":case"UPDATE_PARTNERS":case"DELETE_PARTNERS":case"GET_PARTNERS":case"GET_AD_ACCOUNTS_PARTNERS":case"GET_PROFILE_DETAIL_PARTNERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER":case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA":return{...t,loading:!0};case"GET_PARTNER_ERROR":case"UPDATE_PARTNERS_ERROR":case"DELETE_PARTNERS_ERROR":case"GET_PARTNERS_ERROR":case"GET_AD_ACCOUNTS_PARTNERS_ERROR":case"GET_PROFILE_DETAIL_PARTNERS_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_ERROR":case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_ERROR":return{...t,error:a.error,loading:!1};case"UPDATE_PARTNERS_SUCCESS":case"DELETE_PARTNERS_SUCCESS":return{...t,loading:!1,error:void 0};case"GET_PARTNER_SUCCESS":case"GET_PARTNERS_SUCCESS":return{...t,loading:!1,data:{...t.data,...a.payload?.data??{}}};case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":return{...t,loading:!1,data:{...t.data,...Object.keys(a.payload?.data??{}).reduce((e,t)=>({...e,[t??""]:a.payload?.data[t]}),{})}};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_SUCCESS":if(!a.payload?.data?.userId||"string"!=typeof a.payload.data.userId||!t.data[a.payload.data.userId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.permissions)return{...t,error:a.error,loading:!1};return{...t,loading:!1,error:void 0,data:{...t.data,[a.payload.data.userId]:{...t.data[a.payload.data.userId],permissions:a.payload.data.permissions}}};case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_SUCCESS":return{...t,loading:!1,error:void 0,isSelectedPartnerAssociatedWithAoaa:a.payload??!1};case"CLEAR_ERROR":return{...t,error:void 0};case"UPDATE_PARTNERS_TOTAL_COUNT":return{...t,loading:!1,totalCount:a.payload?.totalCount};default:return t}},employers:(e,a)=>{let t=e||N;switch(a.type){case"GET_EMPLOYERS":return{...t,error:null,isLoading:!0};case"GET_EMPLOYERS_SUCCESS":if(a.payload?.showTooltip){let e=[];for(let r of a.payload.data)t&&t.list&&!t.list.some(({id:e})=>e===r.id)?e.push({...r,showInTooltip:!0}):e.push(r);return{...t,list:e,isLoading:!1}}return{...t,list:a.payload?.data,isLoading:!1};case"GET_EMPLOYERS_ERROR":return{...t,list:[],error:a.error,isLoading:!1};case"HIDE_EMPLOYERS_TOOLTIP":return{...t,list:t.list?t.list.map(e=>{if("showInTooltip"in e){let{showInTooltip:a,...t}=e;return t}return e}):t.list};default:return t}},adAccounts:(e,a)=>{let t=e||T;switch(a.type){case"CREATE_AD_ACCOUNTS":case"GET_MULTIPLE_AD_ACCOUNTS":case"GET_PERSON_ASSETS":case"GET_PARTNER_ASSETS":case"GET_AD_ACCOUNT":case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT":case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS":case"GET_AD_ACCOUNTS_SETTINGS":case"UPDATE_AD_ACCOUNTS_SETTINGS":return{...t,loading:!0};case"CREATE_AD_ACCOUNTS_ERROR":case"GET_MULTIPLE_AD_ACCOUNTS_ERROR":case"GET_PERSON_ASSETS_ERROR":case"GET_PARTNER_ASSETS_ERROR":case"GET_AD_ACCOUNT_ERROR":case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_ERROR":case"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR":case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_ERROR":case"GET_AD_ACCOUNTS_SETTINGS_ERROR":case"UPDATE_AD_ACCOUNTS_SETTINGS_ERROR":return{...t,error:a.error,loading:!1};case"CREATE_AD_ACCOUNTS_SUCCESS":return{...t,loading:!1,error:void 0};case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_AD_ACCOUNT_SUCCESS":return{...t,loading:!1,data:{...t.data,...a.payload?.data??{}},error:void 0};case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_SUCCESS":if(!a.payload?.data?.adAccountId||"string"!=typeof a.payload.data.adAccountId||!t.data[a.payload.data.adAccountId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.permissions)return{...t,error:a.error,loading:!1};return{...t,loading:!1,error:void 0,data:{...t.data,[a.payload.data.adAccountId]:{...t.data[a.payload.data.adAccountId],permissions:a.payload.data.permissions}}};case"CLEAR_ERROR":return{...t,error:void 0};case"UPDATE_AD_ACCOUNTS_TOTAL_COUNT":return{...t,loading:!1,totalCount:a.payload?.totalCount};case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_SUCCESS":return{...t,loading:!1,businessIdsAssociatedWithAoaas:a.payload?.businessIdsAssociatedWithAoaas||[]};case"GET_AD_ACCOUNTS_SETTINGS_SUCCESS":case"UPDATE_AD_ACCOUNTS_SETTINGS_SUCCESS":if(!a.payload?.data?.adAccountId||"string"!=typeof a.payload.data.adAccountId||!t.data[a.payload.data.adAccountId])return{...t,loading:!1};return{...t,loading:!1,data:{...t.data,[a.payload.data.adAccountId]:{...t.data[a.payload.data.adAccountId],settings:a.payload.data.settings??{}}}};default:return t}},businessMetrics:(e,a)=>{let t=e||I;switch(a.type){case"GET_ADS_MONTHLY_SPEND":return{...t,loading:!0};case"GET_ADS_MONTHLY_SPEND_ERROR":return{...t,error:a.error,loading:!1};case"GET_ADS_MONTHLY_SPEND_SUCCESS":return{...t,loading:!1,data:{...t?.data,...a?.data??{}},error:void 0};case"CLEAR_ERROR":return{...t,error:void 0};default:return t??{}}},actingUser:(e=y,a)=>{let t=e||y;switch(a.type){case"GET_ACTING_USER":return{...t,loading:!0,error:null};case"GET_ACTING_USER_SUCCESS":return{...t,data:a.payload,loading:!1};case"GET_ACTING_USER_ERROR":return{...t,loading:!1,error:a.error};default:return t}},table:(e,a)=>{let t=e||Y;switch(a.type){case"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS":case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_SYSTEM_USERS_SUCCESS":case"GET_PARTNERS_REQUESTS_SUCCESS":case"GET_PARTNERS_SUCCESS":case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":case"GET_PERSON_ASSET_GROUPS_SUCCESS":case"GET_PARTNER_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_AD_ACCOUNT_SYSTEM_USERS_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_SYSTEM_USERS_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":case"GET_ALL_PROFILES_SUCCESS":case"GET_PENDING_PEOPLE_SUCCESS":case"GET_PENDING_PARTNERS_SUCCESS":case"GET_AOAA_REQUESTS_SUCCESS":case"GET_HISTORY_SUCCESS":case"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS":case"GET_BILLING_INVOICES_SUCCESS":case"GET_ASSET_GROUP_ASSETS_SUCCESS":case"GET_PROFILE_ASSET_GROUPS_SUCCESS":case"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS":case"GET_TAG_ASSETS_SUCCESS":{let{updateDataOnly:e,data:r,ids:n,...s}=a.payload??{};if(e)return t;let o=s?.table??{};return{...t,visibleData:n,...s,...o}}case"SET_ROUTER_PARAMS":return Y;case"SET_SORT_PARAMS":return{...t,sortBy:a.payload?.sortBy,sortDirection:a.payload?.sortDirection||"ASCENDING"};default:return t}},history:(e,a)=>{let t=e||b;switch(a.type){case"GET_HISTORY":return{...t,loading:!0,error:null};case"GET_HISTORY_SUCCESS":return{...t,data:{...t.data,...a.payload?.data??{}},loading:!1};case"GET_HISTORY_ERROR":return{...t,loading:!1,error:a.error};case"SET_HISTORY_DATE_RANGE":return{...t,dateRange:a.dateRange};default:return t}},inviteOrRequestData:(e=w,a)=>{let t=e||w,{updateDataOnly:r,type:n,...s}=a.payload??{};switch(a.type){case"GET_INVITE_DATA":case"GET_REQUEST_DATA":return{...t,loading:!0};case"GET_INVITE_DATA_ERROR":case"GET_REQUEST_DATA_ERROR":return{...t,loading:!1,error:a.error};case"GET_INVITE_DATA_SUCCESS":return{...t,invites:{...t.invites,[n]:{...t.invites[n],...s}},loading:!1};case"GET_REQUEST_DATA_SUCCESS":return{...t,requests:{...t.requests,[n]:{...s,...t.requests[n]}},loading:!1};case"CLEAR_PARTNER_INVITE_DATA":return{...t,invites:{...t.invites,partners:{}}};case"CLEAR_PARTNER_REQUEST_DATA":return{...t,requests:{...t.requests,partners:{}}};default:return t}},dashboardRecentlyAdded:(e,a)=>{let t=e||h;switch(a.type){case"GET_DASHBOARD_RECENTLY_ADDED":return{...t,loading:!0};case"GET_DASHBOARD_RECENTLY_ADDED_ERROR":return{...t,error:a.error,loading:!1};case"GET_DASHBOARD_RECENTLY_ADDED_SUCCESS":return{...t,loading:!1,data:[...a.payload],error:void 0};default:return t}},pending:(e,a)=>{let t=e||F;switch(a.type){case"GET_PENDING_PEOPLE":case"GET_PENDING_PARTNERS":case"GET_PENDING_ASSETS":return{...t,loading:!0};case"GET_PENDING_PEOPLE_ERROR":case"GET_PENDING_PARTNERS_ERROR":case"GET_PENDING_ASSETS_ERROR":return{...t,error:a.error,loading:!1};case"GET_PENDING_PEOPLE_SUCCESS":return{...t,loading:!1,people:{...t.people,...a.payload.data??{}},type:a.payload.inviteStatus??["PENDING","EXPIRED"]};case"GET_PENDING_PARTNERS_SUCCESS":return{...t,loading:!1,partner:{...t.partner,...a.payload.data??{}},type:a.payload.inviteStatus??["PENDING","EXPIRED"]};case"GET_PENDING_ASSETS_SUCCESS":return{...t,loading:!1,assets:{...t.assets,...a.payload??{}},type:["PENDING"]};case"CLEAR_PENDING_DATA":return{...t,loading:!1,people:{},partner:{},assets:{}};case"CLEAR_PENDING_ASSETS":return{...t,loading:!1,assets:{}};case"CLEAR_ERROR":return{...t,error:void 0};default:return t}},aoaaRequests:(e,a)=>{let t=e||R;switch(a.type){case"GET_AOAA_REQUESTS":case"UPDATE_AOAA_REQUEST":return{...t,loading:!0};case"UPDATE_AOAA_REQUEST_ERROR":case"GET_AOAA_REQUESTS_ERROR":return{...t,error:a.error,loading:!1};case"GET_AOAA_REQUESTS_SUCCESS":return{...t,loading:!1,requests:{...t.requests,...a.payload.data??{}}};case"UPDATE_AOAA_REQUEST_SUCCESS":if(!a.payload.requestId||"string"!=typeof a.payload.requestId||!t.requests||!t.requests[a.payload.requestId])return{...t,error:a.error,loading:!1};return{...t,loading:!1,requests:{...t.requests,...a.payload.data??{},[a.payload.requestId]:{...t.requests[a.payload.requestId],permissions:a.payload.businessIdToPermissions}}};case"CLEAR_AOAA_REQUESTS":return{...t,loading:!1,requests:{}};case"CLEAR_ERROR":return{...t,error:void 0};default:return t}},assetGroups:(e,a)=>{let t=e||A;switch(a.type){case"GET_ASSET_GROUPS":return{...t,loading:!0,loadingAssetGroups:!0};case"GET_ASSET_GROUPS_ERROR":return{...t,error:a.error,loading:!1,loadingAssetGroups:!1};case"GET_ASSET_GROUPS_SUCCESS":return{...t,loadingAssetGroups:!1,loading:!1,assetGroups:{...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})}};case"CREATE_ASSET_GROUP":case"EDIT_ASSET_GROUP":case"DELETE_ASSET_GROUP":case"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP":case"UPDATE_SYSTEM_USER_PERMISSION_TO_ASSET_GROUP":case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP":return{...t,loading:!0};case"CREATE_ASSET_GROUP_ERROR":case"EDIT_ASSET_GROUP_ERROR":case"DELETE_ASSET_GROUP_ERROR":case"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP_ERROR":case"UPDATE_SYSTEM_USER_PERMISSION_TO_ASSET_GROUP_ERROR":case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_ERROR":return{...t,error:a.error,loading:!1};case"CREATE_ASSET_GROUP_SUCCESS":let r=a.payload?.data;if("object"==typeof r&&!Array.isArray(r)&&"string"==typeof r.id)return{...t,loading:!1,error:void 0,selectedAssetGroupId:r.id,assetGroups:{...t.assetGroups,...{[r.id]:{...r,profiles:[],adAccounts:[],employees:[],partners:[]}}}};return t;case"EDIT_ASSET_GROUP_SUCCESS":let n=a.payload?.data;if("object"==typeof n&&"object"==typeof a.payload?.data&&!Array.isArray(n)&&!Array.isArray(a.payload.data)&&"string"==typeof n.id)return{...t,loading:!1,assetGroups:{...t.assetGroups,...{[n.id]:{...t.assetGroups[n.id],...a.payload.data}}}};return t;case"DELETE_ASSET_GROUP_SUCCESS":let s={...t.assetGroups},o=a.payload?.data,i={};if("string"!=typeof o)return t;{Object.keys(s).forEach(e=>{e!==o&&(i[e]=s[e])});let e=Object.keys(i).length>0?Object.keys(i)[0]:void 0;return{...t,loading:!1,loadingAssetGroups:!1,assetGroups:i,selectedAssetGroupId:e}}case"SELECT_ASSET_GROUP":return{...t,selectedAssetGroupId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"UPDATE_EMPLOYEE_PERMISSION_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.assetGroupId||!a.payload.data.employeeId||!a.payload.data.newPermissions)return{...t,error:a.error,loading:!1};let l=a.payload.data.employeeId,d=a.payload.data.newPermissions;return{...t,loading:!1,assetGroups:{...t.assetGroups,[a.payload.data.assetGroupId]:{...t.assetGroups[a.payload.data.assetGroupId],employees:(t.assetGroups[a.payload.data.assetGroupId].employees||[]).map(e=>e.id===l?{...e,permissions:d}:e)}}};case"UPDATE_SYSTEM_USER_PERMISSION_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.assetGroupId||!a.payload.data.systemUserId||!a.payload.data.newPermissions)return{...t,error:a.error,loading:!1};let c=a.payload.data.systemUserId,u=a.payload.data.newPermissions;return{...t,loading:!1,assetGroups:{...t.assetGroups,[a.payload.data.assetGroupId]:{...t.assetGroups[a.payload.data.assetGroupId],systemUsers:(t?.assetGroups[a.payload.data.assetGroupId]?.systemUsers||[]).map(e=>e.id===c?{...e,permissions:u}:e)}}};case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.assetGroupId||!a.payload.data.partnerId||!a.payload.data.newPermissions)return{...t,error:a.error,loading:!1};let _=a.payload.data.partnerId,p=a.payload.data.newPermissions;return{...t,loading:!1,assetGroups:{...t.assetGroups,[a.payload.data.assetGroupId]:{...t.assetGroups[a.payload.data.assetGroupId],partners:(t.assetGroups[a.payload.data.assetGroupId].partners||[]).map(e=>e.id===_?{...e,permissions:p}:e)}}};case"GET_ASSET_GROUP_ASSETS":if(a.payload?.data==="AD_ACCOUNT")return{...t,loading:!1,adAccountsLoading:!0};if(a.payload?.data==="PROFILE")return{...t,loading:!1,profilesLoading:!0};return{...t,loading:!1};case"GET_ASSET_GROUP_ASSETS_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId])return{...t,error:a.error,loading:!1};let{assetGroupId:E}=a.payload.data,S=a.payload.data.child_asset_ids||[];if(Array.isArray(a.payload.data.adAccounts))return{...t,loading:!1,adAccountsLoading:!1,assetGroups:{...t.assetGroups,[E]:{...t.assetGroups[E],adAccounts:a.payload.data.adAccounts,...S&&{child_ad_account_ids:S}}}};if(Array.isArray(a.payload.data.profiles))return{...t,loading:!1,profilesLoading:!1,assetGroups:{...t.assetGroups,[E]:{...t.assetGroups[E],profiles:a.payload.data.profiles,...S&&{child_profile_ids:S}}}};if(Array.isArray(a.payload.data.catalogs))return{...t,loading:!1,catalogsLoading:!1,assetGroups:{...t.assetGroups,[E]:{...t.assetGroups[E],catalogs:a.payload.data.catalogs,...S&&{child_catalog_ids:S}}}};return{...t,loading:!1,profilesLoading:!1,adAccountsLoading:!1};case"GET_ASSET_GROUP_ASSETS_ERROR":return{...t,error:a.error,loading:!1,profilesLoading:!1,adAccountsLoading:!1};case"GET_ASSET_GROUP_USERS":if(a.payload?.data==="PEOPLE")return{...t,loading:!1,employeesLoading:!0};if(a.payload?.data==="SYSTEM_USERS")return{...t,loading:!1,systemUsersLoading:!0};if(a.payload?.data==="PARTNER")return{...t,loading:!1,partnersLoading:!0};return{...t,loading:!1};case"GET_ASSET_GROUP_USERS_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId])return{...t,error:a.error,loading:!1,employeesLoading:!1,partnersLoading:!1,systemUsersLoading:!1};let y=a.payload.data.assetGroupId;if(Array.isArray(a.payload.data.people))return{...t,loading:!1,employeesLoading:!1,assetGroups:{...t.assetGroups,[y]:{...t.assetGroups[y],employees:a.payload.data.people}}};if(Array.isArray(a.payload.data.systemUsers))return{...t,loading:!1,systemUsersLoading:!1,assetGroups:{...t.assetGroups,[y]:{...t.assetGroups[y],systemUsers:a.payload.data.systemUsers}}};if(Array.isArray(a.payload.data.partners))return{...t,loading:!1,partnersLoading:!1,assetGroups:{...t.assetGroups,[y]:{...t.assetGroups[y],partners:a.payload.data.partners}}};return{...t,loading:!1,employeesLoading:!1,partnersLoading:!1};case"GET_ASSET_GROUP_USERS_ERROR":return{...t,error:a.error,loading:!1,employeesLoading:!1,partnersLoading:!1,systemUsersLoading:!1};case"GET_ASSET_GROUP_OWNERS":return{...t,loading:!1,ownersLoading:!0};case"GET_ASSET_GROUP_OWNERS_SUCCESS":if(!a.payload||!a.payload.data||"object"!=typeof a.payload.data||"string"!=typeof a.payload.data.resourceType||!a.payload.data.owners||!a.payload.data.aoaaIds||!Array.isArray(a.payload.data.owners)||!Array.isArray(a.payload.data.aoaaIds))return{...t,loading:!1};let T=[];a.payload.data.owners.forEach(e=>{e&&"object"==typeof e&&T.push({id:"string"==typeof e.id?e.id:"",fullName:"string"==typeof e.fullName?e.fullName:"",assetIds:Array.isArray(e.assetIds)?e.assetIds.map(e=>"string"==typeof e?e:""):[]})});let R=Array.isArray(a.payload?.data?.aoaaIds)?a.payload.data.aoaaIds.map(e=>"string"==typeof e?e:""):[];return a.payload?.data?.resourceType==="AD_ACCOUNT"?{...t,loading:!1,ownersLoading:!1,owners:{...t.owners,adAccountOwners:T,aoaaIds:R}}:{...t,loading:!1,ownersLoading:!1,owners:{...t.owners,profileOwners:T}};case"GET_ASSET_GROUP_OWNERS_ERROR":return{...t,ownerError:a.error,loading:!1,ownersLoading:!1};case"CLEAR_ERROR":return{...t,error:void 0};case"SET_TABLE_STATE":if(!a.payload?.data?.table)return{...t};if("AD_ACCOUNT"===a.payload.data.assetOrMemberType)return{...t,adAccountsTable:{...t.adAccountsTable,...a.payload.data.table}};if("PROFILE"===a.payload.data.assetOrMemberType)return{...t,profilesTable:{...t.profilesTable,...a.payload.data.table}};if("CATALOG"===a.payload.data.assetOrMemberType)return{...t,catalogsTable:{...t.catalogsTable,...a.payload.data.table}};if("PEOPLE"===a.payload.data.assetOrMemberType)return{...t,employeesTable:{...t.employeesTable,...a.payload.data.table}};else if("PARTNER"===a.payload.data.assetOrMemberType)return{...t,partnersTable:{...t.partnersTable,...a.payload.data.table}};return{...t};case"GET_PERSON_ASSET_GROUPS":case"GET_AD_ACCOUNTS_ASSET_GROUPS":case"GET_PROFILE_ASSET_GROUPS":case"GET_PARTNER_ASSET_GROUPS":return{...t,loadingAssetGroups:!0,loading:!0};case"GET_PERSON_ASSET_GROUPS_ERROR":case"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR":case"GET_PROFILE_ASSET_GROUPS_ERROR":case"GET_PARTNER_ASSET_GROUPS_ERROR":return{...t,loadingAssetGroups:!1,loading:!1,error:a.error??void 0};case"GET_PERSON_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS":case"GET_PROFILE_ASSET_GROUPS_SUCCESS":case"GET_PARTNER_ASSET_GROUPS_SUCCESS":let m="object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?{}:a.payload.data;return{...t,loadingAssetGroups:!1,loading:!1,assetGroups:Object.keys(m).reduce((e,a)=>({...e,[a]:{entity_type:"ASSET_GROUP",id:a,name:m[a]?.asset.name,description:m[a]?.asset.description,asset_group_types:m[a]?.asset.asset_group_types,adAccounts:[],profiles:[],child_ad_account_ids:m[a]?.asset.child_ad_account_ids||[],child_profile_ids:m[a]?.asset.child_profile_ids||[],employees:[],partners:[],created_by:{username:m[a]?.created_by.username,full_name:m[a]?.created_by.full_name},created_time:m[a]?.asset.created_time,owner:{username:m[a]?.owner.username,full_name:m[a]?.owner.full_name,id:m[a]?.owner.id},permissions:m[a]?.permissions}}),{})};default:return t}},profiles:(e=x,a)=>{let t=e||x;switch(a.type){case"GET_ALL_PROFILES":case"GET_DASHBOARD_PROFILES":case"GET_PROFILE_META":case"GET_PERSON_PROFILES":return{...t,loading:!0,error:null};case"GET_ALL_PROFILES_ERROR":case"GET_DASHBOARD_PROFILES_ERROR":case"GET_PERSON_PROFILES_ERROR":case"GET_PROFILE_META_ERROR":return{...t,loading:!1,error:a.error};case"GET_ALL_PROFILES_SUCCESS":case"GET_PROFILE_META_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":return{...t,loading:!1,error:null,data:{...t.data,...a.payload?.data}};case"GET_DASHBOARD_PROFILES_SUCCESS":return{...t,loading:!1,error:null,data:{...t.data,...a.payload?.data},dashboardVisibleData:a.payload?.ids};default:return t}},viewerInvites:(e,a)=>{let t=e||Z;switch(a.type){case"GET_VIEWER_INVITES":return{...t,loading:!0};case"GET_VIEWER_INVITES_ERROR":return{...t,loading:!1,error:a.error};case"GET_VIEWER_INVITES_SUCCESS":return{...t,loading:!1,data:a.payload?.data??[]};default:return t}},viewerIsProfileOwnerOrProfileManager:(e,a)=>{let t=e||q;return"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER"===a.type?{...t,data:a.payload??void 0}:t},viewerBusinessHierarchyInvites:(e,a)=>{let t=e||W;switch(a.type){case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES":return{...t,loading:!0};case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_ERROR":return{...t,loading:!1,error:a.error};case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_SUCCESS":return{...t,loading:!1,data:a.payload?.data??[]};default:return t}},navigation:(e,a)=>{let t=e||M;switch(a.type){case"TOGGLE_USERS":return{...t,users:{collapse:!t.users.collapse},isLoading:!1};case"TOGGLE_ACCOUNTS":return{...t,accounts:{collapse:!t.accounts.collapse},isLoading:!1};case"SET_INITIAL_COLLAPSED_STATE":return{...t,users:{collapse:a.payload?.usersCollapsed??!1},accounts:{collapse:a.payload?.accountsCollapsed??!1},isLoading:!1};default:return t}},newRelationshipAssetAssignmentFlow:(e=B,a)=>{let t=e||B;switch(a.type){case"SET_RELATIONSHIP_INVITES":return{...t,loading:!1,invites:{...t?.invites,...a.invites??{}}};case"SET_SELECTED_PARTNERS":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,selectedPartnerBusinessIds:a.selectedPartners??[]}};case"SET_SELECTED_PARTNERS_TOTAL":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,totalSelected:a.totalSelected??0}};case"SET_ALL_PARTNERS_SELECTED":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,allOwnersSelected:a.allOwnersSelected}};case"SET_SELECTED_PARTNERS_COUNTRIES_FILTER":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,selectedCountries:a.countries??[]}};case"SET_SELECTED_PARTNERS_PARTNER_NAME_FILTER":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,searchValue:a.partnerName??[]}};case"SET_SELECTED_ASSETS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,...a.selectedAssets??{}}};case"SET_SELECTED_RMN_ASSETS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,...a.selectedRmnAssets??{}}};case"SET_REQUESTED_ASSETS":return{...t,loading:!1,requestedAssets:{...t?.requestedAssets,...a.requestedAssets??{}}};case"CLEAR_SLICE":return B;case"CLEAR_SELECTED_PARTNERS_AND_ASSET_ASSIGNMENTS":return{...t,selectedPartners:B.selectedPartners,selectedAssets:B.selectedAssets,loading:!1};case"SET_SELECTED_AD_ACCOUNTS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,adAccounts:{...t.selectedAssets?.adAccounts,resourceIdToRoles:a.selectedAdAccounts||{}}}};case"SET_SELECTED_AD_ACCOUNTS_SEARCH_VALUE":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,adAccounts:{...t.selectedAssets?.adAccounts,searchValue:a.adAccountsSearchValue}}};case"SET_SELECTED_AD_ACCOUNTS_NUMBER_MAP":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,adAccounts:{...t.selectedAssets?.adAccounts,roleToNumberOfAssets:a.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_AD_ACCOUNTS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,adAccounts:{...t.selectedAssets?.adAccounts,allAssetsSelected:a.allAssetsSelected}}};case"SET_REQUESTED_AD_ACCOUNTS":return{...t,loading:!1,requestedAssets:{...t?.requestedAssets,adAccounts:{...t.requestedAssets?.adAccounts,resourceIdToRoles:a.requestedAdAccounts||{}}}};case"SET_SELECTED_CATALOGS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,catalogs:{...t.selectedAssets?.catalogs,resourceIdToRoles:a.selectedCatalogs||{}}}};case"SET_SELECTED_CATALOGS_SEARCH_VALUE":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,catalogs:{...t.selectedAssets?.catalogs,searchValue:a.catalogsSearchValue}}};case"SET_SELECTED_CATALOGS_NUMBER_MAP":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,catalogs:{...t.selectedAssets?.catalogs,roleToNumberOfAssets:a.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_CATALOGS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,catalogs:{...t.selectedAssets?.catalogs,allAssetsSelected:a.allAssetsSelected}}};case"SET_SELECTED_RMN_CATALOGS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,catalogs:{...t.selectedRmnAssets?.catalogs,...a.selectedCatalogs||{}}}};case"SET_SELECTED_RMN_CATALOGS_SEARCH_VALUE":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,catalogs:{...t.selectedRmnAssets?.catalogs,searchValue:a.catalogsSearchValue}}};case"SET_ALL_SELECTED_RMN_CATALOGS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,catalogs:{...t.selectedRmnAssets?.catalogs,allAssetsSelected:a.allAssetsSelected}}};case"SET_REQUESTED_CATALOGS":return{...t,loading:!1,requestedAssets:{...t?.requestedAssets,catalogs:{...t.requestedAssets?.catalogs,resourceIdToRoles:a.requestedCatalogs||{}}}};case"SET_SELECTED_PROFILES":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,profiles:{...t.selectedAssets?.profiles,resourceIdToRoles:a.selectedProfiles||{}}}};case"SET_SELECTED_PROFILES_SEARCH_VALUE":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,profiles:{...t.selectedAssets?.profiles,searchValue:a.profilesSearchValue}}};case"SET_SELECTED_PROFILES_NUMBER_MAP":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,profiles:{...t.selectedAssets?.profiles,roleToNumberOfAssets:a.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_PROFILES":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,profiles:{...t.selectedAssets?.profiles,allAssetsSelected:a.allAssetsSelected}}};case"SET_REQUESTED_PROFILES":return{...t,loading:!1,requestedAssets:{...t?.requestedAssets,profiles:{...t.requestedAssets?.profiles,resourceIdToRoles:a.requestedProfiles||{}}}};case"SET_SELECTED_APPS":return{...t,loading:!1,selectedApps:{...t.selectedApps,...a.selectedApps||{}}};case"SET_SELECTED_AUDIENCES":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,audiences:{...t.selectedRmnAssets?.audiences,...a.selectedAudiences||{}}}};case"SET_SELECTED_AUDIENCES_SEARCH_VALUE":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,audiences:{...t.selectedRmnAssets?.audiences,searchValue:a.audiencesSearchValue}}};case"SET_ALL_SELECTED_AUDIENCES":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,audiences:{...t.selectedRmnAssets?.audiences,allAssetsSelected:a.allAssetsSelected}}};case"SET_SELECTED_CONVERSION_SEGMENTS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,conversionSegments:{...t.selectedRmnAssets?.conversionSegments,...a.selectedConversionSegments||{}}}};case"SET_SELECTED_CONVERSION_SEGMENTS_SEARCH_VALUE":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,conversionSegments:{...t.selectedRmnAssets?.conversionSegments,searchValue:a.conversionSegmentsSearchValue}}};case"SET_ALL_SELECTED_CONVERSION_SEGMENTS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,conversionSegments:{...t.selectedRmnAssets?.conversionSegments,allAssetsSelected:a.allAssetsSelected}}};case"SET_SYSTEM_USER_DATA":return{...t,loading:!1,systemUserData:a.systemUserData};default:return t}},invoiceManagement:(e,a)=>{let t=e||G;switch(a.type){case"GET_BILLING_INVOICES":return{...t,loading:!0,error:null};case"GET_BILLING_INVOICES_SUCCESS":return{...t,data:{...t.data,...a.payload?.data??G.data},loading:!1};case"GET_BILLING_INVOICES_ERROR":return{...t,loading:!1,error:a.error};case"SET_BILLING_INVOICES_VISIBILITY":return{...t,invoiceTabVisibility:a.payload};default:return t}},businessHierarchy:(e,a)=>{let t=e||g;switch(a.type){case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS":return{...t,adAccounts:{...t.adAccounts,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_ERROR":return{...t,adAccounts:{...t.adAccounts,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS":return{...t,adAccounts:{...t.adAccounts,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.adAccounts.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PROFILES":return{...t,profiles:{...t.profiles,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_PROFILES_ERROR":return{...t,profiles:{...t.profiles,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS":return{...t,profiles:{...t.profiles,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.profiles.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS":return{...t,assetGroups:{...t.assetGroups,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_ERROR":return{...t,assetGroups:{...t.assetGroups,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS":return{...t,assetGroups:{...t.assetGroups,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.assetGroups.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_CATALOGS":return{...t,catalogs:{...t.catalogs,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_CATALOGS_ERROR":return{...t,catalogs:{...t.catalogs,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_CATALOGS_SUCCESS":return{...t,catalogs:{...t.catalogs,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.catalogs.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES":return{...t,employees:{...t.employees,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS":return{...t,businessHierarchyBusinessMembers:{...t.businessHierarchyBusinessMembers,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_ERROR":return{...t,businessHierarchyBusinessMembers:{...t.businessHierarchyBusinessMembers,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS":return{...t,businessHierarchyBusinessMembers:{...t.businessHierarchyBusinessMembers,data:a.payload?.data||[],table:{...t.businessHierarchyBusinessMembers.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES_ERROR":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_ERROR":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_ERROR":return{...t,employees:{...t.employees,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS":return{...t,employees:{...t.employees,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.employees.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PARTNERS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS":return{...t,partners:{...t.partners,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_PARTNERS_ERROR":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_ERROR":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_ERROR":return{...t,partners:{...t.partners,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS":return{...t,partners:{...t.partners,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.partners.table,...a.payload?.table},loading:!1,error:void 0}};case"CREATE_BUSINESS_HIERARCHY_INVITE":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES":case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS":return{...t,pending:{...t.pending,loading:!0}};case"CREATE_BUSINESS_HIERARCHY_INVITE_ERROR":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_ERROR":case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_ERROR":return{...t,pending:{...t.pending,error:a.error,loading:!1}};case"CREATE_BUSINESS_HIERARCHY_INVITE_CHILD_BUSINESSES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_SUCCESS":return{...t,pending:{...t.pending,childBusinesses:{...t.pending.childBusinesses,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.pending.childBusinesses.table,...a.payload?.table}},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_SUCCESS":return{...t,pending:{...t.pending,organizationManagers:{...t.pending.organizationManagers,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.pending.organizationManagers.table,...a.payload?.table}},loading:!1,error:void 0}};default:return t}},tags:(e,a)=>{let t=e||$;switch(a.type){case"GET_TAGS":return{...t,loading:!0};case"GET_TAGS_ERROR":return{...t,error:a.error,loading:!1};case"GET_TAGS_SUCCESS":return{...t,loading:!1,tags:{...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>{if(a.leader_tag_id){let t=e[a.leader_tag_id];t&&(t.tags=t.tags.concat(a))}else if(a.id){let t=e[a.id]?.tags??[];e[a.id]={...{id:a.id,name:a.name,automatic_enhanced_match:a.automatic_enhanced_match,ad_account_id:a.ad_account_id,business_id:a.business_id,created_time:a.created_time,last_fired_event:a.last_fired_event,tags:t??[],adAccounts:[]}}}return e},{})}};case"SELECT_TAGS":return{...t,selectedTagId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_OVERLAY":return{...t,overlayOpen:!("object"!=typeof a.payload?.data||Array.isArray(a.payload.data))&&(a.payload.data.overlayState??!1)};case"SELECT_TAG_AD_ACCOUNTS":return{...t,selectedAdAccounts:"object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.adAccounts??[]};case"CLEAR_ERROR":return{...t,error:void 0};case"SET_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,adAccountsTable:{...t.adAccountsTable,...a.payload.data.table}};case"GET_TAG_ASSETS_SUCCESS":if(!a.payload?.data?.tagId||"string"!=typeof a.payload.data.tagId||!t.tags[a.payload.data.tagId])return{...t,error:a.error,loading:!1};let{tagId:r}=a.payload.data,n={};if(a.payload.data.ownerAdAccount&&"object"==typeof a.payload.data.ownerAdAccount&&!Array.isArray(a.payload.data.ownerAdAccount)&&(n={ownerAdAccount:a.payload.data.ownerAdAccount}),Array.isArray(a.payload.data.adAccounts))return{...t,loading:!1,adAccountsLoading:!1,tags:{...t.tags,[r]:{...t.tags[r],adAccounts:a.payload.data.adAccounts,...n}}};return{...t,loading:!1,adAccountsLoading:!1};case"GET_TAG_ASSETS":case"ADD_TAG_ASSETS_AD_ACCOUNT":case"REVOKE_TAG_ASSETS_AD_ACCOUNT":return{...t,adAccountsLoading:!0};case"GET_TAG_ASSETS_ERROR":case"ADD_TAG_ASSETS_AD_ACCOUNT_ERROR":case"REVOKE_TAG_ASSETS_AD_ACCOUNT_ERROR":return{...t,adAccountsLoading:!1,adAccountError:a.error??void 0};case"ADD_TAG_ASSETS_AD_ACCOUNT_SUCCESS":case"REVOKE_TAG_ASSETS_AD_ACCOUNT_SUCCESS":if(!a.payload?.data?.tagId||"string"!=typeof a.payload.data.tagId||!t.tags[a.payload.data.tagId])return{...t,error:a.error,loading:!1};if(Array.isArray(a.payload.data.adAccounts)&&Array.isArray(a.payload.data.tags))return{...t,adAccountsLoading:!1,tags:{...t.tags,[a.payload.data.tagId]:{...t.tags[a.payload.data.tagId],tags:a.payload.data.tags,adAccounts:a.payload.data.adAccounts}}};return{...t,adAccountsLoading:!1};default:return t}},audienceSharing:(e,a)=>{let t=e||f;switch(a.type){case"GET_SHARED_AUDIENCES":return{...t,audiences:{...t.audiences,sharedAudiencesLoading:!0,error:null}};case"GET_SHARED_AUDIENCES_SUCCESS":return{...t,audiences:{...t.audiences,sharedAudiences:a.data||[],sharedAudiencesLoading:!1}};case"GET_SHARED_AUDIENCES_ERROR":return{...t,audiences:{...t.audiences,sharedAudiencesLoading:!1,error:a.error}};case"GET_RECEIVED_AUDIENCES":return{...t,audiences:{...t.audiences,receivedAudiencesLoading:!0,error:null}};case"GET_RECEIVED_AUDIENCES_SUCCESS":return{...t,audiences:{...t.audiences,receivedAudiences:a.data||[],receivedAudiencesLoading:!1}};case"GET_RECEIVED_AUDIENCES_ERROR":return{...t,audiences:{...t.audiences,receivedAudiencesLoading:!1,error:a.error}};case"GET_OWNED_AUDIENCES":return{...t,audiences:{...t.audiences,ownedAudiencesLoading:!0,error:null}};case"GET_OWNED_AUDIENCES_SUCCESS":return{...t,audiences:{...t.audiences,ownedAudiences:a.data||[],ownedAudiencesLoading:!1}};case"GET_OWNED_AUDIENCES_ERROR":return{...t,audiences:{...t.audiences,ownedAudiencesLoading:!1,error:a.error}};case"SELECTED_AUDIENCE_ID":return{...t,audiences:{...t.audiences,selectedAudienceId:a.id,sharedAudiencesLoading:!1,receivedAudiencesLoading:!1}};case"GET_SHARED_AUDIENCE_ACCOUNTS":return{...t,sharedAccounts:{...t.sharedAccounts,accounts:{},loading:!0,error:null}};case"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS":return{...t,sharedAccounts:{...t.sharedAccounts,accounts:{...t.sharedAccounts.accounts,...a.payload.data??{}},loading:!1}};case"GET_SHARED_AUDIENCE_ACCOUNTS_ERROR":return{...t,sharedAccounts:{...t.sharedAccounts,loading:!1,error:a.error}};default:return t}},updatePermissions:(e,a)=>{let t=e||j;switch(a.type){case"UPDATE_PERMISSION":return{...t,loading:!0};case"UPDATE_PERMISSION_ERROR":return{...t,error:a.error,loading:!1};case"UPDATE_PERMISSION_SUCCESS":return{...t,loading:!1,error:void 0};case"SET_SELECTED_ID":return{...t,selectedId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_PREVIOUS_PERMISSIONS":return{...t,previousPermissions:a.payload?.previousPermissions};default:return t}},employees:(e,a)=>{let t=e||O;switch(a.type){case"GET_EMPLOYEES":case"DELETE_EMPLOYEES":case"UPDATE_EMPLOYEES_ROLE":return{...t,loading:!0};case"GET_EMPLOYEES_ERROR":case"DELETE_EMPLOYEES_ERROR":case"UPDATE_EMPLOYEES_ROLE_ERROR":return{...t,error:a.error,loading:!1};case"GET_EMPLOYEES_SUCCESS":return{...t,loading:!1,employees:{...t.employees,...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})}};case"GET_EMPLOYEES_INVITES":case"ADD_EMPLOYEES_INVITES":case"DELETE_EMPLOYEES_INVITES":return{...t,invitesLoading:!0};case"GET_EMPLOYEES_INVITES_ERROR":case"ADD_EMPLOYEES_INVITES_ERROR":case"DELETE_EMPLOYEES_INVITES_ERROR":return{...t,error:a.error,invitesLoading:!1};case"GET_EMPLOYEES_INVITES_SUCCESS":let r="object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.invites??[];return{...t,invitesLoading:!1,invites:r.reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})};case"ADD_EMPLOYEES_INVITES_SUCCESS":let n=("object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.invites??[]).reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{});return{...t,invitesLoading:!1,invites:{...n,...t.invites}};case"DELETE_EMPLOYEES_INVITES_SUCCESS":let s="string"==typeof a.payload?.data?a.payload.data:void 0;if(!s||!t.invites[s])return t;{let e={...t.invites},a={};Object.keys(e).forEach(t=>{t!==s&&(a[t]=e[t])});let r=Object.keys(a),n=r.length>0?r[0]:void 0;return{...t,loading:!1,invites:a,selectedEmployeeInviteId:n}}case"UPDATE_EMPLOYEES_ROLE_SUCCESS":let o="string"==typeof a.payload?.data?.employeeId?a.payload.data.employeeId:void 0;if(o&&t.employees[o])return{...t,loading:!1,employees:{...t.employees,[o]:{...t.employees[o],business_roles:a.payload?.data?.role?[a.payload.data.role]:[]}}};return t;case"DELETE_EMPLOYEES_SUCCESS":let i="string"==typeof a.payload?.data?a.payload.data:void 0;if(!i||!t.employees[i])return t;{let e={...t.employees},a={};Object.keys(e).forEach(t=>{t!==i&&(a[t]=e[t])});let r=Object.keys(a).length>0?Object.keys(a)[0]:void 0;return{...t,loading:!1,employees:a,selectedEmployeeId:r}}case"SELECT_EMPLOYEES":return{...t,selectedEmployeeId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_BUSINESS":return{...t,currentBusiness:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SELECT_EMPLOYEES_INVITES":return{...t,selectedEmployeeInviteId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"REFRESH_EMPLOYEE_INVITE_DATE":if(!a.payload?.data||"string"!=typeof a.payload.data||!t.invites[a.payload.data])return t;return{...t,invites:{...t.invites,[a.payload.data]:{...t.invites[a.payload.data],invite_data:{...t.invites[a.payload.data].invite_data,sent_at:Date.now()}}}};case"CLEAR_ERROR":return{...t,error:void 0};case"GET_EMPLOYEE_ROLES_SUCCESS":return{...t,assetRoles:"object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?{}:a.payload.data.assetRoles??{},assetRolesLoading:!1};case"GET_EMPLOYEE_ROLES":return{...t,assetRolesLoading:!0};case"GET_EMPLOYEE_ROLES_ERROR":return{...t,assetRolesLoading:!1,assetRolesError:a.error??void 0};case"GET_EMPLOYEE_ADACCOUNTS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,error:a.error,loading:!1};let{employeeId:l}=a.payload.data;if(Array.isArray(a.payload.data.adAccounts))return{...t,loading:!1,adAccountsLoading:!1,employees:{...t.employees,[l]:{...t.employees[l],adAccounts:a.payload.data.adAccounts,...{}}}};return{...t,loading:!1,adAccountsLoading:!1};case"GET_EMPLOYEE_ADACCOUNTS":case"DELETE_EMPLOYEES_ADACCOUNT":case"ADD_EMPLOYEES_ADACCOUNT":return{...t,adAccountsLoading:!0};case"GET_EMPLOYEE_ADACCOUNTS_ERROR":case"DELETE_EMPLOYEES_ADACCOUNT_ERROR":case"ADD_EMPLOYEES_ADACCOUNT_ERROR":return{...t,adAccountsLoading:!1,adAccountError:a.error??void 0};case"SET_ADACCOUNTS_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,adAccountsTable:{...t.adAccountsTable,...a.payload.data.table,sortBy:a.payload.data.table.sortBy||t?.adAccountsTable.sortBy,sortDirection:a.payload.data.table.sortDirection||t?.adAccountsTable.sortDirection}};case"GET_EMPLOYEE_PROFILES_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,error:a.error,loading:!1};if(Array.isArray(a.payload.data.profiles))return{...t,loading:!1,profilesLoading:!1,employees:{...t.employees,[a.payload.data.employeeId]:{...t.employees[a.payload.data.employeeId],profiles:a.payload.data.profiles}}};return{...t,loading:!1,profilesLoading:!1};case"GET_EMPLOYEE_PROFILES":case"DELETE_EMPLOYEES_PROFILE":case"ADD_EMPLOYEES_PROFILE":return{...t,profilesLoading:!0};case"GET_EMPLOYEE_PROFILES_ERROR":case"DELETE_EMPLOYEES_PROFILE_ERROR":case"ADD_EMPLOYEES_PROFILE_ERROR":return{...t,profilesLoading:!1,profileError:a.error??void 0};case"ADD_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,adAccountsLoading:!1};let d=a.payload.data.employeeId,c=t.employees[d]?.assets_summary?t.employees[d]?.assets_summary:{ad_accounts:[],profiles:[]},u="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.addedAdAccounts)?a.payload.data.addedAdAccounts:[],_=u.map(e=>({id:e.asset.id,permissions:e.permissions}));return c.ad_accounts=(c.ad_accounts||[]).concat(_),{...t,loading:!1,adAccountsLoading:!1,employees:{...t.employees,[d]:{...t.employees[d],assets_summary:c,adAccounts:t.employees[d]?.adAccounts?.concat(u)}}};case"ADD_EMPLOYEES_CATALOG_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,catalogsLoading:!1};let p="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.addedCatalogs)?a.payload.data.addedCatalogs:[],E=a.payload.data.employeeId;return{...t,loading:!1,catalogsLoading:!1,employees:{...t?.employees,[E]:{...t?.employees[E],catalogs:t?.employees[E].catalogs?.concat(p)}}};case"DELETE_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,adAccountsLoading:!1};let S=a.payload.data.employeeId,y="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.data.adAccountId;if(y){let e=(t.employees[S]?.assets_summary?.ad_accounts||[]).filter(e=>e.id!==y),a=t.employees[S]?.assets_summary?t.employees[S]?.assets_summary:{ad_accounts:[],profiles:[]};return a.ad_accounts=e,{...t,loading:!1,adAccountsLoading:!1,employees:{...t.employees,[S]:{...t.employees[S],assets_summary:a,adAccounts:t.employees[S]?.adAccounts?.filter(e=>e.asset_id!==y)}}}}return{...t,loading:!1,adAccountsLoading:!1};case"UPDATE_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId]||!a.payload.data.adAccountId||"string"!=typeof a.payload.data.adAccountId)return{...t,loading:!1,adAccountsLoading:!1};let T=a.payload.data.employeeId,R=a.payload.data.adAccountId,m=t.employees[T]?.assets_summary?t.employees[T]?.assets_summary:{ad_accounts:[],profiles:[]},A="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.permissions)?a.payload.data.permissions:[];return m.ad_accounts=(m.ad_accounts||[]).map(e=>e.id===R?{...e,permissions:A}:e),{...t,loading:!1,profilesLoading:!1,employees:{...t.employees,[T]:{...t.employees[T],assets_summary:m,adAccounts:t.employees[T]?.adAccounts?.map(e=>e.asset.id===R?{...e,permissions:A}:e)}}};case"UPDATE_EMPLOYEES_CATALOG_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("userId"in a.payload.data)||"string"!=typeof a.payload.data.userId||!t?.employees[a.payload.data.userId]||!("catalogId"in a.payload.data)||"string"!=typeof a.payload.data.catalogId||!("permissions"in a.payload.data)||!Array.isArray(a.payload.data.permissions))return{...t,loading:!1,catalogsLoading:!1};let{catalogId:f,userId:g,permissions:I}=a.payload.data,C=t.employees[g].assets_summary?t.employees[g].assets_summary:{ad_accounts:[],profiles:[],catalogs:[]};return C.catalogs=(C.catalogs||[]).map(e=>e.id===f?{...e,permissions:I}:e),{...t,loading:!1,catalogsLoading:!1,employees:{...t.employees,[g]:{...t.employees[g],assets_summary:C,catalogs:t.employees[g].catalogs?.map(e=>e.asset.id===f?{...e,permissions:I}:e)}}};case"ADD_EMPLOYEES_PROFILE_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,adAccountsLoading:!1};let P=a.payload.data.employeeId,h=t.employees[P]?.assets_summary?t.employees[P]?.assets_summary:{ad_accounts:[],profiles:[]},N="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.addedProfiles)?a.payload.data.addedProfiles:[],D=N.map(e=>({id:e.asset.id,permissions:e.permissions}));return h.profiles=(h.profiles||[]).concat(D),{...t,loading:!1,profilesLoading:!1,employees:{...t.employees,[P]:{...t.employees[P],assets_summary:h,profiles:t.employees[P]?.profiles?.concat(N)}}};case"DELETE_EMPLOYEES_PROFILE_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,adAccountsLoading:!1};let v=a.payload.data.employeeId,L="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.data.profileId;if(L){let e=(t.employees[v]?.assets_summary?.profiles||[]).filter(e=>e.id!==L),a=t.employees[v]?.assets_summary?t.employees[v]?.assets_summary:{ad_accounts:[],profiles:[]};return a.profiles=e,{...t,loading:!1,profilesLoading:!1,employees:{...t.employees,[v]:{...t.employees[v],assets_summary:a,profiles:t.employees[v]?.profiles?.filter(e=>e.asset_id!==L)}}}}return{...t,loading:!1,adAccountsLoading:!1};case"SET_PROFILES_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,profilesTable:{...t.profilesTable,...a.payload.data.table,sortBy:a.payload.data.table.sortBy||t?.adAccountsTable.sortBy,sortDirection:a.payload.data.table.sortDirection||t?.adAccountsTable.sortDirection}};case"GET_EMPLOYEE_ASSET_GROUPS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,error:a.error,loading:!1};if(Array.isArray(a.payload.data.assetGroups))return{...t,assetGroupsLoading:!1,employees:{...t.employees,[a.payload.data.employeeId]:{...t.employees[a.payload.data.employeeId],assetGroups:a.payload.data.assetGroups}}};return{...t,loading:!1,assetGroupsLoading:!1};case"GET_EMPLOYEE_ASSET_GROUPS":return{...t,assetGroupsLoading:!0};case"GET_EMPLOYEE_ASSET_GROUPS_ERROR":return{...t,assetGroupsLoading:!1,assetGroupsError:a.error??void 0};case"SET_ASSET_GROUPS_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,assetGroupsTable:{...t.assetGroupsTable,...a.payload.data.table}};case"GET_EMPLOYEE_CATALOGS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId)return{...t,error:a.error,catalogsLoading:!1};if(Array.isArray(a.payload.data.catalogs))return{...t,catalogsLoading:!1,employees:{...t.employees,[a.payload.data.employeeId]:{...t.employees[a.payload.data.employeeId],catalogs:a.payload.data.catalogs}}};return{...t,loading:!1,catalogsLoading:!1};case"GET_EMPLOYEE_CATALOGS":case"ADD_EMPLOYEES_CATALOG":case"DELETE_EMPLOYEES_CATALOG":return{...t,catalogsLoading:!0};case"ADD_EMPLOYEES_CATALOG_ERROR":case"GET_EMPLOYEE_CATALOGS_ERROR":case"DELETE_EMPLOYEES_CATALOG_ERROR":return{...t,catalogsLoading:!1,catalogError:a.error??void 0};case"DELETE_EMPLOYEES_CATALOG_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,catalogsLoading:!1};let b=a.payload.data.employeeId,w="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.data.catalogId;if(w){let e=(t.employees[b]?.assets_summary?.catalogs||[]).filter(e=>e.id!==w),a=t.employees[b]?.assets_summary?t.employees[b]?.assets_summary:{ad_accounts:[],profiles:[],catalogs:[]};return a.catalogs=e,{...t,loading:!1,catalogsLoading:!1,employees:{...t.employees,[b]:{...t.employees[b],assets_summary:a,catalogs:t.employees[b]?.catalogs?.filter(e=>e.asset_id!==w)}}}}return{...t,loading:!1,catalogsLoading:!1};case"SET_CATALOGS_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,catalogsTable:{...t.catalogsTable,...a.payload.data.table}};default:return t}},catalogs:(e=C,a)=>{switch(a.type){case"GET_CATALOGS_ERROR":case"GET_CATALOG_ERROR":case"GET_CATALOG_INVITES_ERROR":case"GET_PARTNER_CATALOGS_ERROR":return{...e,error:a.error,loading:!1};case"GET_CATALOGS":case"GET_CATALOG":case"GET_PARTNER_CATALOGS":case"GET_CATALOG_INVITES":return{...e,loading:!0};case"GET_PARTNER_CATALOGS_SUCCESS":case"GET_CATALOGS_SUCCESS":if(!a.payload?.data||!Array.isArray(a.payload.data))return{...e,loading:!1};let t=a.payload.data;if(a.payload?.partnerType==="INTERNAL")return{...e,sharedData:t.reduce((e,a)=>({...e,[a.id]:a}),{}),loading:!1};return{...e,data:t.reduce((e,a)=>({...e,[a.id]:a}),{}),loading:!1};case"GET_CATALOG_INVITES_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("invites"in a.payload.data)||!Array.isArray(a.payload.data.invites))return{...e,loading:!1,invites:{}};let r=a.payload.data.invites;return{...e,loading:!1,invites:r.reduce((e,a)=>({...e,[a.catalog.id]:{inviteId:a.inviteId,catalog:a.catalog,invite_data:a.invite_data}}),{})};case"GET_CATALOG_EMPLOYEES_SUCCESS":if(!a.payload?.data?.catalogId||"string"!=typeof a.payload.data.catalogId)return{...e,error:a.error,loading:!1};let{catalogId:n}=a.payload.data;if(Array.isArray(a.payload.data.employees))return{...e,loading:!1,employeesLoading:!1,data:{...e.data,[n]:{...e.data[n],employees:a.payload.data.employees,...{}}}};return{...e,loading:!1,employeesLoading:!1};case"GET_CATALOG_EMPLOYEES":return{...e,employeesLoading:!0,employeesError:void 0};case"GET_CATALOG_EMPLOYEES_ERROR":return{...e,employeesLoading:!1,employeesError:a.error??void 0};case"SET_CATALOG_EMPLOYEES_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,employeesTable:{...e.employeesTable,...a.payload.data.table}};case"GET_CATALOG_PARTNERS_SUCCESS":if(!a.payload?.data?.catalogId||"string"!=typeof a.payload.data.catalogId||!e.data[a.payload.data.catalogId])return{...e,error:a.error,loading:!1};let{catalogId:s}=a.payload.data;if(Array.isArray(a.payload.data.partners))return{...e,loading:!1,partnersLoading:!1,data:{...e.data,[s]:{...e.data[s],partners:a.payload.data.partners,...{}}}};return{...e,loading:!1,partnersLoading:!1};case"GET_CATALOG_PARTNERS":return{...e,partnersLoading:!0,partnersError:void 0};case"GET_CATALOG_PARTNERS_ERROR":return{...e,partnersLoading:!1,partnersError:a.error??void 0};case"SET_CATALOG_PARTNERS_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,partnersTable:{...e.partnersTable,...a.payload.data.table}};case"SET_SELECTED_CATALOG_ID":return{...e,selectedCatalogId:"string"==typeof a.payload?.data?a.payload.data:""};case"SET_SELECTED_INVITE_ID":return{...e,selectedInviteId:"string"==typeof a.payload?.data?a.payload.data:""};case"GET_CATALOG_SUCCESS":return{...e,loading:!1,data:{...e.data,...a.payload?.data??{}},error:void 0};case"UPDATE_CATALOG_PERMISSION_FOR_EMPLOYEE_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("userId"in a.payload.data)||"string"!=typeof a.payload.data.userId||!("catalogId"in a.payload.data)||"string"!=typeof a.payload.data.catalogId||!e?.data[a.payload.data.catalogId]||!("permissions"in a.payload.data)||!Array.isArray(a.payload.data.permissions))return{...e,loading:!1};let{catalogId:o,userId:i,permissions:l}=a.payload.data;if(!e.data[o]?.employees?.find(e=>e.id===i))return{...e,loading:!1};let d=e.data[o]?.employees?.map(e=>e.id===i?{...e,permissions:l}:e);return{...e,loading:!1,error:void 0,data:{...e.data,[o]:{...e.data[o],employees:d}}};case"UPDATE_CATALOG_PERMISSION_FOR_PARTNER_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("userId"in a.payload.data)||"string"!=typeof a.payload.data.userId||!("catalogId"in a.payload.data)||"string"!=typeof a.payload.data.catalogId||!e.data[a.payload.data.catalogId]||!("permissions"in a.payload.data)||!Array.isArray(a.payload.data.permissions))return{...e,loading:!1};let{catalogId:c,userId:u,permissions:_}=a.payload.data;if(!e.data[c]?.partners?.find(e=>e.id===u))return{...e,loading:!1};let p=e.data[c]?.partners?.map(e=>e.id===u?{...e,permissions:_}:e);return{...e,loading:!1,error:void 0,data:{...e.data,[c]:{...e.data[c],partners:p}}};case"UPDATE_CATALOG_PERMISSIONS_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("catalogId"in a.payload.data)||"string"!=typeof a.payload.data.catalogId||!e.data[a.payload.data.catalogId]||!("permissions"in a.payload.data)||!Array.isArray(a.payload.data.permissions))return{...e,loading:!1};let{catalogId:E,permissions:S}=a.payload.data;return{...e,loading:!1,error:void 0,data:{...e.data,[E]:{...e.data[E],permissions:S}}};case"GET_CATALOG_OWNERS_AS_PARTNERS":return{...e,catalogOwnersLoading:!0,catalogOwnersError:void 0};case"GET_CATALOG_OWNERS_AS_PARTNERS_ERROR":return{...e,catalogOwnersLoading:!1,catalogOwnersError:a.error??void 0};case"GET_CATALOG_OWNERS_AS_PARTNERS_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data)return{...e,catalogOwnersLoading:!1};let y=a.payload.data;return{...e,catalogOwnersLoading:!1,catalogOwnersError:void 0,catalogOwners:{...e.catalogOwners,...y}};default:return e}},systemUsers:(e,a)=>{switch(e=e||V,a.type){case"GET_SYSTEM_USERS":case"GET_APP_SYSTEM_USERS":case"GET_PROFILE_DETAIL_SYSTEM_USERS":case"GET_AD_ACCOUNT_SYSTEM_USERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER":return{...e,loading:!0};case"GET_SYSTEM_USERS_AD_ACCOUNTS":return{...e,adAccountLoading:!0};case"GET_SYSTEM_USERS_PROFILES":case"ADD_SYSTEM_USERS_PROFILE":case"DELETE_SYSTEM_USERS_PROFILE":return{...e,profilesLoading:!0};case"GET_SYSTEM_USERS_APPS":return{...e,appsLoading:!0};case"GET_SYSTEM_USERS_CATALOGS":return{...e,catalogsLoading:!0};case"GET_SYSTEM_USER_ASSET_GROUPS":return{...e,assetGroupsLoading:!0};case"GET_SYSTEM_USERS_ERROR":case"GET_APP_SYSTEM_USERS_ERROR":case"GET_PROFILE_DETAIL_SYSTEM_USERS_ERROR":case"GET_AD_ACCOUNT_SYSTEM_USERS_ERROR":case"GET_SYSTEM_USERS_AD_ACCOUNTS_ERROR":case"GET_SYSTEM_USERS_PROFILES_ERROR":case"GET_SYSTEM_USERS_APPS_ERROR":case"GET_SYSTEM_USERS_CATALOGS_ERROR":case"GET_SYSTEM_USER_ASSET_GROUPS_ERROR":case"ADD_SYSTEM_USERS_PROFILE_ERROR":case"DELETE_SYSTEM_USERS_PROFILE_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER_ERROR":return{...e,error:a.error,loading:!1,adAccountLoading:!1,profilesLoading:!1,appsLoading:!1,catalogsLoading:!1};case"GET_APP_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,data:a.payload?.data||[]};case"GET_PROFILE_DETAIL_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,...a.payload?.data?Object.entries(a.payload.data).reduce((e,[a,t])=>({...e,[a]:t}),{}):{}}};case"ADD_SYSTEM_USERS_PROFILE_SUCCESS":if(!a.payload?.selectedSystemId||"string"!=typeof a.payload.selectedSystemId||!e.systemUsers[a.payload.selectedSystemId])return{...e,loading:!1,profilesLoading:!1};let t=a.payload.selectedSystemId,r=(e.systemUsers[t]??{}).assets_summary||{ad_accounts:[],profiles:[]},n=("object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.assets)?a.payload.assets:[]).map(e=>({id:e.asset.id,permissions:e.permissions}));return r.profiles=(r.profiles||[]).concat(n),{...e,loading:!1,profilesLoading:!1,systemUsers:{...e.systemUsers,[t]:{...e.systemUsers[t],assets_summary:r}}};case"DELETE_SYSTEM_USERS_PROFILE_SUCCESS":if(!a.payload?.selectedSystemId||"string"!=typeof a.payload.selectedSystemId||!e.systemUsers[a.payload.selectedSystemId])return{...e,loading:!1,profilesLoading:!1};let s=a.payload.selectedSystemId,o="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.assetId;if(o){let a=(e.systemUsers[s]?.assets_summary?.profiles||[]).filter(e=>e.id!==o),t=e.systemUsers[s]?.assets_summary?e.systemUsers[s].assets_summary:{ad_accounts:[],profiles:[]};return t.profiles=a,{...e,loading:!1,profilesLoading:!1,systemUsers:{...e.systemUsers,[s]:{...e.systemUsers[s],assets_summary:t}}}}return{...e,loading:!1,profilesLoading:!1};case"GET_SYSTEM_USERS_SUCCESS":if(!a.payload?.systemUsers)return{...e,loading:!1};let i=a.payload?.selectedSystemId?{selectedSystemId:a.payload.selectedSystemId}:{};return{...e,...i,loading:!1,systemUsers:{...e?.systemUsers?e.systemUsers:{},...(Array.isArray(a.payload?.systemUsers)?a.payload.systemUsers:[]).reduce((e,a)=>("id"in a&&a.id&&(e[a.id]=a),e),{})}};case"GET_SYSTEM_USERS_AD_ACCOUNTS_SUCCESS":if(!a.payload?.getAdAccount)return{...e,loading:!1};return{...e,adAccountLoading:!1,adAccounts:a.payload.getAdAccount.adAccounts,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.getAdAccount.systemUserId]:{...e.systemUsers[a.payload.getAdAccount.systemUserId],assets_summary:{...e.systemUsers[a.payload.getAdAccount.systemUserId]?.assets_summary,ad_accounts:a.payload.getAdAccount.adAccountSummary}}}};case"GET_SYSTEM_USERS_PROFILES_SUCCESS":if(!a.payload?.getProfiles)return{...e,loading:!1};return{...e,profilesLoading:!1,profiles:a.payload.getProfiles.profiles,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.getProfiles.systemUserId]:{...e.systemUsers[a.payload.getProfiles.systemUserId],assets_summary:{...e.systemUsers[a.payload.getProfiles.systemUserId]?.assets_summary,profiles:a.payload.getProfiles.profilesSummary}}}};case"GET_SYSTEM_USERS_CATALOGS_SUCCESS":if(!a.payload?.assets)return{...e,loading:!1};return{...e,catalogsLoading:!1,catalogs:a.payload.assets};case"GET_SYSTEM_USERS_APPS_SUCCESS":if(!a.payload?.assets)return{...e,loading:!1};return{...e,appsLoading:!1,systemApps:a.payload.assets};case"GET_SYSTEM_USER_ASSET_GROUPS_SUCCESS":if(!a.payload?.assets)return{...e,loading:!1};return{...e,assetGroupsLoading:!1,assetGroups:a.payload.assets};case"GET_AD_ACCOUNT_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,...Object.entries(a.payload?.systemUsersDict||{}).filter(([e,a])=>void 0!==a).reduce((e,[a,t])=>({...e,[a]:t}),{})}};case"SET_SYSTEM_USERS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,table:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"UPDATE_SYSTEM_USER_ADACCOUNT_SUCCESS":if(!a.payload?.adAccountUpdate?.adAccountId)return e;let{adAccountId:l,permissions:d}=a.payload.adAccountUpdate;return{...e,adAccounts:e.adAccounts.map(e=>e.asset_id===l?{...e,permissions:d}:e)??[]};case"UPDATE_SYSTEM_USER_CATALOG_SUCCESS":if(!a.payload?.catalogUpdate?.catalogId)return e;let{catalogId:c,permissions:u}=a.payload.catalogUpdate;return{...e,catalogs:e.catalogs.map(e=>e.asset_id===c?{...e,permissions:u}:e)??[]};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER_SUCCESS":if(!a.payload?.userId||"string"!=typeof a.payload.userId||!e.systemUsers[a.payload.userId]||!a.payload.adAccountId||!a.payload.userId||!a.payload.permissions)return{...e,error:a.error,loading:!1};return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,[a.payload.userId]:{...e.systemUsers[a.payload.userId],permissions:a.payload.permissions}}};case"SET_AD_ACCOUNTS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,adAccountTable:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"SET_SELECTED_SYSTEM_ID":if(!a.payload?.selectedSystemId)return e;return{...e,selectedSystemId:a.payload.selectedSystemId};case"SET_PROFILES_TABLE_STATE":if(!a.payload?.table)return e;return{...e,profilesTable:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"SET_APPS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,appsTable:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"REMOVE_SYSTEM_USER_APP":return{...e,systemApps:e.systemApps.filter(e=>e.asset_id!==a.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_CATALOG":if(!a.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary,catalogs:e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.catalogs?.filter(e=>e.id!==a.payload?.removeSystemUserAsset?.assetId)??[]}}},catalogs:e.catalogs.filter(e=>e.asset_id!==a.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_PROFILE":if(!a.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary,profiles:e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.profiles?.filter(e=>e.id!==a.payload?.removeSystemUserAsset?.assetId)??[]}}},profiles:e.profiles.filter(e=>e.asset_id!==a.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_AD_ACCOUNT":if(!a.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary,ad_accounts:e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.ad_accounts?.filter(e=>e.id!==a.payload?.removeSystemUserAsset?.assetId)??[]}}},adAccounts:e.adAccounts.filter(e=>e.asset_id!==a.payload?.removeSystemUserAsset?.assetId)};case"SET_CATALOGS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,catalogsTable:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"SET_ASSET_GROUPS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,assetGroupsTable:{...a.payload.table,sortBy:a.payload.table.sortBy||e?.assetGroupsTable.sortBy,sortDirection:a.payload.table.sortDirection||e?.assetGroupsTable.sortDirection}};default:return e}},apps:(e,a)=>{switch(e=e||m,a.type){case"GET_APPS":return{...e,loading:!0};case"GET_APPS_ERROR":return{...e,error:a.error,loading:!1};case"GET_APPS_SUCCESS":return{...e,loading:!1,data:a.payload?.data||[]};case"SELECT_APP":return{...e,selectedAppId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"REFRESH_ACCESS_TOKEN":return{...e,refreshToken:{...e.refreshToken,loading:!0}};case"REFRESH_ACCESS_TOKEN_ERROR":return{...e,refreshToken:{...e.refreshToken,error:a.error,loading:!1}};case"REFRESH_ACCESS_TOKEN_SUCCESS":return{...e,refreshToken:{...e.refreshToken,loading:!1,data:a.payload?.data}};case"CLEAR_REFRESH_TOKEN":return{...e,refreshToken:{data:void 0,loading:!1,error:void 0}};case"UPDATE_APP_DATA":return{...e,data:e.data.map(e=>e.id===a.payload?.data.id?{...e,...a.payload?.data}:e)};default:return e}},conversionSegments:(e=P,a)=>{switch(a.type){case"GET_CONVERSION_SEGMENTS":case"GET_PARTNER_CONVERSION_SEGMENTS":return{...e,loading:!0};case"REVOKE_PARTNER_ACCESS":case"UPDATE_PARTNER_ACCESS":case"REMOVE_CONVERSION_SEGMENT":case"GET_CONVERSION_SEGMENT_PARTNER":return{...e,mainPanelLoading:!0};case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS":return{...e,adAccountLoading:!0,adAccounts:[]};case"GET_CONVERSION_SEGMENTS_ERROR":case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS_ERROR":case"GET_CONVERSION_TYPES_ERROR":case"GET_CONVERSION_SEGMENT_PARTNER_ERROR":case"UPDATE_PARTNER_ACCESS_ERROR":case"REVOKE_PARTNER_ACCESS_ERROR":case"REMOVE_CONVERSION_SEGMENT_ERROR":case"GET_PARTNER_CONVERSION_SEGMENTS_ERROR":return{...e,error:a.error??void 0,loading:!1,adAccountLoading:!1,conversionTypeLoading:!1,mainPanelLoading:!1};case"GET_PARTNER_CONVERSION_SEGMENTS_SUCCESS":return{...e,loading:!1,sharedData:a.payload?.data||[]};case"GET_CONVERSION_SEGMENTS_SUCCESS":return{...e,loading:!1,data:a.payload?.data||[]};case"SET_SELECTED_CONVERSION_ID":if(!a.payload?.selectedConversionId)return{...e,loading:!1};return{...e,selectedConversionId:a.payload.selectedConversionId,adAccountLoading:!0,adAccounts:[]};case"SET_CONVERSION_SEGMENTS_TABLE_STATE":if(!a.payload?.data)return{...e,loading:!1};return{...e,table:{...e.table,...a.payload.data.table,sortBy:a.payload.data.table.sortBy||e?.table.sortBy,sortDirection:a.payload.data.table.sortDirection||e?.table.sortDirection}};case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS_SUCCESS":if(!a.payload?.adAccounts)return{...e,loading:!1,adAccountLoading:!1,adAccounts:[]};return{...e,loading:!1,adAccountLoading:!1,adAccounts:a.payload.adAccounts};case"GET_CONVERSION_TYPES_SUCCESS":if(!a.payload?.conversionTypes)return{...e,loading:!1};return{...e,loading:!1,conversionTypeLoading:!1,conversionTypes:a.payload.conversionTypes};case"GET_CONVERSION_SEGMENT_PARTNER_SUCCESS":if(!a.payload?.partner)return{...e,mainPanelLoading:!1};return{...e,mainPanelLoading:!1,data:e.data.map(e=>e.id===a.payload.conversionId?{...e,partner:a.payload.partner,retargetingEnabled:a.payload.partner?.permissions.includes("BIZ_CONVERSION_SEGMENT_SHARER")||!1}:e)};case"UPDATE_PARTNER_ACCESS_SUCCESS":return!a.payload?.conversionId||!a.payload?.partnerId,{...e,mainPanelLoading:!1};case"REVOKE_PARTNER_ACCESS_SUCCESS":if(!a.payload?.conversionId)return{...e,mainPanelLoading:!1};return{...e,mainPanelLoading:!1,data:e.data.map(e=>e.id===a.payload.conversionId?{...e,partner:void 0,retargetingEnabled:!1}:e)};case"REMOVE_CONVERSION_SEGMENT_SUCCESS":return{...e,mainPanelLoading:!1,data:e.data.filter(e=>e.id!==a.payload?.conversionId),sharedData:e.sharedData?.filter(e=>e.id!==a.payload?.conversionId)};default:return e}}});var K=t(63064);let Q=(0,K.Z)("articles",(e={})=>e),X=(e={businessInformationForm:{},billingInformationForm:{},autoFillQPBillingChecked:!0},a)=>"STERLING_UPDATE_BUSINESS_INFORMATION_FORM"===a.type||"STERLING_UPDATE_BILLING_INFORMATION_FORM"===a.type?{...e,[a.formName]:{...e?.[a.formName]??{},...a.values}}:e;var J=t(35831),ee=t(26032);let ea=["BoardsResource","BoardFollowingResource","SearchResource","BoardArchiveResource"],et=(e,a)=>({...e,[a.id]:e[a.id]?{type:"board",...e[a.id],...a}:{type:"board",...a}});function er(e,a){switch(a.type){case J.zP:case J.aW:{let{resource:t}=a.payload,{data:r}=a.payload.response.resource_response;if("BoardResource"===t||"BoardPageResource"===t){let t=(e=>{let{options:a={}}=e.payload,{data:t}=e.payload.response.resource_response;return e.type===J.zP&&a.slug&&!t?.url?.includes(a.slug)?{oldSlugUrl:`/${a.username}/${(0,ee.X)(a.slug)}/`}:{}})(a);return{...e,...t,...r||{},cover_images:{...e.cover_images,...(r||{}).cover_images},images:{...e.images,...(r||{}).images}}}if("BoardSectionResource"===t)return{...e,...r?.board||{},cover_images:{...e.cover_images,...r?.board?.cover_images||{}},images:{...e.images,...r?.board?.images||{}}};if(a.type===J.zP&&"ApiResource"===t){let{response:t}=a.payload,r=t.resource_response.data;return r?.length?{...e,related_interest_ids:r.map(e=>e.id)}:e}return e}case"BOARD_CREATE_COMPLETE":{let{board:t}=a.payload;return{...e,...t}}case"BOARD_UPDATE_COMPLETE":{let{board:t}=a.payload;return{...e,...t,sensitivity:t.sensitivity}}case"BOARD_PIN_COUNT_CHANGED":{let{pin_count:t,sectionless_pin_count:r}=e||{},{sectionId:n}=a.payload,s="BOARD_PIN_COUNT_CHANGED"===a.type?a.payload.increment:1;return{...e,pin_count:"number"==typeof t?Math.max(0,t+s):t,sectionless_pin_count:n||"number"!=typeof r?r:Math.max(0,r+s)}}case"USER_FOLLOW":{let{id:t,value:r}=a.payload;if(!e.owner||t!==e.owner.id)return e;return{...e,followed_by_me:r}}case"BOARD_FOLLOW":{let{boardId:t,value:r}=a.payload;return{...e,id:t,followed_by_me:r}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST":{let{collaboratorId:t}=a.payload;return{...e,pending_ownership_transfer:t}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":return{...e,pending_ownership_transfer:null};case"BOARD_DISMISS_SENSITIVITY_SCREEN":return{...e,sensitivity_screen:{reason:null,show_warning:!1}};case"BOARD_INVITE_ACCEPTED_BY_VIEWER":{let{collaborator_count:t,collaborating_users:r}=e||{},{boardId:n,collaboratingUser:s}=a.payload;return{...e,id:n,access:["write"],collaborated_by_me:!0,is_collaborative:!0,collaborator_count:"number"==typeof t?t+1:0,...s?{collaborating_users:(r||[]).concat(s)}:Object.freeze({})}}case"BOARD_REQUEST_TO_JOIN":{let{boardId:t,value:r}=a.payload;return{...e,id:t,viewer_collaborator_join_requested:r}}case"BOARD_ARCHIVE":return{...e,archived_by_me_at:new Date().toString()};case"BOARD_UNARCHIVE":{let{boardId:t}=a.payload;return{...e,id:t,archived_by_me_at:void 0}}case"BOARD_COVER_IMAGE_UPDATED":{let{boardId:t,coverPin:r}=a.payload;return{...e,id:t,cover_pin:r}}case"BOARD_DISABLE_MORE_IDEAS_BADGING":return{...e,has_fresh_more_ideas_tab:!1};case"SECTION_ADDED":{let{section_count:a}=e||{};return{...e,section_count:(a||0)+1}}case"SECTION_DELETED":{let{section_count:a}=e||{};return{...e,section_count:(a||1)-1}}case"PIN_ADD":{let{pin_count:a}=e||{};return{...e,pin_count:(a??0)+1}}case"PIN_DELETE":{let{pin_count:a}=e||{};return{...e,pin_count:(a??0)-1}}case"BOARD_SECTION_DELETE":{let{pinCount:t}=a.payload,r=e.section_count||0;return{...e,section_count:Math.max(r-1,0),pin_count:(e.pin_count??0)-t}}case"CREATE_COMPLETE":{let{section_count:a}=e||{};return{...e,section_count:(a||0)+1}}default:return e}}let en=(e,a,t,r)=>a===t?e:{...e,...a&&e[a]?{[a]:{...e[a],pin_count:Math.max(0,(e[a].pin_count??0)-r)}}:{},...t&&e[t]?{[t]:{...e[t],pin_count:(e[t].pin_count||0)+r}}:{}},es=(0,K.Z)("boards",(e,a)=>{switch(e=e||{},a.type){case J.zP:case J.aW:{let{options:t,resource:r}=a.payload,{data:n}=a.payload.response.resource_response;if(ea.includes(r)&&n){let a=n||[],t={...e};return a.forEach(e=>{e.type&&"board"!==e.type||(t[e.id]={...t[e.id],...e})}),t}if("BoardResource"===r||"BoardPageResource"===r){let r=t?.board_id||(n||{}).id;if(r)return{...e,[r]:er(e[r]||n||{},a)}}else if("BoardSectionResource"===r){let t=n?.board?.id;if(t)return{...e,[t]:er(e[t]||n.board,a)}}else if("ApiResource"===r&&a.payload.options?.url?.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//)){let{options:t}=a.payload,r=t?.url?.split("/")?.[3];if(r&&e[r])return{...e,[r]:er(e[r],a)}}return e}case"BOARD_CREATE_COMPLETE":{let{board:t}=a.payload;if(t&&t.id)return{...e,[t.id]:er(e[t.id]||{type:"board",...t},a)};return e}case"BOARD_UPDATE_COMPLETE":{let{board:t}=a.payload;if(t&&t.id&&e[t.id])return{...e,[t.id]:er(e[t.id],a)};return e}case"BOARD_ARCHIVE":case"BOARD_COVER_IMAGE_UPDATED":case"BOARD_DISABLE_MORE_IDEAS_BADGING":case"BOARD_DISMISS_SENSITIVITY_SCREEN":case"BOARD_FOLLOW":case"BOARD_SECTION_DELETE":case"BOARD_INVITE_ACCEPTED_BY_VIEWER":case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":case"BOARD_OWNERSHIP_TRANSFER_REQUEST":case"BOARD_PIN_COUNT_CHANGED":case"BOARD_REQUEST_TO_JOIN":case"BOARD_UNARCHIVE":case"PIN_ADD":case"PIN_DELETE":case"SECTION_ADDED":case"SECTION_DELETED":let{boardId:t}=a.payload;if(t&&e[t])return{...e,[t]:er(e[t],a)};return e;case"USER_FOLLOW":{let{id:t}=a.payload,r=Object.keys(e).filter(a=>e[a]?.owner&&e[a].owner.id===t).reduce((t,r)=>(e[r]&&(t[r]=er(e[r],a)),t),{});return{...e,...r}}case"BOARD_DELETE":var r=e;let{boardId:n}=a.payload;if(!n)return r;let{[n]:s,...o}=r;return o;case"USER_BLOCK":return((e,{payload:{id:a,value:t}})=>{if(!t)return e;let r=Object.keys(e).filter(t=>e[t].owner&&e[t].owner.id===a);if(!r.length)return e;let n=r.reduce((a,t)=>{let r=e[t];return a[t]={...r,followed_by_me:!1},a},{});return{...e,...n}})(e,a);case"PIN_EDIT":var i=e;let{boardId:l,source:{boardId:d}}=a.payload;return en(i,d,l,1);case"PINS_MOVE":var c=e;let{pinIds:u,source:{boardId:_},target:{boardId:p}}=a.payload;return _===p?c:en(c,_,p,u.length);case"PINS_MOVE_ALL":default:return e;case"CREATE_COMPLETE":{let{resource:t,normalizedResponse:r,response:n}=a.payload;if("BoardSectionResource"===t&&r){let{result:t,entities:{boardsections:n}}=r,s=n?.[t].board;if(s&&e[s])return{...e,[s]:er(e[s],a)}}else if("BoardResource"===t&&n){let{id:a}=n.resource_response.data;return{...e,[a]:n.resource_response.data}}return e}case"BOARD_INVITE_APPROVED_BY_VIEWER":return((e,{payload:{boardId:a,collaboratingUser:t}})=>{let r=e[a];return et(e,{id:a,collaborating_users:t?(r.collaborating_users||[]).concat(t):r.collaborating_users||[]})})(e,a);case"BOARD_COLLABORATOR_DELETE":return((e,{payload:{userId:a,boardId:t,viewingUser:r}})=>{let n=e[t],s=n.collaborating_users?n.collaborating_users.findIndex(e=>e.id===a):-1;return et(e,{id:t,...n.collaborator_count?{collaborator_count:n.collaborator_count-1}:Object.freeze({}),...n.collaborated_by_me?{collaborated_by_me:r!==a&&n.collaborated_by_me}:Object.freeze({}),...n.access&&{access:r===a?[]:n.access},...s>-1?{collaborating_users:(n.collaborating_users??[]).filter((e,a)=>a!==s)}:Object.freeze({})})})(e,a);case"BOARD_COLLABORATOR_ADD":return((e,{payload:{boardId:a,viewingUser:t,status:r,collaboratingUsers:n}})=>{let s=e[a],o=n.map(e=>e?.id).filter(Boolean),i=n.filter(e=>!!e);return"accepted"===r?et(e,{id:a,...s.collaborator_count||0===s.collaborator_count?{collaborator_count:s.collaborator_count+o.length}:{},...s.collaborated_by_me||!1===s.collaborated_by_me?{collaborated_by_me:s.collaborated_by_me||o.includes(t)}:{},...s.access&&{access:o.includes(t)?["write","delete"]:s.access},...s.collaborating_users&&{collaborating_users:[...s.collaborating_users??[],...i??[]]}}):e})(e,a)}}),eo=(e,a)=>({...e,[a.id]:{...a&&e[a.id]||{},...a}}),ei=(e,a,t,r)=>a===t?e:{...e,...a&&e[a]?{[a]:{...e[a],pin_count:Math.max(0,(e[a].pin_count??0)-r)}}:{},...t&&e[t]?{[t]:{...e[t],pin_count:(e[t].pin_count||0)+r}}:{}},el=e=>e?.type==="board_section"?{...e,type:"boardsection"}:e,ed=(0,K.Z)("boardsections",(e,a)=>{switch(e=e||{},a.type){case J.zP:case J.aW:let{resource:t,normalizedResponse:r}=a.payload;if(!r){let{data:r}=a.payload.response.resource_response;if("BoardSectionsResource"===t){let a=(r||[]).reduce((a,t)=>(a[t.id]={...e[t.id],...el(t)},a),{});return{...e,...a}}if("BoardSectionResource"===t&&r)return{...e,[r.id]:{...e[r.id],...el(r)}}}return e;case"SECTION_ADDED":let{payload:{section:n}}=a;if(n.id)return{...e,[n.id]:n};return e;case"SECTION_DELETED":let{payload:{sectionId:s}}=a,o={...e};return delete o[s],o;case"SECTION_UPDATED":var i=e;let{payload:{section:l}}=a;return l.id?{...i,[l.id]:{...i[l.id],...l}}:i;case"BOARD_PIN_COUNT_CHANGED":var d=e;let{payload:{sectionId:c,increment:u}}=a;if(!c)return d;let _=d[c];return _?{...d,[c]:{..._,pin_count:_.pin_count?Math.max(0,_.pin_count+u):u}}:d;case"BOARD_SECTION_EDIT":return((e,{payload:a})=>eo(e,a))(e,a);case"PIN_ADD":var p=e;let{boardSectionId:E}=a.payload;return E&&p[E]?eo(p,{id:E,pin_count:(p[E].pin_count??0)+1}):p;case"PIN_DELETE":var S=e;let{boardSectionId:y}=a.payload;return y&&S[y]?eo(S,{id:y,pin_count:(S[y].pin_count??0)-1}):S;case"PIN_EDIT":var T=e;let{sectionId:R,source:m}=a.payload;return ei(T,m&&m.sectionId||null,R,1);case"PINS_MOVE":var A=e;let{pinIds:f,source:{sectionId:g},target:{sectionId:I}}=a.payload;return ei(A,g,I,f.length);default:return e}}),ec={currentStep:{index:0,canProceed:!1},businessGoals:[],businessName:"",businessVertical:"",numberEmployees:"",hasWebsite:"",website:"",country:"",locale:"",advertisingIntent:null,accountType:"",agencyRole:"",agencyClients:"",agencyContent:"",agencyService:"",agencyServiceOther:"",firstName:"",lastName:"",fullName:"",email:"",countryCode:"",phoneNumber:"",worksWithAgency:null,leadId:"",whatsAppConsent:!1,calendlyUpsellEligible:!1,shouldShowCalendlyModal:!1,businessSettingsUtmsEnabled:!0};function eu(e,a){switch(e=e||ec,a.type){case"UPDATE_BIZ_NUX_FIELD":return{...e,[a.field]:a.value,currentStep:{...e.currentStep}};case"SET_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:a.indexValue}};case"INCREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index+1}};case"DECREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index-1}};case"UPDATE_BIZ_NUX_CAN_PROCEED":return{...e,currentStep:{...e.currentStep,canProceed:a.value}};default:return e}}let e_={experience:void 0,newPin:void 0,originalPinId:void 0,shouldOpenModal:!1},ep=(e,a)=>{if(e=e||e_,"OPEN_CHANGE_MODAL"===a.type){let{experience:t,newPin:r,originalPinId:n,showChangeBoardModal:s}=a.payload;if(r)return{...e,experience:t,newPin:r,originalPinId:n,shouldOpenModal:s}}else if("CLOSE_CHANGE_MODAL"===a.type){let{showChangeBoardModal:t}=a.payload;return{...e,shouldOpenModal:t}}else if("CLEAR_BOARD_EDU_EXPERIENCE"===a.type){let{experience:t}=a.payload;if(e.experience?.id===t.id)return{...e,experience:void 0}}return e},eE=(0,K.Z)("contactrequests",(e,a)=>{switch(e=e||{},a.type){case J.zP:let{payload:{normalizedResponse:t,resource:r}}=a;if("ContactRequestsResource"===r&&t)return{...t.entities.contactrequests};return e;case"UPDATE_CONTACT_REQUEST_STATUS":let{contactRequestId:n,hasDeclined:s,hasBlocked:o}=a.payload;if(n)return{...e,[n]:{...e[n],hasDeclined:s,hasBlocked:o}};return e;case"REMOVE_CONTACT_REQUESTS":let{contactRequestIds:i}=a.payload;return Object.keys(e).reduce((a,t)=>(i.includes(t)||(a[t]=e[t]),a),{});default:return e}}),eS={};function ey(e,a){if(e=e||eS,"SEARCH_QUERY_STARTED"===a.type){let{query:t}=a.payload;if(!e[t]||"valid"===e[t].status){let a=e[t]&&e[t].pinIds||[];return{...e,[t]:{...e[t],status:"valid",pinIds:a}}}}else if("SEARCH_PIN_CLOSEUP_VIEWED"===a.type){let{pinId:t,query:r}=a.payload;if(e[r]&&"valid"===e[r].status){let a=e[r].pinIds||[];return{...e,[r]:{...e[r],pinIds:a.concat(t)}}}}else if("SEARCH_QUERY_INVALIDATED"===a.type)return{...e,[a.payload.query]:{status:"invalid"}};return e}var eT=t(385581);let eR=e=>e||[],em={BaseSearchResource:e=>e?e.results:[],BoardFeedResource:eR,BoardSectionPinsResource:eR,BoardContentRecommendationResource:eR,TodayArticleFeedResource:e=>Array.isArray(e)?e.filter(e=>"story"===e.type).map(({user:e,...a})=>e?{...a,user:e.id}:a):e||[],TodayTabResource:eR},eA=(e,a)=>{if(e=e||{},a.type===J.zP||a.type===J.aW){let{resource:t}=a.payload,{data:r}=a.payload.response.resource_response;if(t in em){let a=em[t](r)||[],n={...e};return a.forEach(e=>{"story"===e.type&&(n[e.id]=e)}),n}}if(a.type===eT.v){let t=a.payload,r={...e};return t.forEach(e=>{"story"===e.type&&(r[e.id??""]=e)}),r}return e};var ef=t(503246),eg=t(991384);let eI=(e,a)=>{let t=(0,eg.Z)(e,a);return(0,ef.ZP)(e,t)?e:t},eC={},eP=function(e,a){if(e=e||eC,a.type===J.zP||a.type===J.aW){let{resource:t}=a.payload,{data:r}=a.payload.response.resource_response;if("AggregatedActivityFeedResource"===t||"DidItUserFeedResource"===t){let a=(r||[]).reduce((a,t)=>(a[t.id]=eI(e[t.id],t),a),{});return{...e,...a}}if("DidItActivityResource"===t&&r)return{...e,[r.id]:eI(e[r.id],r)};if("NewsHubDetailsResource"===t&&r&&r.length>0&&r[0].content_items){let a={};return r.forEach(e=>{e.content_items.forEach(e=>{"userdiditdata"===(e.content_object&&e.content_object.type)&&(a[e.content_object.id]=e.content_object)})}),{...e,...a}}if("UnifiedCommentsResource"===t&&r&&r.length>0){let a=r.filter(e=>"userdiditdata"===e.type).reduce((a,t)=>(a[t.id]=eI(e[t.id],t),a),{});return{...e,...a}}else if("UnifiedCommentsPreviewResource"===t&&r&&r.length>0){let a=r[0].user_did_it_data,t=a?{[a.id]:eI(e[a.id],a)}:{};return{...e,...t}}}else if("USER_DID_IT_DATA_CREATE"===a.type){let{payload:{user_did_it_data:t}}=a;return{...e,[t.id]:t}}else if("USER_DID_IT_DATA_UPDATE"===a.type){let{payload:{user_did_it_data:t}}=a;return{...e,[t.id]:eI(e[t.id],t)}}else if("USER_DID_IT_DATA_DELETE"===a.type){let{payload:{id:t}}=a,r={...e};return delete r[t],r}else if("USER_DID_IT_DATA_UPDATE_COMMENT_COUNT"===a.type){let{payload:{id:t,increment:r}}=a,n=e[t].comment_count??0;return{...e,[t]:eI(e[t],{comment_count:n+r})}}else if("USER_DID_IT_DATA_LIKE_TOGGLED"===a.type){let{payload:{id:t,liked_by_me:r}}=a;if(e[t].like_count||0===e[t].like_count){let a=e[t].like_count;return{...e,[t]:eI(e[t],{liked_by_me:r,like_count:r?a+1:a-1})}}}else if("USER_DID_IT_DATA_HELPFUL_TOGGLED"===a.type){let{payload:{id:t,marked_helpful_by_me:r}}=a,n=e[t],s=n.helpful_count||0,o={...n,marked_helpful_by_me:r,helpful_count:r?s+1:s-1};return{...e,[t]:o}}return e},eh=(e={})=>e;var eO=t(474147);let eN=(e,a)=>{if(e=e||{},"SET_FLASHLIGHT_CROP_SOURCE"===a.type){let{payload:{cropSource:t}}=a;return{...e,cropSource:t}}return e},eD=(e,a)=>{if(e=e||{activeTabBoardId:"",activeTabIndex:0},"SET_ACTIVE_HOMEFEED_TAB"===a.type){let{payload:{boardId:t,index:r}}=a;return{...e,activeTabBoardId:t,activeTabIndex:r}}return e};function ev(e,a){switch(e=e||Object.freeze({}),a.type){case"SHOW_TOAST_CONTACT_REQUEST_UNDO":return{...e,showToastForContactRequest:a.payload.contactRequestId};case"SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST":let t={contactRequestId:a.payload.contactRequestId,modalAction:a.payload.modalAction};return{...e,blockModalContactRequest:t};default:return e}}var eL=t(969009);let eb={canProceed:!0,topBusinessGoal:"",dailyAdsBudget:"",customDailyAdsBudget:void 0,weeklyAddToCarts:0,weeklyLeads:0,weeklyCheckouts:0,hasFeed:!1,shouldShowGoalsStep:!0,isSurveyOpen:!1,isCalendlyModalOpen:!1,marketingPlanName:"",marketingPlanSuggestion:[],showCustomBudgetField:!1,showCustomBudgetFieldError:!1};function ew(e,a){switch(e=e||eb,a.type){case"UPDATE_PMP_FIELD":return{...e,[a.field]:a.value};case"UPDATE_PMP_INITIAL_STATE":return{...a.value};default:return e}}function eU(e,a){let t=e||{};if(a.type===J.zP||a.type===J.aW){let{resource:e}=a.payload,{data:r}=a.payload.response.resource_response;if("BaseSearchResource"===e){let e=(r||{}).results||[],a={...t};return e.forEach(e=>{"module"===e.type&&(a[e.id]=e)}),a}}return t}function eG(e,a){if(e=e||null,"MOST_RECENT_BOARD"!==a.type)return e;{let{id:t,name:r,url:n}=a.payload;return{...e,id:t,name:r,url:n}}}let eM=(0,K.Z)("notifications",(e,a)=>{if(e=e||{},a.type===J.zP||a.type===J.aW){let{normalizedResponse:e}=a.payload;e&&e.entities&&e.entities.notifications&&e.entities.pins&&(({notifications:e,pins:a})=>{Object.keys(e).forEach(t=>{let r=e[t];r.content_items&&r.content_items.forEach(e=>{if(e.content_object){let{id:t,schema:r}=e.content_object;"pin"===r&&(e.trackingParams=a[t]?a[t].tracking_params:void 0)}})})})(e.entities)}return e}),eB={dirtyFields:[],description:"",link:"",title:"",board:null,descriptionError:null,linkError:null,titleError:null};var ek=t(452750);let eF=Object.freeze({assets:[],createdPinIds:[],fonts:[],layoutMode:0,pinDraftIdUploadStatusMap:{},pinDraftIds:[],selectedPinDraftIds:[],isBatchEditMode:!1,entryPoint:null,closeupImageSignature:null,pinEditorPinDraft:null,showDisabledPinCreationBanner:!1,showFeedbackModal:!1});var eH=t(526435);let ex={altText:null,altTextError:null,apiError:null,apiErrorCode:null,boardError:null,interestTags:[],isAdIneligible:!1,isCommentsAllowed:!0,isShoppingRecAllowed:!0,lastEditedTime:null,lastSavedTime:null,mediaError:null,mode:"create",pinId:null,pinItemIds:[],pinItemIndex:-1,pinIsAdsOnly:!1,pinItemShareable:!0,publishingStatus:"notAttempted",publishOption:"publish-immediately",scheduledPin:null,scheduledDate:null,scheduledDateError:null,scheduledTime:null,scheduledTimeError:null,selectedItem:null,status:"created",storyPin:null,storyPinDraftId:null,storyPinMetadata:null,storyPinUploadManager:null,storyPinSelectedPinItemIds:[],type:"single",uploadStartTime:null,urlCreationSource:null,view:"upload",websiteLink:"",websiteLinkError:null,websiteMedia:[],websiteDefaultImageUrl:null,createMethod:null,showcaseBannerError:null,creativeStudioPinParams:null};var eV=t(774018);let eY={id:null,link:"",linkError:null,pinTagKey:null,status:"created",taggedObjectIds:[],x:-1,y:-1},e$={id:null,link:"",media:null,status:"created",pin:null,type:null},ej={edits:{left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}},error:null,media:null,text:"",type:"story_pin_paragraph_block"},eW=(e,a)=>{switch(e=e||ej,a.type){case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_UPDATE_BLOCK":let{storyPinItemBlock:t}=a.payload;return{...e,...t};case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":let{playing:r}=a.payload;return{...e,playing:r};case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":let{edits:n}=a.payload;return{...e,edits:{...e.edits,...n}};case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":{let{media:t}=a.payload;return{...e,media:e.media?(0,eg.Z)(e.media,t):null}}default:return e}},eZ={backgroundColor:"#ffffff",blockIds:[],canvasJson:null,coverImgSignature:"",description:"",descriptionError:null,dominantColors:[],isEditable:!0,isTaggable:!0,layout:null,linkBlock:{text:"",srcUrl:"",canonicalUrl:"",imageSignature:"",imageUrl:"",isFetching:!1},linkError:null,media:null,pinTagIds:[],publishProgress:void 0,selectedBlockId:null,selectedPinTagId:null,signals:{},tagError:null,title:"",titleError:null};Object.freeze({...eF,batchDraftCreationIds:[],batchEditModeFields:eB,pinDrafts:{},pinItems:{},pinTags:{},storyPinItemBlocks:{},storyPinItems:{},taggedObjects:{}});let eq=(0,S.combineReducers)({assets:(e=eF.assets,a)=>"PIN_BUILDER_ADD_ASSET"===a.type?[a.payload.asset,...e??[]]:e??[],batchDraftCreationIds:(e=[],a)=>{switch(a.type){case"BATCH_DRAFT_CREATION_SET_IDS":let{pinDraftIds:t}=a.payload;return t;case"BATCH_DRAFT_CREATION_REMOVE_ID":let{pinDraftId:r}=a.payload;return[...(e??[]).filter(e=>e!==r)];default:return e}},batchEditModeFields:(e,a)=>{switch(e=e||eB,a.type){case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION":{let{description:t}=a.payload;return{...e,description:t}}case"BATCH_PIN_EDIT_MODE_SET_LINK":{let{link:t}=a.payload;return{...e,link:t}}case"BATCH_PIN_EDIT_MODE_SET_TITLE":{let{title:t}=a.payload;return{...e,title:t}}case"BATCH_PIN_EDIT_MODE_SET_BOARD":{let{board:t}=a.payload;return{...e,board:{...t}}}case"BATCH_PIN_EDIT_MODE_ADD_DIRTY_FIELD":{let{field:t}=a.payload;return{...e,dirtyFields:[...e.dirtyFields,t]}}case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION_ERROR":{let{descriptionError:t}=a.payload;return{...e,descriptionError:t}}case"BATCH_PIN_EDIT_MODE_SET_LINK_ERROR":{let{linkError:t}=a.payload;return{...e,linkError:t}}case"BATCH_PIN_EDIT_MODE_SET_TITLE_ERROR":{let{titleError:t}=a.payload;return{...e,titleError:t}}case"BATCH_PIN_EDIT_MODE_RESET_ALL_FIELDS":return{...e,...eB};default:return e}},closeupImageSignature:(e=eF.closeupImageSignature,a)=>{if("PIN_BUILDER_SET_CLOSEUP_IMAGE_SIGNATURE"!==a.type)return e;{let{closeupImageSignature:e}=a.payload;return e}},createdPinIds:(e=eF.createdPinIds,a)=>{if("PIN_BUILDER_ADD_CREATED_PIN_ID"!==a.type)return e??[];{let{pinId:t}=a.payload;return(e??[]).concat(t)}},entryPoint:(e=eF.entryPoint,a)=>{if("PIN_BUILDER_ENTRY_POINT"!==a.type)return e;{let{entryPoint:e}=a.payload;return e}},fonts:(e=eF.fonts,a)=>{if(a.type===J.zP){let{resource:e,options:t={}}=a.payload,{data:r}=a.payload.response.resource_response;if("ApiResource"===e&&"/v3/storypins/fonts/"===t.url)return(r?.all||[]).map(ek.Z)}return e??[]},isBatchEditMode:(e=eF.isBatchEditMode,a)=>{if("PIN_BUILDER_SET_BATCH_EDIT_MODE"!==a.type)return!!e;{let{isBatchEditMode:e}=a.payload;return e}},layoutMode:(e=eF.layoutMode,a)=>(a.type,e),pinDraftIds:(e=eF.pinDraftIds,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT":{let{pinDraftId:t,options:r={}}=a.payload,{insertBefore:n,isAppend:s}=r;if(n){let a=e.indexOf(r.insertBefore);if(a>=0){let r=[...e??[]];return r.splice(a,0,t),r}}if(s)return[...e??[],t];return[t,...e??[]]}case"PIN_BUILDER_DELETE_PIN_DRAFT":case"PIN_BUILDER_REMOVE_PIN_DRAFT_ID":{let{pinDraftId:t}=a.payload;return[...(e??[]).filter(e=>e!==t)]}case"PIN_BUILDER_CLEAR_PIN_DRAFTS":return[];default:return e??[]}},pinDraftIdUploadStatusMap:(e=eF.pinDraftIdUploadStatusMap,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT_ITEM_UPLOAD":{let{pinDraftId:t,pinItemId:r,upload:n}=a.payload;if(!e?.[t])return{...e,[t]:{items:{[r]:n},status:"uploading"}};return{...e,[t]:{...e?.[t]||{items:{},status:"uploading"},items:{...e?.[t]?.items??{},[r]:n}}}}case"PIN_BUILDER_SET_PIN_DRAFT_UPLOAD_STATUS":{let{pinDraftId:t,status:r}=a.payload;return{...e,[t]:{...e?.[t]||{items:{},status:"uploading"},status:r}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_STATUS":{let{pinDraftId:t,pinItemId:r,status:n}=a.payload,s=e?.[t]&&"items"in e[t]?e[t].items:{};return{...e,[t]:{...e[t],items:{...s,[r]:{...s[r],status:n}}}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_XHR":{let{pinDraftId:t,pinItemId:r,xhr:n}=a.payload,s=e?.[t]&&"items"in e[t]?e[t].items:{};return{...e,[t]:{...e[t],items:{...s,[r]:{...s[r],xhr:n}}}}}case"PIN_BUILDER_REMOVE_PIN_ITEM_UPLOAD":{let{pinDraftId:t,pinItemId:r}=a.payload,n={...e[t].items};return delete n[r],{...e,[t]:{...e[t],items:n}}}case"PIN_BUILDER_REMOVE_PIN_DRAFT_UPLOAD":{let{pinDraftId:t}=a.payload,r={...e};return delete r[t],r}default:return e}},pinDrafts:(e,a)=>{switch(e=e||{},a.type){case"PIN_BUILDER_DELETE_PIN_DRAFT":{let{pinDraftId:t}=a.payload,r={...e};return delete r[t],r}case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"PIN_DRAFT_ADD_WEBSITE_MEDIA":case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":case"PIN_DRAFT_REMOVE_PIN_ITEM":case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_API_ERROR":case"PIN_DRAFT_SET_BOARD_ERROR":case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":case"PIN_DRAFT_SET_LAST_EDITED_TIME":case"PIN_DRAFT_SET_LAST_SAVED_TIME":case"PIN_DRAFT_SET_MEDIA_ERROR":case"PIN_DRAFT_SET_PIN_ID":case"PIN_DRAFT_SET_PIN_ITEM_IDS":case"PIN_DRAFT_SET_PIN_ITEM_INDEX":case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":case"PIN_DRAFT_SET_PUBLISHING_STATUS":case"PIN_DRAFT_SET_PUBLISH_OPTION":case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":case"PIN_DRAFT_SET_SCHEDULED_DATE":case"PIN_DRAFT_SET_SCHEDULED_PIN":case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":case"PIN_DRAFT_SET_SCHEDULED_TIME":case"PIN_DRAFT_SET_SELECTED_ITEM":case"PIN_DRAFT_SET_STATUS":case"PIN_DRAFT_SET_STORY_PIN":case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_UPLOAD_START_TIME":case"PIN_DRAFT_SET_URL_CREATION_SOURCE":case"PIN_DRAFT_SET_VIEW":case"PIN_DRAFT_SET_CREATE_METHOD":case"PIN_DRAFT_SET_WEBSITE_LINK":case"PIN_DRAFT_UPDATE_DATA":case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":case"PIN_DRAFT_ADD_INTEREST_TAG":case"PIN_DRAFT_REMOVE_INTEREST_TAG":case"PIN_DRAFT_SET_INTEREST_TAGS":case"PIN_DRAFT_CLEAR_INTEREST_TAGS":case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":case"PIN_DRAFT_SET_ALT_TEXT":case"PIN_DRAFT_SET_ALT_TEXT_ERROR":case"PIN_DRAFT_SET_ADS_ONLY_STATUS":case"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":{let{pinDraftId:t}=a.payload;return{...e,[t]:((e=ex,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_DRAFT_UPDATE_DATA":{let{pinDraft:t}=a.payload;return{...e,...t}}case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":return{...e,isUploadDraft:void 0};case"PIN_DRAFT_ADD_PIN_ITEM":{let{pinItemId:t,options:r}=a.payload,n=[...e.pinItemIds,t];return{...e,pinItemIds:[...e.pinItemIds,t],pinItemIndex:r&&r.saveIndex?e.pinItemIndex:e.pinItemIds.length,type:n.length>1&&"story"!==e.type?"carousel":e.type}}case"PIN_DRAFT_ADD_STORY_PIN_ITEM":{let{pinItemId:t,options:r}=a.payload,n=[...e.pinItemIds,t],s=r&&r.saveIndex?e.pinItemIndex:e.pinItemIds.length;return{...e,pinItemIds:n,pinItemIndex:s,storyPinSelectedPinItemIds:[n[s]]}}case"PIN_DRAFT_REMOVE_PIN_ITEM":{let{pinItemId:t}=a.payload,r=e.pinItemIds.findIndex(e=>e===t),n=e.pinItemIds.filter(e=>e!==t),s=e.pinItemIndex<=r?Math.min(e.pinItemIndex,n.length-1):e.pinItemIndex-1,o=s>=0?[n[s]]:[];return{...e,pinItemIds:n,pinItemIndex:s,storyPinSelectedPinItemIds:o,type:n.length<=1&&"story"!==e.type?"single":e.type}}case"PIN_DRAFT_SET_PIN_ID":{let{pinId:t}=a.payload;return{...e,pinId:t}}case"PIN_DRAFT_SET_ADS_ONLY_STATUS":{let{pinIsAdsOnly:t}=a.payload;return{...e,pinIsAdsOnly:t}}case"PIN_DRAFT_SET_SCHEDULED_PIN":{let{scheduledPin:t}=a.payload;return{...e,scheduledPin:t}}case"PIN_DRAFT_SET_STORY_PIN":{let{storyPin:t}=a.payload;return{...e,storyPin:t}}case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":{let{storyPinDraftId:t}=a.payload;return{...e,storyPinDraftId:t}}case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":{let{storyPinMetadata:t}=a.payload;return{...e,storyPinMetadata:{...e.storyPinMetadata,...t}}}case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":{let{pinItemIds:t}=a.payload;return{...e,storyPinSelectedPinItemIds:t}}case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":return{...e,storyPinSelectedPinItemIds:[e.pinItemIds[e.pinItemIndex]]};case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":{let{isCommentsAllowed:t}=a.payload;return{...e,isCommentsAllowed:t}}case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":{let{isShoppingRecAllowed:t}=a.payload;return{...e,isShoppingRecAllowed:t}}case"PIN_DRAFT_SET_PIN_ITEM_INDEX":{let{pinItemIndex:t}=a.payload;return{...e,pinItemIndex:t}}case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":{let{pinItemShareable:t}=a.payload;return{...e,pinItemShareable:t}}case"PIN_DRAFT_SET_URL_CREATION_SOURCE":{let{urlCreationSource:t}=a.payload;return{...e,urlCreationSource:t}}case"PIN_DRAFT_SET_VIEW":{let{view:t}=a.payload;return{...e,view:t}}case"PIN_DRAFT_SET_CREATE_METHOD":{let{createMethod:t}=a.payload;return{...e,createMethod:t}}case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":{let{isAdIneligible:t}=a.payload;return{...e,isAdIneligible:t}}case"PIN_DRAFT_SET_PUBLISHING_STATUS":{let{publishingStatus:t}=a.payload;return{...e,publishingStatus:t}}case"PIN_DRAFT_SET_PUBLISH_OPTION":{let{publishOption:t}=a.payload;return{...e,publishOption:t}}case"PIN_DRAFT_SET_STATUS":{let{status:t}=a.payload;return{...e,status:t}}case"PIN_DRAFT_SET_SCHEDULED_DATE":{let{scheduledDate:t}=a.payload;return{...e,scheduledDate:t}}case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":{let{scheduledDateError:t}=a.payload;return{...e,scheduledDateError:t}}case"PIN_DRAFT_SET_SCHEDULED_TIME":{let{scheduledTime:t}=a.payload;return{...e,scheduledTime:t}}case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":{let{scheduledTimeError:t}=a.payload;return{...e,scheduledTimeError:t}}case"PIN_DRAFT_SET_MEDIA_ERROR":{let{mediaError:t}=a.payload;return{...e,mediaError:t}}case"PIN_DRAFT_SET_LAST_EDITED_TIME":{let{lastEditedTime:t}=a.payload;return{...e,lastEditedTime:t}}case"PIN_DRAFT_SET_LAST_SAVED_TIME":{let{lastSavedTime:t}=a.payload;return{...e,lastSavedTime:t}}case"PIN_DRAFT_SET_WEBSITE_LINK":{let{websiteLink:t,error:r,websiteDefaultImageUrl:n}=a.payload;return{...e,websiteLink:t,websiteLinkError:r,websiteDefaultImageUrl:n}}case"PIN_DRAFT_SET_SELECTED_ITEM":let{selectedItem:t}=a.payload;return{...e,selectedItem:{...t},boardError:null};case"PIN_DRAFT_SET_UPLOAD_START_TIME":let{uploadStartTime:r}=a.payload;return{...e,uploadStartTime:r};case"PIN_DRAFT_SET_BOARD_ERROR":let{boardError:n}=a.payload;return{...e,boardError:n};case"PIN_DRAFT_ADD_WEBSITE_MEDIA":{let{media:t}=a.payload;return{...e,websiteMedia:[...e.websiteMedia,t]}}case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":{let{mediaUrl:t}=a.payload;return{...e,websiteMedia:e.websiteMedia.filter(e=>e.src!==t)}}case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":return{...e,websiteMedia:[]};case"PIN_DRAFT_SET_PIN_ITEM_IDS":return{...e,pinItemIds:a.payload.pinItemIds};case"PIN_DRAFT_SET_API_ERROR":return{...e,apiError:a.payload.apiError,apiErrorCode:a.payload.apiErrorCode};case"PIN_DRAFT_ADD_INTEREST_TAG":{let{tag:t}=a.payload;return{...e,interestTags:[...e.interestTags,t]}}case"PIN_DRAFT_REMOVE_INTEREST_TAG":{let{id:t}=a.payload;return{...e,interestTags:[...e.interestTags.filter(e=>e.id!==t)]}}case"PIN_DRAFT_SET_INTEREST_TAGS":{let{tags:t}=a.payload;return{...e,interestTags:[...t]}}case"PIN_DRAFT_CLEAR_INTEREST_TAGS":return{...e,interestTags:[]};case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":{let{uploadManager:t}=a.payload;return{...e,storyPinUploadManager:t}}case"PIN_DRAFT_SET_ALT_TEXT":{let{altText:t}=a.payload;return{...e,altText:t}}case"PIN_DRAFT_SET_ALT_TEXT_ERROR":{let{altTextError:t}=a.payload;return{...e,altTextError:t}}case"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR":{let{showcaseBannerError:t}=a.payload;return{...e,showcaseBannerError:t}}case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":return{...e,lastEditedTime:new Date,status:eH.qm.includes(e.status)?e.status:"edited"};default:return e}})(e[t],a)}}case"PIN_DRAFT_CLEAR_STATE":return{};default:return e}},pinEditorPinDraft:(e=eF.pinEditorPinDraft,a)=>{if("PIN_EDITOR_SET_PIN_DRAFT"===a.type){let{payload:e}=a;return e.editedPinDraftId}return e},pinItems:(e,a)=>{switch(e=e||{},a.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"PIN_ITEM_SET_DESCRIPTION":case"PIN_ITEM_SET_DESCRIPTION_ERROR":case"PIN_ITEM_SET_IS_TAGGABLE":case"PIN_ITEM_SET_LINK_ERROR":case"PIN_ITEM_SET_LINK":case"PIN_ITEM_SET_MEDIA":case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":case"PIN_ITEM_SET_TAG_ERROR":case"PIN_ITEM_SET_TITLE":case"PIN_ITEM_SET_TITLE_ERROR":case"PIN_ITEM_UPDATE_MEDIA":case"PIN_ITEM_UPDATE_DATA":case"PIN_ITEM_SET_EDITED_IMAGE":let{pinItemId:t}=a.payload;return{...e,[t]:(0,eV.Z)(e[t],a)};default:return e}},pinTags:(e,a)=>{switch(e=e||{},a.type){case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"STORY_PIN_ITEM_ADD_PIN_TAG":case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"PIN_TAG_SET_COORDINATES":case"PIN_TAG_SET_LINK":case"PIN_TAG_SET_STATUS":let{pinTagId:t}=a.payload;return{...e,[t]:((e,a)=>{switch(e=e||eY,a.type){case"PIN_ITEM_ADD_PIN_TAG":case"STORY_PIN_ITEM_ADD_PIN_TAG":{let{pinTag:t}=a.payload;return{...e,...t}}case"PIN_ITEM_REMOVE_PIN_TAG":return{...e,status:"created"!==e.status?"deleted":e.status};case"PIN_TAG_ADD_TAGGED_OBJECT":{let{taggedObjectId:t}=a.payload;return{...e,taggedObjectIds:[...e.taggedObjectIds,t],status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_REMOVE_TAGGED_OBJECT":{let{taggedObjectId:t}=a.payload;return{...e,taggedObjectIds:e.taggedObjectIds.filter(e=>e!==t),status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_COORDINATES":{let{x:t,y:r}=a.payload;return{...e,x:t,y:r,status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_LINK":{let{link:t,error:r}=a.payload;return{...e,link:t,linkError:r}}case"PIN_TAG_SET_STATUS":{let{status:t}=a.payload;return{...e,status:t}}default:return e}})(e[t],a)};default:return e}},selectedPinDraftIds:(e=eF.selectedPinDraftIds,a)=>{switch(a.type){case"PIN_BUILDER_SELECT_PIN_DRAFT":{let{pinDraftId:t}=a.payload;return[...e??[],t]}case"PIN_BUILDER_DESELECT_PIN_DRAFT":{let{pinDraftId:t}=a.payload;return(e??[]).filter(e=>e!==t)}case"PIN_BUILDER_CLEAR_SELECTED_PIN_DRAFTS":return[];default:return e??[]}},showDisabledPinCreationBanner:(e=eF.showDisabledPinCreationBanner,a)=>{if("PIN_BUILDER_SHOW_DISABLE_PIN_CREATION_BANNER"===a.type){let{showDisabledPinCreationBanner:e}=a.payload;return e}return!!e},showFeedbackModal:(e=eF.showFeedbackModal,a)=>{if("PIN_BUILDER_SHOW_FEEDBACK_MODAL"===a.type){let{payload:e}=a;return e.showFeedbackModal}return e},storyPinItemBlocks:(e,a)=>{switch(e=e||{},a.type){case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_UPDATE_BLOCK":{let{blockId:t}=a.payload;if(!(t in e))return e;return{...e,[t]:eW(e[t],a)}}case"STORY_PIN_ITEM_ADD_BLOCK":{let{blockId:t}=a.payload;return{...e,[t]:eW(e[t],a)}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{let{blockId:t}=a.payload;if(!(t in e))return e;let r={...e};return delete r[t],r}default:return e}},storyPinItems:(e,a)=>{switch(e=e||{},a.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_BLOCK_IDS":case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":case"STORY_PIN_ITEM_SET_DESCRIPTION":case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":case"STORY_PIN_ITEM_SET_EDITED_IMAGE":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_SET_LINK_ERROR":case"STORY_PIN_ITEM_SET_MEDIA":case"STORY_PIN_ITEM_SET_PUBLISH_PROGRESS":case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":case"STORY_PIN_ITEM_SET_TITLE":case"STORY_PIN_ITEM_SET_TITLE_ERROR":case"STORY_PIN_ITEM_UPDATE_DATA":case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":case"STORY_PIN_ITEM_UPDATE_MEDIA":case"STORY_PIN_ITEM_ADD_PIN_TAG":case"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID":let{pinItemId:t}=a.payload;return{...e,[t]:((e,a)=>{switch(e=e||eZ,a.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_UPDATE_DATA":{let{pinItem:t}=a.payload;return{...e,...t}}case"STORY_PIN_ITEM_SET_DESCRIPTION":{let{description:t}=a.payload;return{...e,description:t}}case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":{let{descriptionError:t}=a.payload;return{...e,descriptionError:t}}case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":{let{linkBlock:t}=a.payload;return{...e,linkBlock:{...e.linkBlock,...t}}}case"STORY_PIN_ITEM_SET_LINK_ERROR":{let{linkError:t}=a.payload;return{...e,linkError:t}}case"STORY_PIN_ITEM_SET_MEDIA":{let{media:t}=a.payload,r=t?.type!=="localVideo"&&(!!t&&!e.linkBlock||e.isTaggable);return{...e,canvasJson:null,isTaggable:r,media:t,pinTagIds:[],selectedPinTagId:null}}case"STORY_PIN_ITEM_UPDATE_MEDIA":{let{media:t}=a.payload;return{...e,media:e.media?(0,eg.Z)(e.media,t):null}}case"STORY_PIN_ITEM_SET_TITLE":{let{title:t}=a.payload;return{...e,title:t}}case"STORY_PIN_ITEM_SET_TITLE_ERROR":{let{titleError:t}=a.payload;return{...e,titleError:t}}case"STORY_PIN_ITEM_SET_BLOCK_IDS":{let{blockIds:t}=a.payload;return{...e,blockIds:t}}case"STORY_PIN_ITEM_SET_EDITED_IMAGE":{let{editedMedia:t,canvasJson:r}=a.payload;return{...e,media:t,canvasJson:r}}case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":{let{blockId:t}=a.payload;return{...e,selectedBlockId:t}}case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":{let{backgroundColor:t}=a.payload;return{...e,backgroundColor:t}}case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":{let{coverImgSignature:t}=a.payload;return{...e,coverImgSignature:t}}case"STORY_PIN_ITEM_SET_LAYOUT":{let{layout:t}=a.payload;return{...e,layout:t}}case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":{let{dominantColors:t}=a.payload;return{...e,dominantColors:t}}case"STORY_PIN_ITEM_SET_PUBLISH_PROGRESS":{let{publishProgress:t}=a.payload;return{...e,publishProgress:t}}case"STORY_PIN_ITEM_ADD_BLOCK":{let{blockId:t,index:r}=a.payload,{blockIds:n}=e,s=[...n];return s.splice("number"==typeof r?r:n.length,0,t),{...e,blockIds:s}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{let{blockId:t}=a.payload,{blockIds:r}=e;return{...e,blockIds:[...r.filter(e=>e!==t)]}}case"STORY_PIN_ITEM_REORDER_BLOCKS":{let{blockIds:t}=a.payload;return{...e,blockIds:t}}case"STORY_PIN_ITEM_ADD_PIN_TAG":{let{pinTagId:t}=a.payload;return{...e,pinTagIds:[...e.pinTagIds,t]}}case"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{let{selectedPinTagId:t}=a.payload;return{...e,selectedPinTagId:t}}default:return e}})(e[t],a)};default:return e}},taggedObjects:(e,a)=>{switch(e=e||{},a.type){case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"TAGGED_OBJECT_SET_STATUS":let{taggedObjectId:t}=a.payload;return{...e,[t]:((e,a)=>{switch(e=e||e$,a.type){case"PIN_TAG_ADD_TAGGED_OBJECT":let{taggedObject:t}=a.payload;return{...e,...t};case"PIN_TAG_REMOVE_TAGGED_OBJECT":return{...e,status:"created"!==e.status?"deleted":e.status};case"TAGGED_OBJECT_SET_STATUS":let{status:r}=a.payload;return{...e,status:r};default:return e}})(e[t],a)};default:return e}}}),ez=(e,a,t)=>({...e,[a]:{...e[a]||{},...t}}),eK=(e={},a)=>{let t=e||{};switch(a.type){case J.zP:{let{payload:{resource:e,response:r,options:n}}=a;if("FindPinImagesResource"===e&&n?.source==="pin_create"){let e={...r.resource_response.data};return e.items=e.items.slice(0,50),ez(t,n?.url||"",e)}return t}case"PIN_BUILDER_LOADED_IMAGES":{let{payload:{loadedImages:e,scrapedWebsite:r}}=a;return ez(t,r,{loadedImages:e})}case"UPDATE_PIN_BUILDER_INPUT":return{...t,...a.payload};default:return t}};function eQ(e=null,a){let t=e||null;return"PIN_NAV_CONTEXT_CREATE"===a.type?{...t,...a.payload}:"PIN_NAV_CONTEXT_DELETE"===a.type?null:t}var eX=t(408998);let eJ=(e,a)=>{let t=e||{};if(a.type===J.zP){let{resource:e,options:r={},response:n}=a.payload;if("VisualSearchFlashlightUnifiedResource"===e){let e=r.pin_id,{x:a,y:s,w:o,h:i}=r.crop,l=r.is_shopping,d=`related-products-unified:${e}:${a}:${s}:${o}:${i}:${l}`,{data:c}=n.resource_response,u={[d]:{priceFilters:c.price_filters,domainFilters:c.domain_filters,categoryFilters:c.category_filters}};if(Object.values(u[d]).filter(Boolean).length)return{...t,...u}}}return t},e0={promoId:"",startDate:"",endDate:"",startTime:"00:00",endTime:"",discountGroup:void 0,discountType:void 0,title:"",templateValues:{},showPromoCode:!1,modalStep:t(577952).Ab.CREATE,isLoading:!0,promoCode:void 0,errorMessages:{},activeCampaigns:[],selectedCampaignIds:[],allCampaignIds:[],campaignIdToAdGroupMap:{},isRowOpen:{},promotionsEmailRedirect:""};function e1(e=e0,a){switch(a.type){case"UPDATE_PROMO_MODAL_FIELD":return{...e,[a.field]:a.value};case"UPDATE_PROMO_CODE":return{...e,promoCode:a.value};case"UPDATE_DISCOUNT_GROUP":return{...e,discountGroup:a.value};case"UPDATE_DISCOUNT_TYPE":return{...e,discountType:a.value};case"UPDATE_INITIAL_CAMPAIGNS_STATE":{let{eligibleCampaignIds:t,filteredCampaigns:r,adGroups:n}=a.value,s={};t.forEach(e=>{s[e]=!1});let o=t.reduce((e,a)=>(e[a]={},e),{});return(n||[]).forEach(e=>{let{campaign_id:a,id:r}=e||{campaign_id:"",id:""};r&&a&&t.includes(a)&&(Object.prototype.hasOwnProperty.call(o,a)?o[a]={...o[a],[r]:{adGroupResponse:e,selected:!0}}:o[a]={[r]:{adGroupResponse:e,selected:!0}})}),{...e,isLoading:!1,activeCampaigns:r,isRowOpen:s,selectedCampaignIds:t,allCampaignIds:t,campaignIdToAdGroupMap:o}}default:return e}}let e2=(0,K.Z)("reactions",(e,a)=>{switch(e=e||{},a.type){case J.zP:if("ReactionsResource"===a.payload.resource&&a.payload.normalizedResponse&&a.payload.normalizedResponse.entities&&a.payload.normalizedResponse.entities.reactions)return{...e,...a.payload.normalizedResponse.entities.reactions};return e;case J.AF:let t,r,{options:n}=a.payload,{reaction_type:s,reaction_pin_id:o,user_id:i}=n;return t=e,r={user:i,id:`${o}:${i}:${s}`,reaction_type:s,type:"userreaction"},{...t,[r.id]:{...t[r.id],...r}};default:return e}}),e3=[],e4=(e,a)=>{let t=0,r=e.length-1;for(;t<=r;){let n=t+Math.floor((r-t)/2);e[n].scheduled_ts>a.scheduled_ts?r=n-1:e[n].scheduled_ts<=a.scheduled_ts&&(t=n+1)}return t},e5=(e,a)=>{if(e=e||e3,a.type===J.zP||a.type===J.aW){let{resource:e}=a.payload,{data:t}=a.payload.response.resource_response;if("ScheduledPinsResource"===e)return t||[]}else if("SCHEDULED_PIN_DELETE_COMPLETE"===a.type||"SCHEDULED_PIN_PUBLISH_COMPLETE"===a.type){let{payload:{scheduledPinId:t}}=a;return e.filter(e=>e.id!==t)}else if("SCHEDULED_PIN_CREATE_COMPLETE"===a.type){let{payload:{scheduledPin:t}}=a,r=e4(e,t),n=[...e];return n.splice(r,0,t),n}else if("SCHEDULED_PIN_UPDATE_COMPLETE"===a.type){let{payload:{title:t,scheduledPinId:r,scheduledTimestamp:n}}=a,s=e.find(e=>e.id===r),o=e.filter(e=>e.id!==r);if(s){let e={...s,title:t??"",scheduled_ts:n},a=e4(o,e),r=[...o];return r.splice(a,0,e),r}}return e};var e8=t(477588),e6=t(907586);let e9={animated:!1,currentSearch:{query:"",scope:"pins"},queries:{},productFilters:{},recentSearches:[],recentPersonalSearches:[],recommendedSearches:[],typeaheadCache:{},pins:{},visualSearches:{}},e7=(e,a)=>{let t=e.recentPersonalSearches.filter(e=>!a.find(a=>(a.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentPersonalSearches:a.concat(t).slice(0,e6._9)}},ae=(e,a)=>({...e,...e7(e,a)}),aa=(e,a)=>{let t=e.recentSearches.filter(e=>!a.find(a=>(a.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentSearches:a.concat(t).slice(0,e6._9)}},at=(e,a)=>({...e,...aa(e,a)}),ar=(e,a,t)=>({...e,currentSearch:{query:t||"",scope:a||"pins"}}),an=(e,a,t)=>a?a.startsWith("my_")?ae(e,[{query:t,type:"recent_personal_searches",id:t,is_verified_merchant:!1,label:t,url:""}]):at(e,[{query:t,type:"recent_query",id:t,is_verified_merchant:!1,label:t,url:""}]):e,as=(e,a,t,r)=>{if(!a.length){if("recent_unauth_search_suggestions"===t){let a=aa(e,[]).recentSearches.filter(({type:e})=>"recent_query"===e);return{...e,recentSearches:a.concat(r).slice(0,e6._9)}}if((t||"").split(",").length>1){let a=[],t=[];return r.forEach(e=>{"recent_personal_searches"===e.type?a.push(e):t.push(e)}),{...e,...e7(e,a),...aa(e,t)}}return"recent_personal_searches"===t?ae(e,r):at(e,r)}return{...e,typeaheadCache:{...e.typeaheadCache,[a]:r}}},ao=(e,a)=>{switch(e=e||e9,a.type){case J.zP:{let{resource:r,response:n}=a.payload;if("AdvancedTypeaheadResource"===r){let{term:t,recent_queries_tags:r}=a.payload.options??{};return as(e,t,r,n.resource_response.data.items)}if("SearchTabResource"===r){let a,t;return a=e,t=n.resource_response.data,{...a,recommendedSearches:[...a.recommendedSearches,...t]}}if("BaseSearchResource"===r){let r,{scope:s,query:o}=a.payload.options||{},i=(0,e8.Tb)(a.payload.options),l=n.resource_response.data.productFilters,d={filters:n.resource_response.data.filters,guides:n.resource_response.data.guides,nags:n.resource_response.data.nag,oneBarModules:n.resource_response.data.oneBarModules,rankedGuides:n.resource_response.data.rankedGuides,sensitivity:n.resource_response.data.sensitivity,typo:n.resource_response.data.typo};var t=an(ar({...r=e,queries:{...r.queries,[i]:d}},s,o),s,o);let c=`${o}-${s}`,u=t.productFilters[c];return u?l?{...t,productFilters:{...t.productFilters,[c]:Object.entries(u).reduce((e,a)=>{let t=a[0],r=a[1],n=l[t];return Array.isArray(r)&&Array.isArray(n)?e[t]=r.concat(n.filter(e=>!r.some(a=>a.label===e.label))):r&&!Array.isArray(r)&&n&&!Array.isArray(n)&&(e[t]={...r,max_value:Math.max(r.max_value,n.max_value),min_value:Math.min(r.min_value,n.min_value),suggested_max_value:Math.max(r.suggested_max_value,n.suggested_max_value)}),e},{})}}:t:{...t,productFilters:{...t.productFilters,[c]:l}}}if("SearchResource"===r){let{query:t,scope:r}=a.payload.options||{};return an(e,r,t)}if("VisualLiveSearchResource"===r){let{data:t}=n.resource_response;return{...e,visualSearches:{...e.visualSearches,[a.payload.options.pin_id]:t.annotations}}}return e}case"CLEAR_RECENT_SEARCH":{let t,{query:r}=a.payload;return{...t=e,recentSearches:t.recentSearches.filter(e=>e.query!==r)}}case"CLEAR_RECENT_SEARCHES":return{...e,recentSearches:[]};case"CLEAR_RECENT_PERSONAL_SEARCH":{let t,{query:r}=a.payload;return{...t=e,recentPersonalSearches:t.recentPersonalSearches.filter(e=>e.query!==r)}}case"CLEAR_RECENT_PERSONAL_SEARCHES":return{...e,recentPersonalSearches:[]};case"RELOAD_VISUAL_SEARCH_ANNOTATIONS":let r,n;return r=e,n=a.payload.pinId,{...r,visualSearches:{...r.visualSearches,[n]:[]}};case"UPDATE_CURRENT_SEARCH":{let{query:t,scope:r}=a.payload;return ar(e,r,t)}case"UPDATE_RECENT_SEARCHES":{let{query:t,scope:r}=a.payload;return an(e,r,t)}case"UPDATE_RECENT_SEARCHES_BATCH":{let{data:t}=a.payload;return{...e,recentSearches:t.slice(0,e6._9)}}case"UPDATE_TYPEAHEAD_CACHE":{let{items:t,term:r,recent_queries_tags:n}=a.payload;return as(e,r,n,t)}default:return e}},ai={},al=new Set(["BoardResource","PinResource","RepinResource"]),ad=(e,a)=>{switch(e=e||ai,a.type){case"REPLACE_STATE":return{...e,...a.payload.session};case"SET_LOGIN_SIGNUP_FROM":if(a.payload.from!==e.loginSignupFrom)return{...e,loginSignupFrom:a.payload.from};return e;case"SET_UNAUTH_SAVE_PIN_ID":return{...e,unauthSavePinId:a.payload.unauthSavePinId};case"DISMISS_UNAUTH_SAVE":return{...e,unauthSavePinId:void 0};case"COMPLETE_UNAUTH_SAVE_ACTION":return{...e,hasSavedUnauthPin:!0};case"AUTHENTICATE_USER":case"REGISTER_USER":return{...e,isAuthenticated:!0,userId:a.payload.user.id};case"SET_VIEWED_IMAGE":let{viewedImageSignature:t}=a.payload,{viewedImages:r}=e,n=[t].concat((r||[]).slice(0,10).filter(e=>e!==t));return{...e,viewedImages:n};case"SET_VIEWED_SHARED_PINS":return{...e,viewedSharedPins:a.payload.pins};case"SHOW_BIZ_NUX_HOMEFEED_LOADER":return{...e,isBizNuxHomefeedLoadShown:a.payload};case"SHOW_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!0};case"HIDE_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!1};case"SHOW_REPIN_CONFETTI_ANIMATION":return{...e,isShowingRepinConfettiAnimation:!0};case"HIDE_REPIN_CONFETTI_ANIMATION":return{...e,isShowingRepinConfettiAnimation:!1};case"SET_NUM_SIGNUP_STEPS":return{...e,numSignupSteps:a.payload.steps};case"HIDE_NAV_FOOTER":return{...e,shouldHideNavBar:!0};case"SHOW_NAV_FOOTER":return{...e,shouldHideNavBar:!1};case"BOARD_DELETE":case"BOARD_SECTION_DELETE":case"PIN_DELETE":return{...e,isProfilePinsStale:!0};case"CREATE_COMPLETE":let{resource:s}=a.payload;return al.has(s)?{...e,isProfilePinsStale:!0}:e;case"SET_OWN_PROFILE_PINS_REFRESH":return{...e,isProfilePinsStale:!1};case"DISMISS_UNAUTH_APP_UPSELL":return{...e,unauthInterstitialDismissed:!0};case"LOGGED_OUT_USER_INFO_FOUND":return{...e,loggedOutUserInfo:a.payload};case"LOGGED_OUT_USER_INFO_NOT_FOUND":return{...e,loggedOutUserInfo:null};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":if(e.isAuthenticated)return{...e,firstHomeFeedRequestAfterNux:a.payload};return e;case"SET_LANDING_PAGE_TYPE":return{...e,landingPageType:a.payload};default:return e}},ac=(e,a)=>{if(e=e||{},a.type===J.zP||a.type===J.aW){let{payload:{response:t,resource:r,options:n={}}}=a;if("CountriesResource"===r)return{...e,countryOptions:t.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("LocalesResource"===r)return{...e,localeOptions:t.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("ApiResource"===r&&"/v3/settings/news/"===n.url)return{...e,newsSettings:t.resource_response.data};if("ApiResource"===r&&"/v3/settings/push/"===n.url)return{...e,pushSettings:t.resource_response.data}}if("SETTINGS_CHANGE"===a.type){let{id:t,value:r}=a.payload,{newsSettings:n,pushSettings:s}=e,o=n?.map(e=>(e.options=e.options.map(e=>(e.id===t&&(e.value=r),e)),e))??[],i=s?.map(e=>(e.options=e.options.map(e=>(e.id===t&&(e.value=r),e)),e))??[];return{...e,newsSettings:o,pushSettings:i}}return e},au=e=>e.trim().toLowerCase(),a_=(0,K.Z)("stories",(e,a)=>{switch(e=e||{},a.type){case J.AF:case J.aW:if("BoardSectionResource"===a.payload.resource&&a.payload.normalizedResponse){let{name:t,board_id:r}=a.payload.options??{};return(({state:e,boardId:a,name:t})=>{let r=au(t);return Object.keys(e).reduce((t,n)=>{let s=e[n];return{...t,[n]:"section_title_recommendations"===s.story_type&&s?.objects?.find(e=>"board"===e.schema&&e.id===a)?{...s,objects:s.objects?.filter(e=>"board_section_name_recommendation"!==e.type||au(e.name||"")!==r)}:s}},{})})({state:e,boardId:r,name:t})}return e;case J.zP:if("BoardsFeedResource"===a.payload.resource){let t=a.payload.response.resource_response.data.filter(e=>"story"===e.type).reduce((e,a)=>({...e,[a.id]:a}),{});return{...e,...t}}return e;default:return e}});var ap=t(526950),aE=t(797471);let aS={},ay=(e,a)=>{if(e=e||aS,a.type===J.zP||a.type===J.aW){let{response:{resource_response:{data:t}},resource:r}=a.payload;if(["RelatedArticlesResource","TodayTabInterestFeedResource","TodayTabResource"].includes(r)&&t){let a=t.reduce((e,a)=>((0,aE.Y_)(a)&&(e[a.id]=a),e),{});return{...e,...a}}if("TodayArticleResource"===r&&t?.id){let a={[t.id]:t};return{...e,...a}}if("TodayArticleFeedResource"===r&&t&&(0,aE.nx)(t)){let a=t.reduce((e,a)=>(Array.isArray(a.objects)&&a.objects.forEach(a=>{(0,aE.Y_)(a)&&(e[a.id]=a)}),e),{});return{...e,...a}}}return e},aT=(0,K.Z)("todayArticles",(e,a)=>(e=e||{},a.type,e)),aR=(e,a)=>({...e,[a.id]:{...e[a.id],...a}}),am=(0,K.Z)("topics",(e,a)=>{switch(e=e||{},a.type){case"TOPIC_FOLLOW":let{payload:{id:t,value:r}}=a;return aR(e,{id:t,is_followed:r});case J.zP:let{payload:{options:n,resource:s,response:o}}=a,i=o.resource_response.data,l="ApiResource"===s&&n?.url?.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//);if(("PinInterestsResource"===s||l)&&i?.length)return i.reduce((e,a)=>aR(e,a),e);return e;default:return e}}),aA=(0,K.Z)("triedits",(e,a)=>(e=e||{},a.type,e));var af=t(436968),ag=t(534726);let aI={vmpBannerLastDismissedAt:{},vmpWelcomeBannerDismissCount:{},vmpCelebrationBannerDismissed:{}};function aC(e,a){if(e=e||aI,a.type!==J.zP)return e;{let{payload:{response:t,resource:r,options:n}}=a,s=t.resource_response.data,o=n?.userId||"";return"VerifiedMerchantResource"===r&&s?{...e,[o]:s}:e}}function aP({viewingUser:e}){return{adminUser:s,articles:Q,billing:X,boards:es,boardsections:ed,businessAccess:z,businessNux:eu,underageConfirmation:n,changeBoardFromToast:ep,contactRequests:eE,createBoardUpsell:ey,desktopStories:eA,didItData:eP,experiences:o.D,experiencesMulti:o.G,explore:eh,feeds:eO.Z,flashlight:eN,guidance:d,homefeedTabUI:eD,inbox:ev,invites:eL.Z,marketingPlan:ew,modules:eU,mostRecentBoard:eG,notifications:eM,pinbuilder:eq,pinbuilderMobile:eK,pinNavContext:eQ,pins:eX.Z,productFilters:eJ,promotionsUpsell:e1,reactions:e2,resources:c.Z,scheduledPins:e5,search:ao,session:ad,settings:ac,stories:a_,storyPinData:ap.Z,todayarticles:ay,todayArticles:aT,topics:am,triedits:aA,ui:af.rh,users:(0,ag.ZP)(e),verifiedMerchants:aC,upsell:E}}},474147:function(e,a,t){t.d(a,{J:()=>E,Z:()=>R});var r=t(636208),n=t(35831),s=t(477588),o=t(356299),i=t(388023),l=t(428725),d=t(696323);let c=new Set(["PinResource","RepinResource"]),u={ApiResource:e=>e?.url==="/v3/orientation/nux_creator_recommendations/"?"nux-creator-recommendations":e?.url==="/v3/users/me/interests/"?`recommended-interests:${e.data?.blend_type}`:e?.url===`/v3/usecases/${e.data?.use_case_id}/feed/`?"useCaseFeed":e?.url===`/v3/boards/${e.data?.board_id}/automagical/pins/`?`automagical-board-feed:${e.data?.board_id}`:"",AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${d.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>`search:${(0,s.Tb)(e)}`,BaseSearchResource:e=>`search:${(0,s.Tb)(e)}`,SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},_={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:d.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:d.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:a}})=>({type:e?d.Z.AGGREGATED_COMMENT_REPLIES:d.Z.AGGREGATED_COMMENTS,id:a,reversed:!0}),ApiResource:({options:{url:e,data:a}})=>e===`/v3/usecases/${a?.use_case_id}/feed/`?{type:d.Z.USE_CASE_TAB,id:a.use_case_id}:e===`/v3/boards/${a?.board_id}/automagical/pins/`?{type:d.Z.AUTOMAGICAL_BOARD_FEED,id:a.board_id}:null,BoardFeedResource:({options:{board_id:e}})=>({type:d.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:d.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:d.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:d.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:a,filter_types:t}})=>({type:d.Z.PROFILE_BOARDS,id:(0,o.Z)(e,a,t)}),BaseSearchResource:({options:e,response:a})=>({type:d.Z.SEARCH_PINS,id:(0,s.Tb)(e),items:a.resource_response.data?.results||[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:d.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:d.Z.TRIED_IT_FEED,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:d.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:d.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:d.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:d.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:d.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:a}})=>({type:d.Z.UNIFIED_COMMENTS,id:e,reversed:a}),UserActivityPinsResource:({options:{user_id:e}})=>({type:d.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:a}})=>({type:d.Z.STORY_PINS_FEED,id:a,items:e.resource_response.data||[]})},p=(e,{pinId:a,oldFeedId:t,newFeedId:r})=>t===r?e:((e,{pinId:a,feedId:t})=>e[t]?{...e,[t]:[{type:"pin",id:a},...e[t]]}:e)(((e,{pinId:a,feedId:t})=>e[t]?{...e,[t]:e[t].filter(e=>"pin"!==e.type||e.id!==a)}:e)(e,{pinId:a,feedId:t}),{pinId:a,feedId:r}),E=(e,a)=>e in u?u[e](a):null,S=(e,a)=>a?`board-section-pins:${a}`:`boardfeed:${e}`,y=(e,a)=>e.map(e=>{let{id:t,schema:r,type:n}=e;return"home_feed_tabs"===n?e:r?{id:t,type:r,trackingParams:"pin"===r?a.pins[t].tracking_params:void 0,user_id:void 0}:null}).filter(Boolean),T=(e,a,t)=>Object.keys(e).reduce((r,n)=>{let s=e[n]||[],o=s.filter(e=>{if(e.type!==a)return!0;if("reaction"===a){let a=e.id.lastIndexOf(":");return e.id.substring(0,a)!==t}return e.id!==t});return s.length!==o.length&&(r[n]=o),r},{...e}),R=(e={},a)=>{switch(a.type){case n.zP:case n.aW:{let{payload:t}=a,{resource:r,options:s,normalizedResponse:o,schema:c}=t;if(o&&r in u){let t=((e,a,t)=>{let r=t||i.Z[e];if(r===l.LR)return a.result;if(r===l.sN)return a.result.map(e=>({id:e,schema:"board"}));if(r===l.Gn)return a.result.map(e=>({id:e,schema:"user"}));if(r===l.Ht)return a.result.map(e=>({id:e,schema:"invite"}));if(r===l.fE)return a.result.map(e=>({id:e,schema:"reaction"}));if("object"==typeof r){let e=Object.entries(r).find(([,e])=>e===l.LR);if(e)return a.result[e[0]]}return null})(r,o,c);if(t&&Array.isArray(t)){let i=u[r](s);if("BoardToolsFeedResource"===r||"SectionToolsFeedResource"===r)return{...e,[i]:t};if("UnifiedCommentsResource"===r){let r=y(t,o.entities);if(e[i]&&(n.zP||n.aW===a.type))return{...e,[i]:[...e[i],...r]};return{...e,[i]:r}}{let r=[...a.type===n.aW&&e[i]||[],...y(t,o.entities)];return{...e,[i]:r}}}}else{let{data:r}=t.response.resource_response;if(!t.options?.redux_normalize_feed)return e;let s=_[t.resource]({options:t.options,response:t.response});if(s){let{type:t,id:o,items:i,reversed:l}=s,c=(i||r||[]).filter(Boolean).map(e=>((e,a)=>{switch(e.type){case"story":return{id:e.id??"",type:"story",story_type:e.story_type??""};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return a===d.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:let t="useCaseFeed"===a&&"tracking_params"in e;return{type:"pin",id:e.id??"",...t&&{trackingParams:e.tracking_params}}}})(e,t));l&&(c=c.reverse());let u=`${t}:${o}`,_=e[u];if(_||a.type!==n.aW){let t=_||[],r=c;return a.type===n.aW&&(r=l?c.concat(t):t.concat(c)),{...e,[u]:r}}}}break}case"FEED_ITEM_REORDERED":{let{payload:{feedType:t,feedId:n,itemType:s,targetItemId:o,sourceItemId:i}}=a,l=`${t}:${n}`,c=e[l]||[],u=-1,_=-1;if([d.Z.BOARDFEED,d.Z.BOARD_SECTION_PINS,d.Z.BOARD_SECTIONS,"profileBoards"].includes(t)&&(u=c.findIndex(e=>e.type===s&&e.id===i),_=c.findIndex(e=>e.type===s&&e.id===o)),-1!==u&&-1!==_)return{...e,[l]:(0,r.Z)(c,u,_)};break}case"FEED_ITEMS_REMOVED":{let{payload:{feedType:t,feedId:r,inverseSelection:n,itemType:s,itemIds:o=[]}}=a,i=`${t}:${r}`,l=e[i]||[];if(l&&l.length>0&&(t===d.Z.BOARD_SECTION_PINS||t===d.Z.BOARDFEED)){let a=l.filter(e=>{let a=o.includes(e.id);return!(e.type===s&&(n&&!a||!n&&a))}),t=!!a.find(e=>"pin"===e.type);return{...e,[i]:t?a:[]}}if(l&&l.length>0&&t===d.Z.BOARD_SECTIONS||l&&l.length>0&&(t===d.Z.AGGREGATED_COMMENTS||t===d.Z.BOARDLESS_PINS||t===d.Z.PROFILE_PINS_FEED||t===d.Z.STORY_PINS_FEED||t===d.Z.UNIFIED_COMMENTS||t===d.Z.TRIED_IT_FEED||t===d.Z.STORY_PIN_DATA)){let a=l.filter(e=>{let a=o.includes(e.id);return!(e.type===s&&a)});return{...e,[i]:a}}break}case"FEED_ITEMS_ADDED":{let{payload:{feedType:t,feedId:r,itemType:n,itemIds:s=[],prepend:o}}=a,i=`${t}:${r}`,l=e[i]||[];if(l&&(t===d.Z.BOARD_SECTION_PINS||t===d.Z.BOARDFEED||t===d.Z.BOARDLESS_PINS)){let a=s.map(e=>({id:e,type:n})),t=0;"story"===(l[0]||{}).type&&(t=1),"story"===(l[1]||{}).type&&(t=2);let r=[...l.slice(0,t),...a,...l.slice(t)];return{...e,[i]:r}}if(l&&t===d.Z.BOARD_SECTIONS){let a=[...s].reverse().map(e=>({id:e,type:"boardsection"})),t=l?[...a,...l]:[...a];return{...e,[i]:t}}if(t===d.Z.AGGREGATED_COMMENTS||t===d.Z.AGGREGATED_COMMENT_REPLIES||t===d.Z.PROFILE_PINS_FEED||t===d.Z.STORY_PINS_FEED||t===d.Z.UNIFIED_COMMENTS){let a=s.map(e=>({id:e,type:n})),t=l?[...o?a:l,...o?l:a]:a;return{...e,[i]:t}}if(t===d.Z.TRIED_IT_FEED){let a=s.map(e=>({id:e,type:n})),t=l?[...a,...l]:a;return{...e,[i]:t}}break}case"FEED_INVALIDATE":{let{payload:{feedType:t,feedId:r}}=a,n=`${t}:${r}`;return e[n],{...e,[n]:null}}case"APPEND_FEED_ITEMS":{let{payload:{id:t,items:r,options:n}}=a,s=e[t];if(!s)return{...e,[t]:r};{let a;return a=n.isPrepend?s[0]&&"story"===s[0].type?[].concat(s[0],r,s.slice(1)):r.concat(s):s.concat(r),{...e,[t]:a}}}case"PIN_DELETE":{let{payload:{pinId:t}}=a;return T(e,"pin",t)}case"BOARD_ARCHIVE":{let{payload:{boardId:t,username:r}}=a,n=`profile-boards:${r??""}`;if(e[n])return{...e,[n]:e[n].filter(e=>e.id!==t)};break}case"BOARD_UNARCHIVE":{let{payload:{boardId:t}}=a,r="archived-boards";if(e[r])return{...e,[r]:e[r].filter(e=>e.id!==t)};break}case"BOARD_DELETE":{let{payload:{boardId:t}}=a;return T(e,"board",t)}case"BOARD_SECTION_DELETE":{let{payload:{boardSectionId:t}}=a;return T(e,"boardsection",t)}case"PINS_MOVE":{let{payload:{source:t,target:r,pinIds:n,userId:s}}=a,o=t.boardlessPins&&s&&`boardless-pins:${s}`||t.boardId&&S(t.boardId,t.sectionId),i=S(r.boardId,r.sectionId);return n.reduce((e,a)=>p(e,{pinId:a,oldFeedId:o,newFeedId:i}),e)}case"PINS_MOVE_ALL":{let{payload:{source:t,target:r,excludePinIds:n}}=a,s=S(t.boardId,t.sectionId),o=S(r.boardId,r.sectionId),i={...e,[s]:n.map(e=>({type:"pin",id:e}))};return delete i[o],i}case"PIN_EDIT":{let{payload:{pinId:t,boardId:r,sectionId:n="",source:{boardId:s,sectionId:o}}}=a;return p(e,{pinId:t,oldFeedId:S(s,o),newFeedId:S(r,n)})}case n.AF:if(c.has(a.payload.resource)){let t,r=a.payload.response.resource_response.data,{board:n}=r;if("quick_saves"===n.layout)t=`boardless-pins:${a.payload.options.user_id}`;else{let e=a.payload.options.section;t=e?`board-section-pins:${e}`:`boardfeed:${n.id}`}if(e[t]){let a={...e},n={id:r.id,type:"pin",trackingParams:r?.tracking_params};return a[t]=[n].concat(e[t]),a}}if("BoardSectionResource"===a.payload.resource&&a.payload.normalizedResponse){let t=a.payload.normalizedResponse.result,r=a.payload.normalizedResponse.entities.boardsections[t].board,n=`board-sections:${r}`;if(e[n]){let a={...e};return a[n]=[{id:t,type:"boardsection"}].concat(e[n]),a}}if("AggregatedCommentResource"===a.payload.resource&&a.payload.normalizedResponse){let t={id:a.payload.normalizedResponse.result,type:"aggregatedcomment"},r={...e};for(let n of["aggregated-comments","unified-comments"]){let s=`${n}:${a.payload.options.objectId}`;e[s]&&(r={...r,[s]:[t].concat(r[s])})}return r}if("AggregatedCommentReplyResource"===a.payload.resource&&a.payload.normalizedResponse){let t=`${d.Z.AGGREGATED_COMMENT_REPLIES}:${a.payload.options.objectId}`;return{...e,[t]:[...e[t]||[],{id:a.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===a.payload.resource&&a.payload.normalizedResponse){let{reaction_pin_id:t,reaction_type:r}=a.payload.options;if("reaction"===a.payload.options.action_type){let n=`reactions:${a.payload.options.pin_id}`,s={...e},o={id:`${t}:${a.payload.options.user_id}:${r}`,type:"reaction",trackingParams:void 0};return s[n]=[o].concat(e[n]),s}if("unreaction"===a.payload.options.action_type)return T(e,"reaction",`${t}:${a.payload.options.user_id}`)}}return e}},969009:function(e,a,t){t.d(a,{U:()=>n,Z:()=>o});var r=t(63064);let n=e=>`${e.board}:${e.invited_user??""}`,s=(e,a)=>({...e,[n(a)]:{...e[n(a)],...a,invited_user:a.invited_user??e[n(a)].invited_user}}),o=(0,r.Z)("collaboratorinvite",(e,a)=>{switch(e=e||{},a.type){case"BOARD_COLLABORATOR_DELETE":return s(e,{board:a.payload.boardId,invited_user:a.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":let{boardId:t,viewingUser:r,status:o,collaboratingUsers:i}=a.payload;return i.map(e=>e?.id).filter(Boolean).reduce((e,a)=>{let i={access:["delete"],board:t,invited_user:a,invited_by_user:r,status:o,type:"collaboratorinvite"},l=n(i);return e[l]&&"not_invited"!==e[l].status?e:s(e,i)},{...e});case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return s(e,{board:a.payload.boardId,invited_user:a.payload.collaboratingUser?.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":let l=a.payload.isRequestToJoin?"accepted":"new";return s(e,{board:a.payload.boardId,invited_user:a.payload.collaboratingUser?.id??"",status:l});case"BOARD_INVITE_DENIED_BY_VIEWER":let d=n({board:a.payload.boardId,invited_user:a.payload.userId}),{[d]:c,...u}=e;return u;default:return e}})},774018:function(e,a,t){t.d(a,{E:()=>n,Z:()=>s});var r=t(991384);let n={pinAdditionalNote:"",pinAdditionalNoteError:null,description:"",descriptionError:null,editorInstanceId:"",isTaggable:!0,link:"",linkError:null,media:null,pinTagIds:[],selectedPinTagId:null,tagError:null,title:"",titleError:null,canvasJson:null,signals:{},userMentionTags:[]},s=(e,a)=>{switch(e=e||n,a.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_UPDATE_DATA":{let{pinItem:t}=a.payload;return{...e,...t,signals:{...e.signals,...t?.signals}}}case"PIN_ITEM_ADD_PIN_TAG":{let{pinTagId:t}=a.payload;return{...e,pinTagIds:[...e.pinTagIds,t]}}case"PIN_ITEM_REMOVE_PIN_TAG":{let{pinTagId:t}=a.payload;return{...e,pinTagIds:e.pinTagIds.filter(e=>e!==t)}}case"PIN_ITEM_SET_DESCRIPTION":{let{description:t}=a.payload;return{...e,description:t}}case"PIN_ITEM_SET_DESCRIPTION_ERROR":{let{descriptionError:t,signals:r}=a.payload;return{...e,descriptionError:t,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_IS_TAGGABLE":{let{isTaggable:t}=a.payload;return{...e,isTaggable:t}}case"PIN_ITEM_SET_LINK":{let{link:t}=a.payload;return{...e,link:t}}case"PIN_ITEM_SET_LINK_ERROR":{let{linkError:t,signals:r}=a.payload;return{...e,linkError:t,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_MEDIA":{let{media:t}=a.payload,r=t?.type!=="localVideo"&&(!!t&&!e.link||e.isTaggable);return{...e,canvasJson:null,isTaggable:r,media:t,...null===t?{originalMedia:null}:{},pinTagIds:[],selectedPinTagId:null}}case"PIN_ITEM_UPDATE_MEDIA":{let{media:t}=a.payload;return{...e,media:e.media?(0,r.Z)(e.media,t):null}}case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{let{selectedPinTagId:t}=a.payload;return{...e,selectedPinTagId:t}}case"PIN_ITEM_SET_TAG_ERROR":{let{tagError:t}=a.payload;return{...e,tagError:t}}case"PIN_ITEM_SET_TITLE":{let{title:t}=a.payload;return{...e,title:t}}case"PIN_ITEM_SET_TITLE_ERROR":{let{titleError:t,signals:r}=a.payload;return{...e,titleError:t,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_EDITED_IMAGE":{let{editedMedia:t,canvasJson:r}=a.payload;return{...e,media:t,originalMedia:e.originalMedia||e.media,canvasJson:r}}default:return e}}},408998:function(e,a,t){t.d(a,{Z:()=>m});var r=t(422578),n=t(172045),s=t(503246),o=t(991384),i=t(35831),l=t(123317),d=t(63064),c=t(797471);let u=e=>e||[],_=e=>e?e.reduce((e,a)=>a?.objects?e.concat(a.objects):e.concat([a].filter(Boolean)),[]):[],p=e=>e&&Array.isArray(e)?e.map(e=>e.content_pin).filter(e=>!!e):[],E={ApiResource:e=>{if(e&&Array.isArray(e)){let a=[];return e.forEach(e=>{e.call_to_create_source_pin_id?a.push(e):"story"===e.type&&e.objects&&Array.isArray(e.objects)?e.objects.forEach(e=>{a.push(e)}):"pin"===e.type&&a.push(e)}),a}return[]},BaseSearchResource:e=>e?_(e.results):[],BoardContentRecommendationResource:u,BoardFeedResource:u,BoardlessPinsResource:u,BoardSectionPinsResource:u,BoardShopSavedProductsFeedResource:u,BrandCatalogFeedResource:u,CategoryFeedResource:u,DomainFeedResource:u,InterestResource:e=>e?e.results:[],LiveSessionProductsResource:e=>e?Object.values(e).reduce((e,a)=>e.concat(a),[]):[],NewsHubDetailsResource:e=>e?e.reduce((e,a)=>a.content_items?e.concat(a.content_items.map(e=>e.content_object).filter(Boolean)):e,[]):[],RelatedModulesResource:_,RelatedPinFeedResource:u,RelatedStreamResource:u,SearchResource:u,TaggedObjectsResource:_,TodayArticleFeedResource:e=>(0,c.nx)(e)?e.reduce((e,a)=>{if(Array.isArray(a.objects)){let t=[];return a.objects.forEach(e=>{"todayarticle"===e.type&&e.content_pin?.type==="pin"?t.push(e.content_pin):"pin"===e.type&&t.push(e)}),e.concat(t)}return e},[]):e||[],TodayTabInterestFeedResource:p,TodayTabResource:p,TopicFeedResource:u,UserHomefeedResource:_,UserActivityPinsResource:u,UserRecentActivityResource:u,UserStoryPinsFeedResource:u,UserPinsResource:u,VisualLiveSearchResource:e=>e?e.results:[],VisualLiveSearchProductFeedResource:u,VisualLinkVisualSearchResource:u,VisualSearchFlashlightUnifiedResource:e=>e?_(e.results):[],BestPinsFeedAltResource:u,StoryFeedResource:_};var S=t(564088);let y=(e,a,t=!1)=>{let r=(0,o.Z)(e,a,t?(e,a)=>null===a?e:void 0:void 0);return(0,s.ZP)(e,r)?e:r},T=(e,a)=>({...e,[a.id]:{...e[a.id]||{},...a}});function R(e,a){let t=(0,S.Ig)();switch(a.type){case"CHANGE_CAROUSEL_SLOT_INDEX":{let{id:t,index:r}=a.payload;if(t===e.id&&e.carousel_data)return{...e,carousel_data:{...e.carousel_data,index:r}};return e}case"SET_PIN_COMMENTS_DISABLED":{let{id:t,pinCommentsDisabled:r}=a.payload;if(t===e.id)return{...e,comments_disabled:r,is_eligible_for_aggregated_comments:!r};return e}case"PIN_SAVE":{let{boardId:n,localPinId:s,id:o,title:i,url:l,nodeId:d}=a.payload;if(o===e.id)return t&&d&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(d);a||(a=e.create(d,"Pin"));let t=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(n,"boardId"),t.setValue(s,"localPinId"),t.setValue(null,"score"),t.setValue(null,"sectionId"),t.setValue__UNSAFE(i,"title"),t.setValue(null,"type"),t.setValue(l,"url")}),{...e,savedInfo:{boardId:n,title:i,url:l,localPinId:s}};return e}case"PIN_UNSAVE":{let{id:n,nodeId:s}=a.payload;if(n===e.id){t&&s&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(s);a&&a.setValue(null,"savedInfo")});let{savedInfo:a,...n}=e;return n}return e}case"PIN_SHOW_SUGGESTED_CREATOR_RECS":if(a.payload.id===e.id)return{...e,show_suggested_creator_recs:a.payload.value};return e;case"PIN_QUICK_SAVE":{let{pinId:n,boardId:s,localPinId:o,title:i,url:l,nodeId:d}=a.payload;if(n===e.id)return t&&d&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(d);a||(a=e.create(d,"Pin"));let t=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(s,"boardId"),t.setValue(o,"localPinId"),t.setValue(null,"score"),t.setValue(null,"sectionId"),t.setValue__UNSAFE(i,"title"),t.setValue(null,"type"),t.setValue(l,"url")}),{...e,savedInfo:{boardId:s,localPinId:o,title:i,url:l}};return e}case"PIN_SHOW_FEEDBACK":{let{id:s,value:o,text:i,nodeId:l}=a.payload;if(s===e.id)return t&&l&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(l);a||(a=e.create(l,"Pin")),a.setValue(o,"showFeedback");let t=a.getOrCreateLinkedRecord("feedbackText","FeedbackText");t.setValue__UNSAFE(i?.title,"title"),t.setValue__UNSAFE(i?.subTitle,"subTitle");let{unfollow:r,undoCallbackProps:s}=i??{},d=t.getOrCreateLinkedRecord("unfollow","Unfollow");d.setValue(r?.action,"action"),d.setValue__UNSAFE(r?.title,"title"),d.setValue__UNSAFE(r?.subTitle,"subTitle");let c=t.getOrCreateLinkedRecord("undoCallbackProps","UndoCallbackProps");c.setValue(s?.action,"action"),c.setValue(s?.viewType,"viewType"),c.setValue(s?.viewParameter,"viewParameter");let u=(a,t)=>{let r=a.getOrCreateLinkedRecord("actionOptions","ActionOptions");if(r.setValue(t?.board_id,"boardId"),r.setValue(t?.interest_id,"interestId"),r.setValue(t?.interest_list,"interestList"),r.setValue(t?.complaint_reason,"complaintReason"),r.setValue(t?.feedback_type,"feedbackType"),r.setValue(t?.pin_id,"pinId"),r.setValue(t?.pin_type,"pinType"),r.setValue(t?.pin,"pin"),r.setValue(t?.promoted,"promoted"),r.setValue(t?.recommendation_reason_id,"recommendationReasonId"),r.setValue(t?.undo,"undo"),r.setValue(t?.user_id,"userId"),r.setValue(t?.query,"query"),r.setValue(t?.news_id,"newsId"),r.setValue(t?.through_id,"throughId"),r.setValue(t?.client_tracking_params,"clientTrackingParams"),r.setValue(t?.is_third_party_ad,"isThirdPartyAd"),t?.through_properties){let a=Object.entries(t.through_properties).map(([a,t])=>{let r=e.create((0,n.Z)(),"ThroughProperties");return r?.setValue(t,"data"),r?.setValue(a,"key"),r});r.setLinkedRecords(a,"throughProperties")}};u(d,r?.actionOptions),u(c,s?.actionOptions)}),{...e,showFeedback:o,feedbackText:i};return e}case"PIN_UPDATE_COMMENT_COUNT":{let{id:t,increment:r}=a.payload;if(t===e.id&&e.aggregated_pin_data){let a={...e.aggregated_pin_data,comment_count:(e.aggregated_pin_data.comment_count||0)+r};return{...e,aggregated_pin_data:a}}return e}case"PIN_DID_IT":{let{id:t,value:r}=a.payload;if(t===e.id){let a=(e.aggregated_pin_data||{}).did_it_data,t={...a,images_count:(a?.images_count||0)+(r?1:-1)},n={...e.aggregated_pin_data,did_it_data:t};return{...e,aggregated_pin_data:n,done_by_me:r}}return e}case"PIN_SHOW_FEEDBACK_OVERLAY":{let{id:n,value:s,nodeId:o}=a.payload;if(n===e.id)return t&&o&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(o);a||(a=e.create(o,"Pin")),a.setValue(s,"showFeedbackOverlay")}),{...e,showFeedbackOverlay:s};return e}case"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL":if(a.payload.id===e.id)return{...e,show_fewer_weight_loss_ads:a.payload.value};return e;case"APPROVE_PIN_SPONSORSHIP":{let{isApproved:t,pinId:r}=a.payload;if(r===e.id)return{...e,sponsorship:{...e.sponsorship,sponsor:t?e.sponsorship?.sponsor:void 0,status:t?1:2}};return e}case"DELETE_PIN_SPONSORSHIP":{let{pinId:t,userId:r}=a.payload;if(t===e.id){if(r===e.sponsorship?.creator?.id)return{...e,sponsorship:void 0};else if(r===e.sponsorship?.sponsor?.id)return{...e,sponsorship:{...e.sponsorship,sponsor:void 0,status:3}}}return e}case"PIN_UPDATE_REACTION_COUNT":{let{id:t,increment:r,reactionType:n}=a.payload;if(t===e.id){let{reaction_counts:a={}}=e,t=a[n]||0,s=r?t+1:Math.max(t-1,0),o=r?n:0;if(0!==s)return{...{...e,reaction_counts:{...a,[n]:s},reaction_by_me:o}};{let t={...e,reaction_counts:{...a},reaction_by_me:o};return delete t.reaction_counts[n],{...t}}}return e}case"PIN_BETTER_SAVE":{let{pinId:n,boardId:s,localPin:o,localPinId:i,sectionId:l,title:d,type:c,url:u,nodeId:_}=a.payload;if(n===e.id)return t&&_&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(_);a||(a=e.create(_,"Pin"));let t=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(s,"boardId"),t.setValue(i,"localPinId"),t.setValue(null,"score"),t.setValue(l,"sectionId"),t.setValue__UNSAFE(d,"title"),t.setValue(c,"type"),t.setValue(u,"url")}),{...e,savedInfo:{boardId:s??"",localPinId:i||o&&o.id,sectionId:l,title:d,type:c,url:u}};return e}case"PIN_BETTER_SAVE_CUTOUT":{let{pinId:n,boardId:s,localPinId:o,title:i,type:l,url:d,nodeId:c}=a.payload;if(n===e.id)return t&&c&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(c);a||(a=e.create(c,"Pin"));let t=a.getOrCreateLinkedRecord("savedCutout","SaveTarget");t.setValue(s,"boardId"),t.setValue(o,"localPinId"),t.setValue__UNSAFE(i,"title"),t.setValue(l,"type"),t.setValue(d,"url")}),{...e,savedCutout:{boardId:s??"",localPinId:o,title:i,type:l,url:d}};return e}case"PIN_BETTER_UNSAVE":{let{pinId:n,nodeId:s}=a.payload;if(n===e.id){t&&s&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(s);a&&a.setValue(null,"savedInfo")});let{savedInfo:a,...n}=e;return n}return e}case"PIN_BETTER_UNSAVE_CUTOUT":{let{pinId:n,nodeId:s}=a.payload;if(n===e.id){t&&s&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(s);a&&a.setValue(null,"savedCutout")});let a={...e};return delete a.savedCutout,{...a}}return e}case"PIN_BETTER_SELECT_BOARD_CUTOUT":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":{let{pinId:n,boardId:s,sectionId:o,score:i,title:l,type:d,url:c,nodeId:u}=a.payload;if(n===e.id)return t&&u&&(0,r.commitLocalUpdate)(t,e=>{let a=e.get(u);a||(a=e.create(u,"Pin"));let t=a.getOrCreateLinkedRecord("selectedItem","SaveTarget");t.setValue(s,"boardId"),t.setValue(null,"localPinId"),t.setValue(i,"score"),t.setValue(o,"sectionId"),t.setValue__UNSAFE(l,"subTitle"),t.setValue(d,"type"),t.setValue(c,"url")}),{...e,selectedItem:{boardId:s??"",sectionId:o,score:i,title:l,type:d,url:c}};return e}case"DELETE_PIN_MENTION":{let{pinId:t,userId:r}=a.payload;if(t===e.id){let{story_pin_data:a}=e;if(!a)return e;let{pages:t=[]}=a,n=t.map(e=>{let{blocks:a=[]}=e,t=a.map(e=>e.type===l.h8.MENTION_STICKER&&e.user_id===r?{...e,is_removed:!0}:e);return{...e,blocks:t}});return{...{...e,story_pin_data:{...a,pages:n}}}}return e}case"PIN_FAVORITE":{let{id:t,increment:r,value:n}=a.payload,{favorite_user_count:s=0}=e;if(t===e.id)return{...e,favorited_by_me:n,favorite_user_count:s+r};return e}default:return e}}let m=(0,d.Z)("pins",(e,a)=>{let t=e||{},n=(0,S.Ig)();switch(a.type){case i.zP:case i.aW:{let{options:e,resource:r,response:{resource_response:{data:n}}}=a.payload,{isDesktop:s}=e||{};if(r in E){let e=E[r](n)||[],a={...t};return e.forEach(e=>{e.type&&"pin"!==e.type||(a[e.id]=y(t[e.id],e,!0))}),a}if(("PinResource"===r||"PinPageResource"===r)&&n){let{preserve_component_state:a=!1}=e??{},r=n||{};return{...t,[r.id]:a?y(r,t[r.id]):y(t[r.id],r)}}if("ApiResource"===r&&e?.url?.match(/\/v3\/pins\/([0-9]|[a-z]|[A-Z])+\/board_title_suggestions\//)){if(a.type===i.zP&&a.payload.options?.pin_id)return T(t,{id:a.payload.options.pin_id,boardTitleSuggestions:a.payload.response.resource_response.data.map(e=>e.title)})}else if("BoardPickerBoardsResource"!==r||s){if("PinInterestsResource"===r){if(a.type===i.zP&&a.payload.options?.pinId){let{options:e,response:r}=a.payload,n=r.resource_response.data;if(n?.length)return T(t,{id:e.pinId,related_interest_ids:n.map(e=>e.id)})}}else if("StoryPinTaggedProductsResource"===r&&a.type===i.zP){let{response:e}=a.payload,r=e.resource_response.data;if(r?.[0])return r.reduce((e,a)=>T(e,a),t)}}else if(a.type===i.zP&&a.payload.normalizedResponse&&a.payload.options?.pin_id){let e=a.payload.options.pin_id,{boards_shortlist:r}=a.payload.normalizedResponse.result;return T(t,{id:e,boards_shortlist:r})}return t}case i.AF:let{payload:s}=a,o=({name:e,url:a,privacy:t,boardNodeId:s,boardId:o,nodeId:i})=>{n&&i&&(0,r.commitLocalUpdate)(n,r=>{let n=r.get(i);n||(n=r.create(i,"Pin")),t&&n.setValue(t,"privacy");let l=r.get(s);l||((l=r.create(s,"Board")).setValue(o,"entityId"),l.setValue(e,"name"),l.setValue(a,"url"),l.setValue("board","type")),n.setLinkedRecord(l,"pinnedToBoard")})};if("RepinResource"===s.resource){let{pin_id:e,board_id:a}=s.options,{board:r}=s.response.resource_response.data,{name:n,url:i,privacy:l,node_id:d}=r;return o({name:n,url:i,privacy:l,boardNodeId:d,nodeId:t?.[e]?.node_id,boardId:a}),T(t,{id:e,pinned_to_board:{id:a,name:n,url:i,node_id:d,type:"board"},privacy:l})}if("BoardResource"===s.resource&&s.options.initial_pins){let e=s.options.initial_pins[0],{name:a,id:r,url:n,node_id:i}=s.response.resource_response.data;return o({name:a,url:n,boardNodeId:i,nodeId:t?.[e]?.node_id,boardId:r}),T(t,{id:e,pinned_to_board:{id:r,name:a,url:n,node_id:i,type:"board"}})}return t;case"CHANGE_CAROUSEL_SLOT_INDEX":case"PIN_DID_IT":case"PIN_SAVE":case"PIN_SHOW_SUGGESTED_CREATOR_RECS":case"PIN_UNSAVE":case"PIN_UPDATE_COMMENT_COUNT":case"SET_PIN_COMMENTS_DISABLED":case"PIN_SHOW_FEEDBACK":case"PIN_SHOW_FEEDBACK_OVERLAY":case"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL":case"PIN_FAVORITE":case"PIN_UPDATE_REACTION_COUNT":{let{id:e}=a.payload;if(!t[e])return t;return{...t,[e]:R(t[e],a)}}case"PIN_BETTER_SAVE":{let{payload:{localPin:e,pinId:r,nodeId:n}}=a,s={...t};return e&&"pin"===e.type&&(s[e.id]=e),s[r]=R(t[r]??{id:r,node_id:n??void 0,type:"pin"},a),s}case"PIN_BETTER_SAVE_CUTOUT":{let{payload:{localPin:e,pinId:r,nodeId:n}}=a,s={...t};return e&&"pin"===e.type&&(s[e.id]=e),t&&(s[r]=R(t[r]??{id:r,node_id:n,type:"pin"},a)),s}case"PIN_BETTER_SELECT_BOARD_CUTOUT":{let{pinId:e,nodeId:r}=a.payload,n={...t};return t&&(n[e]=R(t[e]??{id:e,node_id:r,type:"pin"},a)),n}case"APPROVE_PIN_SPONSORSHIP":case"DELETE_PIN_SPONSORSHIP":case"PIN_BETTER_UNSAVE":case"PIN_BETTER_UNSAVE_CUTOUT":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":case"PIN_QUICK_SAVE":case"DELETE_PIN_MENTION":{let{pinId:e}=a.payload;if(!t[e])return t;return{...t,[e]:R(t[e],a)}}case"UPDATE_PINS_WITH_QUICKSAVE_REPIN":{let{payload:{newPin:e}}=a;if(e&&"pin"===e.type)return{...t,[e.id]:e};return t}case"PIN_REMOVE_USER_STORY_PIN_TAGGED_PRODUCTS":{let{payload:{blocksIds:e,pinId:r}}=a,n={...t},s=n[r];return s={...s,story_pin_data:{...s.story_pin_data,pages:s.story_pin_data?.pages?.map(a=>(a.blocks=a.blocks?.map(a=>("story_pin_product_sticker_block"===a.type&&e.includes(a.pin_id||"")&&(a.is_removed=!0),a)),a))??[]}},n[r]=s,n}case"UPDATE_PIN_REACTION_COUNT":let{pinId:l,increment:d,reactionType:c}=a.payload;if(!t[l])return t;let u=t[l].reaction_counts??{},_=u[c]??0,p=d?_+1:Math.max(_-1,0);return 0===p?(delete t[l].reaction_counts?.[c],T(t,{id:l,reaction_counts:{...u}})):T(t,{id:l,reaction_counts:{...u,[c]:p}});case"PIN_DELETE":{let{pinId:e}=a.payload;return{...Object.keys(t).reduce((a,r)=>(r!==e&&(a[r]=t[r]),a),{})}}case"PIN_EDIT":{let{pinId:e,description:r,boardId:n,sectionId:s,title:o}=a.payload;return T(t,{id:e,closeup_user_note:r,board:{id:n,type:"board"},section:{id:s},title:o,unified_user_note:r})}case"ONE_TAP_SAVE":{let{boardId:e,localPinId:s,pinId:o,nodeId:i}=a.payload;if(t[o])return n&&i&&(0,r.commitLocalUpdate)(n,a=>{let t=a.get(i);t||(t=a.create(i,"Pin"));let r=t.getOrCreateLinkedRecord("savedInfo","SaveTarget");r.setValue(e,"boardId"),r.setValue(s,"localPinId"),r.setValue(null,"score"),r.setValue(null,"sectionId"),r.setValue__UNSAFE(null,"title"),r.setValue(null,"type"),r.setValue(null,"url")}),T(t,{id:o,savedInfo:{boardId:e,localPinId:s}})}return t;case"ONE_TAP_UNSAVE":{let{pinId:e,nodeId:s}=a.payload,o=t[e];if(!o)return t;n&&s&&(0,r.commitLocalUpdate)(n,e=>{let a=e.get(s);a&&a.setValue(null,"savedInfo")});let{savedInfo:i,...l}=o;return{...t,[e]:l}}default:return t}})},526950:function(e,a,t){t.d(a,{Z:()=>n});var r=t(35831);let n=(e,a)=>{switch(e=e||{},a.type){case r.zP:case r.aW:{let{response:t,resource:r}=a.payload,{data:n}=t.resource_response;if("StoryPinDraftsResource"===r){let a=(n||[]).filter(Boolean).reduce((e,a)=>(e[a.id]=a,e),{});return{...e,...a}}return e}case"STORY_PIN_DATA_DELETE":{let{storyPinDataId:t}=a.payload,r={...e};return delete r[t],r}default:return e}}},436968:function(e,a,t){t.d(a,{XT:()=>d,rh:()=>u,Cp:()=>c,xw:()=>_});var r=t(14890);let n={current:null,locationToErrorMap:{}},s={step:"welcome"},o={images:[]},i={images:[]},l={recentSaves:[],recentUpsell:{}},d={mainComponent:(e,a)=>{if(e=e||n,"SET_LOCATION_TO_ERROR_MAP_ENTRY"===a.type){let t={...e.locationToErrorMap};return t[a.payload.pathname]=a.payload.renderError,{...e,locationToErrorMap:t}}if("UNSET_LOCATION_TO_ERROR_MAP_ENTRY"===a.type){let t={...e.locationToErrorMap};return delete t[a.payload.pathname],{...e,locationToErrorMap:t}}return e}},c={nuxSelectedInterestImages:(e,a)=>(e=e||o,"SET_NUX_SELECTED_INTEREST_IMAGES"===a.type)?{...e,images:a.payload.images}:e,nuxSelectedPinImages:(e,a)=>(e=e||i,"SET_NUX_SELECTED_PIN_IMAGES"===a.type)?{...e,images:a.payload.images}:e,nuxProgress:(e,a)=>(e=e||s,"SET_NUX_PROGRESS"===a.type)?{...e,step:a.payload.step}:e,postRepinMoreIdeasUpsell:(e,a)=>{switch(e=e||l,a.type){case"PIN_BETTER_SAVE":{let{localPin:t,boardId:r}=a.payload;if(!t||!r)return e;return{...e,recentSaves:[{boardId:r},...e.recentSaves]}}case"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN":{let{boardId:t}=a.payload;return{...e,recentUpsell:{...e.recentUpsell,[t]:Date.now()}}}default:return e}}},u=(0,r.combineReducers)({...d,...c}),_=(0,r.combineReducers)(d)},534726:function(e,a,t){t.d(a,{ZP:()=>c});var r=t(35831),n=t(63064);let s=["SearchResource","UserFollowingResource"],o=(e,a)=>({...e,[a.id]:{...e[`${a.id}`],...a}}),i=(e,a)=>a.reduce((e,a)=>{let{type:t}=a;return t&&"user"!==t?e:o(e,a)},{...e});function l(e,a){switch(a.type){case"UPDATE_USER_PIN_COUNT":{let{payload:{increment:t}}=a;return{...e,pin_count:(e.pin_count||0)+t}}case"USER_FOLLOW":let{value:t}=a.payload;return{...e,explicitly_followed_by_me:t,follower_count:(e.follower_count??0)+(t?1:-1)};case"USER_FOLLOWING_COUNT":let{following:r}=a.payload;return{...e,following_count:(e?.following_count??0)+(r?1:-1)};case"USER_BLOCK":return{...e,blocked_by_me:a.payload.value,...a.payload.value?{explicitly_followed_by_me:!1}:{}};default:return e}}function d(e){let a=(e&&e.id)??"";return{[a]:{...e||{},id:a}}}function c(e){let a=(e&&e.id)??"";return(0,n.Z)("users",(t=d(e),n)=>{let c=a?t[a]:void 0;switch(n.type){case"REPLACE_STATE":return{...t,...n.payload.users};case"BOARD_SECTION_DELETE":{let{userId:e,pinCount:a}=n.payload,r=t[e]?.pin_count??0;return o(t,{id:e,pin_count:r-a})}case r.AF:{let{options:e,resource:a,response:r}=n.payload,s=e.user_id;if(s){let{board_count:n=0,pin_count:i=0}=t[s]||{},{resource_response:l}=r;if("BoardResource"===a){let{initial_pins:a}=e,{owner:r={}}=l.data;return o(t,{id:s,pin_count:r.pin_count||i+a.length,board_count:n+1,last_repin_id:a[0]})}if("RepinResource"===a||"PinResource"===a&&"uploaded"===e.method){let{pin_id:a}=e,{pinner:r={}}=l.data;return o(t,{id:s,pin_count:(r.pin_count||i)+1,last_repin_id:a})}}return t}case r.zP:case r.aW:let{resource:u,normalizedResponse:_,options:p,response:{resource_response:{data:E}}}=n.payload;if(n.type===r.zP&&"BoardPickerBoardsResource"===u&&_)return o(t,{id:p?.user_id||"",recent_boards:_.result.boards_shortlist});if("UserResource"===u&&E)return o(t,E);if(s.includes(u)&&E)return i(t,E);if("TodayArticleResource"===u&&E?.article_creator_user)return o(t,E.article_creator_user);if("TodayArticleFeedResource"===u&&Array.isArray(E))return i(t,E.filter(e=>"story"===e.type&&e.user?.type==="user").map(e=>e.user));return t;case"USER_BLOCK":let{payload:{id:S}}=n;if(t[S])return{...t,[S]:l(t[S],n)};return t;case"USER_FOLLOW":let{payload:{id:y}}=n;if(t[y])return{...t,[y]:l(t[y],n)};return t;case"USER_FOLLOWING_COUNT":let{payload:{id:T}}=n;if(t&&t[T])return{...t,[T]:l(t[T],n)};return t;case"USER_BULK_FOLLOW":let{ids:R,value:m}=n.payload,A={...t};return R.forEach(e=>{let a=t[e];A[e]={...a,explicitly_followed_by_me:m}}),A;case"USER_SETTING_CHANGE":return o(t,{id:n.payload.id,[n.payload.field]:n.payload.value});case"USER_PARTNER_SETTING_CHANGE":let f;return f={id:n.payload.id,partner:{[n.payload.field]:n.payload.value}},{...t,[f.id]:{...t[f.id],partner:{...t[f.id].partner,...f.partner}}};case"UPDATE_USER_PIN_COUNT":{let{payload:{userId:e}}=n;if(t[e])return{...t,[e]:l(t[e],n)};return t}case"UPDATE_USER_SCHEDULED_PIN_COUNT":{let{payload:{userId:e,increment:a}}=n,r=t[e],s=r.scheduled_pin_count||0;return{...t,[e]:{...r,scheduled_pin_count:s+a}}}case"PROFILE_COVER_SOURCE":let{payload:{coverSource:g,id:I}}=n,C=t[I]||{};return{...t,[I]:{...C,profile_cover:g}};case"BOARD_CREATE_COMPLETE":if(c&&!c.has_quicksave_board)return{...t,[c.id]:{...c,board_count:void 0===c.board_count?void 0:c.board_count+1}};return t;case"BOARD_DELETE":if(c){let{boardPinCount:e}=n.payload,a=c.pin_count??0;return{...t,[c.id]:{...c,board_count:c.board_count?c.board_count-1:c.board_count,pin_count:a-(e??0)}}}return t;case"PIN_DELETE":return o(t,{id:n.payload.userId,pin_count:(t[n.payload.userId]?.pin_count??0)-1});case"PIN_ADD":let{pinnerId:P}=n.payload;return o(t,{id:P,pin_count:(t[P]?.pin_count??0)+1});case"SET_PERSONALIZATION_COOKIES":if(c){let{payload:e}=n;return{...t,[c.id]:{...c,allow_personalization_cookies:e.value}}}return t;case"SET_ANALYTICS_COOKIES":if(c){let{payload:e}=n;return{...t,[c.id]:{...c,allow_analytic_cookies:e.value}}}return t;case"SET_MARKETING_COOKIES":if(c){let{payload:e}=n;return{...t,[c.id]:{...c,allow_marketing_cookies:e.value}}}return t;case"ALLOW_ALL_COOKIES":if(c)return{...t,[c.id]:{...c,allow_personalization_cookies:!0,allow_analytic_cookies:!0,allow_marketing_cookies:!0}};return t;case"REJECT_ALL_COOKIES":if(c)return{...t,[c.id]:{...c,allow_personalization_cookies:!1,allow_analytic_cookies:!1,allow_marketing_cookies:!1}};return t;case"AUTHENTICATE_USER":case"REGISTER_USER":let h=n.payload.user.id;return a=h,{...t,[h]:{...t[h],...n.payload.user}};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":let O=n.payload;if(c&&c.firstHomeFeedRequestAfterNux!==O)return{...t,[c.id]:{...c,firstHomeFeedRequestAfterNux:O}};return t;case"UPDATE_USER_SET":if(c){let e=n.payload.partner?{...c.partner,...n.payload.partner}:c.partner;return{...t,[c.id]:{...c,...n.payload,partner:e}}}return t;case"UPDATE_USER_SOCIAL_NETWORK":if(c){let e=n.payload.socialNetworkName;return{...t,[c.id]:{...c,[`connected_to_${e}`]:n.payload.connected}}}return t;case"UPDATE_HAS_QUICKSAVE_BOARD":let{createdQuicksaveBoard:N}=n.payload;if(c&&c.has_quicksave_board!==N){let{createdQuicksaveBoard:e}=n.payload;return{...t,[c.id]:{...c,has_quicksave_board:e}}}return t;case"UPDATE_USER_SAVE_BEHAVIOR":let{saveBehavior:D}=n.payload;if(c&&c.save_behavior!==D)return{...t,[c.id]:{...c,save_behavior:D}};return t;case"USER_DOMAIN_VERIFIED":if(c&&c.verified_user_websites){let{verifiedWebsite:e}=n.payload;return{...t,[c.id]:{...c,verified_user_websites:[...c.verified_user_websites,e],is_any_website_verified:!0}}}return t;case"USER_DOMAIN_UNVERIFIED":if(c&&c.verified_user_websites){let{verifiedWebsite:e}=n.payload,a=c.verified_user_websites&&c.verified_user_websites.indexOf(e),r=c.verified_user_websites&&c.verified_user_websites.slice(0);return r&&r.splice(a,1),{...t,[c.id]:{...c,verified_user_websites:r,isAnyWebsiteVerified:r&&r.length>0}}}return t;default:return t}})}},236688:function(e,a,t){function r(e){let{users:a}=e;if(!a)return;let t=Object.keys(a).find(e=>void 0!==a[e].login_state);return t?a[t]:void 0}t.d(a,{Z:()=>r})},452750:function(e,a,t){t.d(a,{Z:()=>n});var r=t(640785);function n(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:r.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},210031:function(e,a,t){t.d(a,{$:()=>y,G:()=>T});var r=t(281098),n=t(667294),s=t(422578),o=t(825332),i=t(274320),l=t(15667);function d(e){let a={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:a}=e;switch(a.kind){case"Pending":throw a.promise;case"Ok":return a.value;case"Err":throw a.error;default:throw Error("Unexpected case")}})(a)};return e.then(e=>{a.result={kind:"Ok",value:e}}).catch(e=>{a.result={kind:"Err",error:e}}),a}var c=t(850954),u=t(603316),_=t(785893);let p=(0,n.createContext)(null),E=/(^\/)|:|(\/$)/g,S=/\//g,y=({children:e})=>{(0,n.useEffect)(()=>{(0,r.Z)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let a=(0,s.useRelayEnvironment)(),{checkExperiment:t}=(0,i.r)(),d=(0,l.B)(),y=(0,n.useRef)({}),T=(0,n.useCallback)(e=>{let{rootComponent:r,loadedValueState:n}=m(R(y.current,e),e,"Both",a,t,d);return"NotYetRendered"===n.performanceLoggingState.kind&&(n.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:r,onEntrypointDataLoaded:a=>{if("InitiallyRendered"===n.performanceLoggingState.kind){let t=Date.now();(0,u.LY)("entrypointRouter.routeTiming."+e.kind.replace(E,"").replace(S,"_"),t-n.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:a??{}}),n.performanceLoggingState={kind:"Complete"}}},loadedValue:n.loadedValue}},[t,a,d]),A=(0,o.s0)(),f=(0,n.useCallback)(e=>{m(R(y.current,e),e,"Both",a,t,d),A((0,c.w)(e))},[A,t,a,d]),g=(0,n.useCallback)((e,r)=>{let n=R(y.current,e);"Both"===r&&m(n,e,r,a,t,d)},[t,a,d]),I=(0,n.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:T,preload:g,imperativelyNavigate:f}),[T,f,g]);return(0,_.jsx)(p,{value:I,children:e})};function T(){let e=(0,n.useContext)(p);if(null==e)throw Error("Missing entrypoint context");return e}function R(e,a){let t=c.Z[a.kind];if(null==t)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");return e[a.kind]??={rootComponent:d(t.rootComponent()),loadedValueStates:{},loader:d(t.loader())}}function m(e,a,t,r,n,s){var o;let i=JSON.stringify(function e(a){if(!a||"object"!=typeof a)return a;if(Array.isArray(a))return a.map(e);let t=Object.keys(a).sort(),r={};for(let n=0;n<t.length;n++)r[t[n]]=e(a[t[n]]);return r}(a.routeParams)),{loadedValueStates:l,rootComponent:c,loader:_}=e;return{rootComponent:c,loadedValueState:l[i]??=(o=a.kind,setTimeout(()=>{let e=l[i];null!=e&&(0,u.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:o,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,a){var t,r;let{result:n}=e;switch(n.kind){case"Pending":return d(n.promise.then(a));case"Ok":return{result:{kind:"Ok",value:t=a(n.value)},read:()=>t};case"Err":return{result:{kind:"Err",error:r=n.error},read:()=>{throw r}};default:throw Error("Unexpected case")}}(_,e=>e({routeParams:a.routeParams,relayEnvironment:r,checkExperiment:n,requestContext:s})),performanceLoggingState:{kind:"NotYetRendered"}})}}},850954:function(e,a,t){t.d(a,{w:()=>s,Z:()=>n});var r=t(512599);let n={"/collage-creation-tool":{loader:()=>Promise.all([t.e("8126"),t.e("50444")]).then(t.bind(t,31156)).then(e=>e.default),rootComponent:()=>Promise.all([t.e("25418"),t.e("19007"),t.e("57207"),t.e("8126"),t.e("32060"),t.e("89568"),t.e("57827"),t.e("76201")]).then(t.bind(t,32825)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([t.e("25418"),t.e("996")]).then(t.bind(t,589382)).then(e=>e.default),rootComponent:()=>Promise.all([t.e("25418"),t.e("47336")]).then(t.bind(t,671804)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>t.e("62315").then(t.bind(t,540803)).then(e=>e.default),rootComponent:()=>Promise.all([t.e("25418"),t.e("15417"),t.e("16868"),t.e("97074"),t.e("95776"),t.e("12697"),t.e("16829")]).then(t.bind(t,743936)).then(e=>e.default)},"/today/":{loader:()=>t.e("42207").then(t.bind(t,489815)).then(e=>e.default),rootComponent:()=>Promise.all([t.e("25418"),t.e("36140"),t.e("91678")]).then(t.bind(t,682910)).then(e=>e.default)}};function s(e){return(0,r.Gn)(e.kind,e.routeParams)}},570963:function(e,a,t){t(238589),t(603316),t(999388),e=t.hmd(e)},715705:function(e,a,t){let r;t.d(a,{Z:()=>ez});var n=t(667294),s=t(620745),o=t(512599),i=t(337019),l=t(603316),d=t(392824),c=t(573746),u=t(413145),_=t(112114);class p extends Error{constructor(e){super(`Unexpected nested index.js found at "${e}". Create a file with the name for the path that you want instead "${e.replace(/index\.js$/,"")}.js"`)}}var E=t(244311),S=t(514947),y=t(564088),T=t(650422),R=t(32259),m=t(877025);let A=["web_sw_specify_hostname","web_sw_with_early_hydration","www_isolated_build"],f=e=>/webapp\/.*\.m?js$/.test(e),g=e=>/webapp\/.*\.css$/.test(e);async function I({didLoadNewFiles:e,files:a=[],handlerId:t,isAuthenticated:r,isInitialLoad:n}){let s=t===(0,_.H)(),o={didLoadNewFiles:e,handler:t,isCurrentHandler:s,isAuthenticated:r,isInitialLoad:n,serviceWorker:(0,m.Z)()?"true":"false"};if((0,R.El)({eventName:"pws.clientLoader.cacheHits",value:1,tags:o,sampleRate:1,annotateExperiments:A}),window.performance&&window.performance.getEntriesByType){(0,d.ZP)("logCacheHitsStart");let t=[];t=n?window.performance.getEntriesByType("resource"):window.performance.getEntriesByType("resource").filter(e=>!!a.find(a=>e.name.endsWith(a)));let r=(0,c.bC)(),i=function(e){if(!e)return{};let a=Object.entries(e).filter(([,e])=>e?.evictionType==="cacheEviction"&&e?.cacheDelta!==void 0);if(a.length>=1){let e=a.sort(([,e],[,a])=>{let t=Math.abs(e.cacheDelta);return Math.abs(a.cacheDelta)-t})[0];if(e){let t,[r,n]=e,s=parseInt(r,10);if(s<2e4){let e=500*Math.floor(s/500);t=`${e}-${e+499}`}else t="over20s";return{hasSingleCacheEviction:1===a.length,hasMultipleCacheEvictions:a.length>1,cacheEvictionCount:a.length,cacheEvictionTimeBucket:t,isPrecacheWipe:!!n.isPrecacheWipe}}}return{hasSingleCacheEviction:!1,hasMultipleCacheEvictions:!1,cacheEvictionCount:0}}(r?.storageInfo),l=r?.cacheHitData;l.forEach(e=>{let a=e.slice(e.lastIndexOf("/")+1),t=a.slice(0,a.lastIndexOf("-"));(0,R.El)({eventName:`pws.clientLoader.precachedResource.${t}`,value:1,tags:{...o},sampleRate:1,annotateExperiments:A})}),(await function(e,a){let t={isInitialLoad:e,didLoadNewFiles:a};return(0,m.Z)()?new Promise((e,a)=>{let r=new MessageChannel,n=Date.now();(0,R.El)({eventName:"pws.clientLoader.swDetailedRequestLog.getSwDetailedRequestLog",value:1,tags:t,sampleRate:1}),r.port1.onmessage=function({data:r}){r&&r.error?a(r.error):((0,R.$v)({eventName:"pws.clientLoader.swDetailedRequestLog.receiveSwDetailedRequestLog",value:Date.now()-n,tags:t,sampleRate:1}),Array.isArray(r)?(r&&r.length>0?((0,R.El)({eventName:"pws.clientLoader.swDetailedRequestLog.receiveSwDetailedRequestLog.nonEmpty",value:1,tags:t,sampleRate:1}),(0,R.$v)({eventName:"pws.clientLoader.swDetailedRequestLog.receiveSwDetailedRequestLog.size",value:r.length,tags:t,sampleRate:1})):(0,R.El)({eventName:"pws.clientLoader.swDetailedRequestLog.receiveSwDetailedRequestLog.empty",value:1,tags:t,sampleRate:1}),e(r||[])):((0,R.El)({eventName:"pws.clientLoader.swDetailedRequestLog.receiveSwDetailedRequestLog.nonArray",value:1,tags:t,sampleRate:1}),e([])))},navigator.serviceWorker?.controller?.postMessage({name:"getDetailedRequestLog"},[r.port2])}):Promise.resolve([])}(n,e)).forEach(e=>{e&&"HIT"===e.status?(0,R.El)({eventName:"pws.clientLoader.swRequestLog.hit",value:1,tags:{...o,serviceWorkerState:e.details.workerState,cacheStatus:e.details.cacheStatus},sampleRate:1,annotateExperiments:A}):e&&"PRECACHE_MISS"===e.status&&(void 0!==e.details.duration&&(0,R.$v)({eventName:"pws.clientLoader.swRequestLog.cacheLookupDuration",value:e.details.duration,tags:o,sampleRate:1}),(0,R.El)({eventName:"NOT_FOUND_IN_CACHE"===e.details.reason?"pws.clientLoader.swRequestLog.not_found_in_cache":"pws.clientLoader.swRequestLog.stale_version_found",value:1,tags:{...o,serviceWorkerState:e.details.workerState,cacheStatus:e.details.cacheStatus},sampleRate:1,annotateExperiments:A}))});let u=0,_=0,p=0,E=0,S=0,y=0,T=0,f=0;t.forEach(e=>{if(!/\.mjs$/.test(e.name))return;if(_+=1,0===e.responseStart){p+=1;return}let a=e.name.slice(e.name.lastIndexOf("/")+1),t=a.slice(0,a.lastIndexOf("-")),r=t.replace(/^_+/,"").split("_")[0];u+=1;let n={...o,assetName:r||"unknown",assetFoundInPrecache:l.includes(a),outdatedAssetInPrecache:l.some(e=>e.startsWith(t))&&!l.includes(a),interceptedBySW:e.workerStart&&e.workerStart>0};e.workerStart&&e.workerStart>0&&(T+=1,(0,R.El)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepted",value:1,tags:n,annotateExperiments:A})),e.workerStart&&e.workerStart>0&&"fetch-event"!==e.workerFinalSourceType&&l.includes(a)&&(f+=1,(0,R.El)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMiss",value:1,tags:{...n,...i,isTransferSizeZero:0===e.transferSize},annotateExperiments:A})),"number"==typeof e.transferSize&&e.transferSize>0?(E+=1,(0,R.El)({eventName:"pws.clientLoader.scripts.cacheMiss",value:1,tags:n,annotateExperiments:A})):0===e.transferSize&&e.workerStart&&e.workerStart>0&&"fetch-event"===e.workerFinalSourceType?(S+=1,(0,R.El)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHit",value:1,tags:n,annotateExperiments:A})):0===e.transferSize&&(y+=1,(0,R.El)({eventName:"pws.clientLoader.scripts.localCacheHit",value:1,tags:n,annotateExperiments:A}))}),"number"==typeof u&&(0,R.yI)({eventName:"pws.clientLoader.scripts.numScripts",value:u,tags:o,sampleRate:1,annotateExperiments:A}),"number"==typeof _&&(0,R.El)({eventName:"pws.clientLoader.scripts.numScriptsUnfiltered",value:_,tags:o,sampleRate:1,annotateExperiments:A}),"number"==typeof y&&(0,R.yI)({eventName:"pws.clientLoader.scripts.localCacheHits",value:y,tags:o,sampleRate:1,annotateExperiments:A}),"number"==typeof S&&(0,R.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHits",value:S,tags:o,sampleRate:1,annotateExperiments:A}),"number"==typeof E&&(0,R.yI)({eventName:"pws.clientLoader.scripts.cacheMisses",value:E,tags:o,sampleRate:1,annotateExperiments:A}),"number"==typeof T&&(0,R.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepts",value:T,tags:o,sampleRate:1,annotateExperiments:A}),"number"==typeof p&&(0,R.El)({eventName:"pws.clientLoader.scripts.skippedResourceTimings",value:p,tags:o,sampleRate:1,annotateExperiments:A}),"number"==typeof f&&(0,R.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMisses",value:f,tags:o,sampleRate:1,annotateExperiments:A});let g="";E===u?g="cold":0===E&&y+S===u?g="warm":(y>0||S>0)&&(g="partialWarm"),(0,R.El)({eventName:`pws.clientLoader.${g}Start`,value:1,tags:o,sampleRate:1,annotateExperiments:A});let I="";I=T===u?"all":T>0?"some":"none",(0,R.El)({eventName:`pws.clientLoader.serviceWorkerIntercepted.${I}`,value:1,tags:o,sampleRate:1,annotateExperiments:A}),s&&(0,c._A)({startType:g})}(0,d.ZP)("logCacheHitsEnd")}function C(e){return e.reduce((e,a)=>{if(a.encodedBodySize){let t=a.encodedBodySize/1e3;f(a.name)?e.scriptSize+=t:g(a.name)&&(e.styleSize+=t)}return e},{scriptSize:0,styleSize:0})}t(570963);class P extends Error{constructor(...e){var a,t;super(...e),(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a="name","string"))?t:t+"")in this?Object.defineProperty(this,a,{value:"LoaderError",enumerable:!0,configurable:!0,writable:!0}):this[a]="LoaderError"}}function h(){let e,a=new Promise(a=>{e=a});return{resolve:e,promise:a}}class O extends Error{constructor(...e){var a,t;super(...e),(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a="name","string"))?t:t+"")in this?Object.defineProperty(this,a,{value:"PlatformError",enumerable:!0,configurable:!0,writable:!0}):this[a]="PlatformError"}}var N=t(632128);let D=[];async function v(e){let a=document.querySelector(e);if(a)return a;if((0,l.nP)("pws.initializeClient.elementNotFound",{sampleRate:1,tags:{selector:e,documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),"complete"===document.readyState)return null;let t=new Promise(a=>{D.push({selector:e,resolve:a})});return r||((r=new MutationObserver(()=>{D=D.filter(({selector:e,resolve:a})=>{let t=document.querySelector(e);return!t||((0,l.nP)("pws.initializeClient.elementFoundMutationObserver",{sampleRate:1,tags:{selector:e,documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),a(t),!1)})})).observe(document,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",()=>{r?.disconnect(),D=D.filter(({selector:e,resolve:a})=>{let t=document.querySelector(e);return t?((0,l.nP)("pws.initializeClient.elementFoundDOMContentLoaded",{sampleRate:1,tags:{selector:e,documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),a(t)):((0,l.nP)("pws.initializeClient.elementNotFoundDOMContentLoaded",{sampleRate:1,tags:{selector:e,documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),a(null)),!0})})),t}async function L(){let[e]=await Promise.all([v(`#${N.lq}`),v(`#${N.hC}`)]);if(!e)throw(0,l.LY)("pws.initializeClient.initialPropsDOMElementNotFound",performance.now(),{sampleRate:1,tags:{documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),new O(`#${N.lq} not found in DOM after ${performance.now()}ms. Can't start app.`);return(0,l.LY)("pws.initializeClient.initialPropsDOMElementFound",performance.now(),{tags:{documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),JSON.parse(e.textContent??"{}")}async function b(){let[e]=await Promise.all([v(`#${N.gD}`),v(`#${N.iF}`)]);if(!e)throw new O(`#${N.gD} not found in DOM. Can't start app.`);return JSON.parse(e.textContent||"{}")}async function w(){let e=await v(`#${N.dV}`);if(!e)throw new O(`#${N.dV} not found in DOM. Can't start app.`);return e}async function U(){let[e]=await Promise.all([v(`#${N.p2}`),v(`#${N.tN}`)]);if(!e)throw new O(`#${N.p2} could not be found.  Can't start app`);return JSON.parse(e.textContent)}var G=t(785893);(0,n.lazy)(()=>t.e("4446").then(t.bind(t,438952)));var M=t(575108),B=t(930293),k=t(175430),F=t(901360),H=t(324529),x=t(385372),V=t(895628),Y=t(368177),$=t(599197);let j=e=>{let a=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(a=>{if(!e)return"pathname_invalid";let t=a.pattern.split("/").filter(e=>""!==e),r=e.split("/").filter(e=>""!==e);if(t.length!==r.length)return!1;for(let e=0;e<t.length;e+=1)if(!t[e].startsWith(":")&&r[e]!==t[e])return!1;return!0});return a?a.name:"unknown"},W=function(){let e,a=!1,t=new Set;return function(r){if(e)return void r(e);t.add(r),a||(a=!0,(0,x.NO)(a=>{for(let r of(e=a,t))r(a),t.delete(r)}))}}();var Z=t(592109),q=t(703393),z=t(645214),K=t(868178),Q=t(942230);let X=(e,a)=>{let t="cls"===a?e.nodeName:e.tagName;return e?t||null!==e.parentElement?"HTML"===t&&null===e.parentElement?"HTML":"BODY"===t&&e.parentElement?.tagName==="HTML"?"BODY":e instanceof HTMLElement&&(void 0!==e.dataset.layoutShiftBoundaryID||void 0!==e.dataset.testId)?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?X(e.parentElement,a):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED"};var J=t(970773);let ee=(e,a,t)=>{a<1e5&&(0,l.LY)(e,a,t)},ea=["pin_closeup","board","profile","topic","homefeed","search_landing_page","search_results"],et=["auth_dweb_shuffle_renderer_closeup_v2"],er=["web_fluid_grid_desktop_auth","web_fluid_grid_desktop_unauth","unauth_dweb_closeup_redesign"];function en(e,a){return a?`${e}.${a.experimentName}.${a.experimentGroup?.value}`:e}t(999388);let es=!1;var eo=t(35814),ei=t(140125),el=t(160374),ed=t(854737),ec=t(64834),eu=t(765995);async function e_(e=()=>{}){let a=[],t=document.getElementById("__LAZY_COMPONENT_REQUIRED_CHUNKS__");if(t?.textContent&&(a=JSON.parse(t.textContent)),!a.length)return;let r=!1;await new Promise(e=>{window.modernJsonp=window.modernJsonp||[];let t=window.modernJsonp;void 0!==window.legacyJsonp&&(t=window.legacyJsonp);let n=t.push.bind(t);function s(){a.every(e=>t.some(([a])=>a.indexOf(e)>-1))&&!r&&(r=!0,e())}t.push=(...e)=>{n(...e),s()},s()}),e()}var ep=t(281098),eE=t(167912),eS=t(616550),ey=t(573631),eT=t(274320),eR=t(15667),em=t(210031),eA=t(419414),ef=t(183152),eg=t(81580),eI=t(825332),eC=t(355940),eP=t(675973);function eh({children:e}){return(0,n.useEffect)(()=>{window.pwsRouteReady=!0},[]),e}function eO(){let e=(0,ef.Zv)(),a=(0,el.DB)(),t=(0,eR.B)();return(0,l.nP)("earlyHydrationDebug.routeWrapper.suspend",{sampleRate:1,tags:(0,el.M3)({earlyHydrationConfig:a,handlerId:e,requestContext:t})}),null}function eN({children:e}){(0,n.useEffect)(()=>{(0,ep.Z)("RouteWrapper","/pws/react/RouteWrapper.tsx")},[]);let{isAuthenticated:a,isBot:t,userAgent:r}=(0,eR.B)(),s=r.isMobile||r.isTablet,{group:o,optimizedClient:i}=(0,el.DB)(),d=(0,eI.TH)(),c=(0,n.useRef)(!0),u=(0,ef.Zv)(),{checkExperiment:p}=(0,eP.Z)(),E=p("build_with_rspack").group;return(0,_.V)(u),(0,n.useEffect)(()=>{(0,l.nP)("webapp.request.client",{tags:{handler:u,isAuthenticated:a,isInitialLoad:c.current,isMobile:s}}),c.current&&(E&&(0,l.nP)("webapp.request.client.debugRspackExp",{tags:{handler:u,isAuthenticated:a,isMobile:s,rspackExpGroup:E}}),(0,l.LY)("earlyHydrationDebug.routeWrapper.initialLoad",performance.now(),{tags:{earlyHydrationGroup:o,handler:u,isAuthenticated:a,isBot:t,isMobile:s}}),c.current=!1)},[o,u,a,t,s,d,E]),(0,G.jsx)(eC.Z,{name:u,type:"critical",children:i?(0,G.jsx)(n.Suspense,{children:(0,G.jsx)(eh,{children:e})}):(0,G.jsx)(eh,{children:e})})}var eD=t(343386);function ev({children:e,routeTable:a}){let t=(0,eA.zy)(),r=(0,n.use)(eI.Us).navigator,s=(0,eR.B)(),i=(0,n.useCallback)(e=>{let r=function(e,a){for(let t=0;t<e.length;t+=1){let{route:r,handlerId:n}=e[t],s=(0,o.LX)({path:r,end:!0},a.pathname);if(s)return{handlerId:n,routerMatch:s}}return null}(a,e);r&&(eD.ZP[r.handlerId]??[]).filter(({check:e})=>e({checkExperiment:s.experimentsClient.checkExperiment,requestContext:s})).forEach(({query:e,variables:a})=>{t.preloadQuery({query:e,variables:a({match:r.routerMatch,requestContext:s})})})},[t,s,a]);return(0,n.useEffect)(()=>{let e=r.listen(i);return()=>{e()}},[r,i]),e}var eL=t(473727),eb=t(787558),ew=t(934041);function eU({children:e}){let a=(0,eI.TH)(),t=(0,n.useMemo)(()=>a,[]);return(0,G.jsx)(ew.t,{value:t,children:e})}function eG({children:e,initialLocation:a}){return(0,n.useEffect)(()=>{(0,ep.Z)("Router","/pws/router/Router.tsx")},[]),(0,G.jsx)(eL.VK,{children:(0,G.jsx)(eb.tn,{children:(0,G.jsx)(eU,{children:e})})})}function eM({children:e,appRootComponent:a}){let t=a&&"object"==typeof a&&"then"in a?(0,n.use)(a):a;if(!t)throw Error("Unexpected null or undefined AppRootComponent on the client");return t?(0,G.jsx)(t,{children:e}):null}function eB({appRootComponent:e,initialLocation:a,loader:t,queryPreloader:r,relayEnvironment:s,requestContext:o,routeTable:i}){(0,n.useEffect)(()=>{(0,ep.Z)("PWSApp","/pws/react/PWSApp.tsx")},[]);let l=(0,n.useMemo)(()=>i.map(({element:a,handlerId:t,route:r})=>(0,G.jsx)(eS.AW,{exact:!0,path:r,children:(0,G.jsx)(ey.G,{children:(0,G.jsx)(ef.wH,{value:t,children:(0,G.jsx)(n.Suspense,{fallback:(0,G.jsx)(eO,{}),children:(0,G.jsx)(eM,{appRootComponent:e,children:(0,G.jsx)(eN,{children:a})})})})})},"route")),[e,i]);return(0,n.useEffect)(()=>{window.pwsAppReady=!0},[]),(0,G.jsx)(eE.RelayEnvironmentProvider,{environment:s,children:(0,G.jsx)(eA.h_,{value:r,children:(0,G.jsx)(eg.Z,{value:t,children:(0,G.jsx)(eG,{initialLocation:a,children:(0,G.jsx)(eR.P2,{initialValue:o,children:(0,G.jsx)(eT.a,{value:o.experimentsClient,children:(0,G.jsx)(em.$,{children:(0,G.jsx)(ev,{routeTable:i,children:(0,G.jsx)(eS.rs,{children:l})})})})})})})})})}var ek=t(20256);function eF(){let e=(0,ey.b)(),a=(0,ef.Zv)(),t=(0,el.DB)(),r=(0,eR.B)();return(0,n.useEffect)(()=>{e&&(0,l.nP)("earlyHydrationDebug.clientRouteLoader.fallback",{sampleRate:1,tags:(0,el.M3)({earlyHydrationConfig:t,handlerId:a,requestContext:r})})},[]),(0,G.jsx)(ek.xH,{accessibilityLabel:"Loading....",show:!0})}function eH(){let e=(0,ef.Zv)(),a=(0,eg.U)();if(!a)throw Error("Loader is not available in context");let t=a.loadFromCache?.(e)??(0,n.use)(a.load(e));return(0,G.jsx)(t,{})}function ex(){let e=function(e){let a=(0,eg.U)(),t=(0,n.useRef)(e),[r,s]=(0,n.useState)({Comp:a?.loadFromCache?.(e)}),[o,i]=(0,n.useState)(),{Comp:l}=r;if((0,n.useEffect)(()=>{if(!(t.current!==e||!l))return;t.current=e;let r=a?.loadFromCache?.(e);r||(async()=>{try{let t=await a?.load(e);t&&s({Comp:t})}catch(e){i(e)}})(),r!==l&&s({Comp:r})},[l,e,a]),o)throw o;return l}((0,ef.Zv)());return e?(0,G.jsx)(e,{}):(0,G.jsx)(eF,{})}function eV(){(0,n.useEffect)(()=>{(0,ep.Z)("ClientRouteLoader","/pws/router/ClientRouteLoader.tsx")},[]);let{optimizedClient:e}=(0,el.DB)();return e?(0,G.jsx)(n.Suspense,{fallback:(0,G.jsx)(eF,{}),children:(0,G.jsx)(eH,{})}):(0,G.jsx)(ex,{})}function eY(e){return!!e.match(/\[[\w]+\]/)}function e$(e){return(e.match(/\./g)||[]).length}(0,u.Z)();let ej=(e,a)=>new Promise(t=>{let r=`initializeClientApp.getDataFromServiceWorker.${e}`,n="getStorageInfo"===e?{}:[];(0,l.nP)(r,{sampleRate:1,tags:a});let s=navigator.serviceWorker,o=s?.controller;if(!s||!o){(0,l.nP)(`${r}.noServiceWorker`,{sampleRate:1,tags:a}),t(n);return}let i=new MessageChannel,d=!1,c=setTimeout(()=>{d||(d=!0,(0,l.nP)(`${r}.timeout`,{sampleRate:1,tags:a}),t(n))},3e3);i.port1.onmessage=r=>{d||(d=!0,clearTimeout(c),"getCacheHitData"===e&&r.data?Array.isArray(r.data)?(r.data.length>0?(0,l.nP)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.nonEmpty",{sampleRate:1,tags:a}):(0,l.nP)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.empty",{sampleRate:1,tags:a}),t(r.data)):((0,l.nP)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.nonArray",{sampleRate:1,tags:a}),t(n)):t(r.data||n))};try{(0,l.nP)(`${r}.postMessage`,{sampleRate:1,tags:a}),o.postMessage({name:e},[i.port2])}catch(e){d||(d=!0,clearTimeout(c),(0,l.nP)(`${r}.postMessage.error`,{sampleRate:1,tags:{...a,errorCode:e instanceof Error&&"code"in e?String(e.code):"no_code"}}),t(n))}});if(window.__ENABLE_RSC__){let{createFromFetch:e}=t(217775);console.log(e)}let eW=document.getElementById("__LAZY_COMPONENT_REQUIRED_CHUNKS__")?new Promise(e=>{e_(e)}):Promise.resolve(),eZ=async({routeManifest:e,site:a})=>Object.keys(e);function eq(){return(0,l.nP)("pws.pageRoot.suspend",{sampleRate:1,tags:{handler:(0,_.H)(),environment:"client"}}),null}async function ez(e){var a,r;let u=new URLSearchParams(window.location.search);if(window.location?.hostname==="webcache.googleusercontent.com"||u.has("server_only"))return;(0,d.ZP)("initialAppLoad");let m=document.getElementById(N.DC);if(m){let{message:e,stack:a}=JSON.parse(m.textContent),t=new O(e);throw t.stack=a,t}let D=[eW],v=await b(),{context:e_,experiments:ep,initialHandlerId:eE,site:eS}=v,ey=function(e){let{context:a,context:{user:t={}}}=e;return{advertiser:a.advertiser?a.advertiser:null,appTypeDetailed:a.app_type_detailed,country:a.country,countryFromHostName:a.country_from_hostname,countryFromIp:a.country_from_ip,deepLink:a.deep_link,experimentsClient:e.experimentsClient,facebookToken:a.facebook_token,fullPath:a.full_path,inviteCode:a.invite_code,isAmp:!1,isAuthenticated:a.is_authenticated,isBot:"true"===a.is_bot,isInternalIP:a.is_internal_ip||!1,isManagedAdvertiser:a.is_managed_advertiser,isRTL:"rtl"===a.text_direction,isSocialBot:!!a.social_bot,language:a.language,legacyAdvertiser:null,locale:a.locale,loginState:t.login_state||void 0,origin:a.origin,referrerFromCookie:a.referrer,referrerFromHeader:a.http_referrer,regionFromIp:a.region_from_ip,requestIdentifier:a.request_identifier,stage:a.stage,sterlingOnSteroidsLdap:a.sterling_on_steroids_ldap,theme:a.theme,unauthId:a.unauth_id,userAgent:{browserName:a.browser_name,browserType:a.browser_type,browserVersion:a.browser_version,canUseNativeApp:a.user_agent_can_use_native_app,isTablet:a.is_tablet_agent,isMobile:a.is_mobile_agent,platform:a.user_agent_platform,platformVersion:a.user_agent_platform_version&&3===a.user_agent_platform_version.length?a.user_agent_platform_version:[0,0,0],osName:a.analysis_ua?a.analysis_ua.os_name:"",raw:a.user_agent}}}({context:e_,experimentsClient:(a=ep.active,r=ep.triggerable,(!a||!r)&&(0,l.nP)("webapp.buildExperimentsClient.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!a),triggerable:String(!!r)}}),{experimentsClient:new i.Z(a,r,!0)}).experimentsClient}),{experimentsClient:eT,isAuthenticated:eR,isBot:em,isInternalIP:eA}=ey,ef=e_.is_mobile_agent||e_.is_tablet_agent,eg={handler:eE,browserName:ey.userAgent.browserName,isAuthenticated:eR,isBot:em,isMobile:ef,country:ey.country};(0,c.Z4)({requestContext:ey}),(async e=>{(0,d.ZP)("beginGetDataFromServiceWorker");let a=await ej("getStorageInfo",e),t=await ej("getCacheHitData",e);(0,d.ZP)("endGetDataFromServiceWorker"),(0,c._A)({storageInfo:a,cacheHitData:t})})(eg);let eI=(0,el.SS)({experimentsClient:eT,handlerId:eE}),{anyEnabled:eC,group:eP="none"}=eI,eh=(0,el.M3)({earlyHydrationConfig:eI,handlerId:eE,requestContext:ey});if((0,l.LY)("earlyHydrationDebug.initializeClientApp.start",performance.now(),{tags:eh}),function(e,a,t){if(e&&a.has("disable_experiments")){let e=a.get("disable_experiments"),{active:r,triggerable:n}=t,s=Object.keys({...n,...r}).sort();if(0===s.length)return!1;let o=s.length-1,i=e=>{let a=new URL(window.location.href);a.searchParams.set("disable_experiments",`${e}_${o}`),window.location.href=a.toString()};if(!e||!/^(\d+)_(\d+)$/.test(e))return i(0),!0;{let[a,t]=e.split("_").map(e=>parseInt(e,10)),r=a??0,n=t??0,l=Math.min(r,n),d=Math.max(r,n);if(d>o)return i(l>o?0:l),!0;console.log(`[disable_experiments] Disabled the following experiments in range "${l},${d}":`,s.slice(l,d+1))}}return!1}(eA,u,ep))return;!function(e,a,r){var n,s,o,i,d,c;!function(){let e={},a=new Set,r=t.e,n=t.ruid?.includes("rspack"),[s,o]=[200,6];async function i({chunkId:t,retriesLeft:s,retryDelay:d}){let c=Date.now();try{await r(t),delete e[t],a.delete(t),(0,l.LY)("webapp.chunkLoad.success",Date.now()-c,{sampleRate:.1,tags:{tries:o-s,name:t}})}catch(r){if(a.add(t),(0,l.LY)("webapp.chunkLoad.error",Date.now()-c,{sampleRate:.1,tags:{name:t,retriesLeft:s,isRspackRuntime:n}}),s<=0)throw(0,l.LY)("webapp.chunkLoad.fail",Date.now()-c,{sampleRate:.1,tags:{name:t,isRspackRuntime:n}}),delete e[t],r;await new Promise(e=>setTimeout(e,d)),await i({chunkId:t,retriesLeft:s-1,retryDelay:2*d})}}if(t.e=async function(a){e[a]||(e[a]=i({chunkId:a,retriesLeft:o-1,retryDelay:s})),await e[a]},t.f?.prefetch){let e=t.f.prefetch;t.f.prefetch=async function(t,r){try{await e(t,r)}catch(e){if(a.has(t))(0,l.nP)("webapp.webpackPrefetch.duplicateError",{sampleRate:1,tags:{name:t,isRspackRuntime:n}});else throw(0,l.nP)("webapp.webpackPrefetch.missingError",{sampleRate:1,tags:{name:t,isRspackRuntime:n}}),e}}}}(),e.enableAdaptiveStatsLoggingFlush&&(0,ei.m)();let u=e.context.user;if(u?.id&&u.is_partner){let e=!!u.partner;(0,l.nP)("pws.renderClient.debugPartnerData",{sampleRate:1,tags:{hasPartnerData:e,isFromAppShell:window.isFromInstantLoadingIndicatorAppShell??!1}})}let _=e.context.is_mobile_agent||e.context.is_tablet_agent,p=function(){if("maxTouchPoints"in navigator)return navigator.maxTouchPoints>0;{if("msMaxTouchPoints"in navigator)return navigator.msMaxTouchPoints>0;let e=window.matchMedia?window.matchMedia("(pointer:coarse)"):void 0;if(e?.media==="(pointer:coarse)")return!!e.matches;{if("orientation"in window)return!0;let e=navigator.userAgent;return/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(e)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(e)}}}(),E=navigator.userAgent.indexOf("Mobi")>0,S=function(){let e=window.innerWidth;return e<640?"xs":e>=640&&e<768?"sm":e>=768&&e<1024?"md":e>=1024&&e<1280?"lg":e>=1280&&e<1536?"xl":e>=1536&&e<2048?"2xl":e>=2048&&e<2560?"3xl":e>=2560&&e<3060?"4xl":e>=3060&&e<3560?"5xl":e>=3560&&e<4060?"6xl":e>=4060&&e<4560?"7xl":e>=4560&&e<5e3?"8xl":e>=5e3?"9xl":void 0}(),y=function(){let e=window.innerHeight;return e<500?"vh1":e>=500&&e<600?"vh2":e>=600&&e<700?"vh3":e>=700&&e<800?"vh4":e>=800&&e<900?"vh5":e>=900&&e<1e3?"vh6":e>=1e3&&e<1500?"vh7":e>=1500&&e<2e3?"vh8":e>=2e3&&e<2500?"vh9":e>=2500?"vh10":void 0}();(0,l.nP)("pws.renderClient.screenHeight",{sampleRate:1,tags:{screenHeight:window.innerHeight}}),(0,l.nP)("pws.renderClient.validateUA",{sampleRate:1,tags:{serverDeviceType:_?"mobile":"desktop",screenHeight:y,screenSize:S,touchEnabled:p,uaContainsMobi:E}}),function({currentAppVersion:e,deviceType:a,site:t}){let r=window.fetch;window.fetch=async(...n)=>{let s,o=n[0],i="string"==typeof o&&o.startsWith("/");try{s=await r(...n)}catch(a){let e=s?.headers;throw a.extraData={...a.extraData,fetchUrl:o,fetchResponseAccessControlHeaders:e&&{allowCredentials:e.get("access-control-allow-credentials"),allowHeaders:e.get("access-control-allow-headers"),allowOrigin:e.get("access-control-allow-origin")}},a}return i&&(s.headers.get("pinterest-version")===e||es||((0,l.nP)("pws.renderClient.newVersionAvailable",{sampleRate:1,tags:{deviceType:a,site:t}}),es=!0)),s}}({currentAppVersion:e.appVersion,deviceType:_?"mobile":"desktop",site:e.site}),(0,M.N)(e.context.user,a),n=e.context,s=a.locale,o=e.initialHandlerId,i=a.isAuthenticated,a.locale?eo.i.preload({localeCode:a.locale.split("-").join("_"),children:()=>null}):(0,l.nP)("pws.renderClient.missingLocale",{sampleRate:1,tags:{browserLocale:n.browser_locale,contextLocale:s,country:a.country,deviceType:_?"mobile":"desktop",handler:o,isAuthenticated:i,language:a.language,origin:a.origin}}),d=a.isAuthenticated,c=e.daysToExpiration,d&&(c<=90&&c>0?fetch("/refresh_token"):c<=0&&fetch("/refresh_stored_accounts"));let T=(0,k.Z)({browserName:a.userAgent.browserName,browserType:a.userAgent.browserType,browserVersion:a.userAgent.browserVersion,userAgentString:a.userAgent.raw,isBotRequest:a.isBot,isInternalIP:a.isInternalIP});if(!function({handler:e,browserName:a,isAuthenticated:t,isBot:r,isMobile:n,country:s,isPrefetch:o,isModernBundleCapable:i,requestContext:d}){let c=(0,Z.Ex)(e),u=(0,Y.Z)({requestContext:d}),{getExperimentGroup:_}=u,p={handler:e,isAuthenticated:t,isBot:r,isMobile:n,domain:(0,V.xR)(document.domain||"unknown"),isModernBundleCapable:i},E=j(window.location.pathname);function S(e,a){try{if("number"!=typeof a||!Number.isFinite(a))return void c(`Invalid CWV value for ${e}: ${a} (type: ${typeof a})`);if("string"!=typeof e||!e)return void c(`Invalid CWV metric name: ${e} (type: ${typeof e})`);if(!E)return void c(`Missing initialSurface when reporting ${e} metric`);let r={type:"core_web_vitals",name:`cwv_${E}_${e.toLowerCase()}`,navigationType:"client_route_push",surface:E,isAuthenticated:t},n=(0,q.W)({annotateExperiments:et,constraintMap:{},endTime:"CLS"===e?1e3*a:a,imageTimings:[],metricId:r,pwtStaticContext:u,startTime:0,traceId:(0,J.Z)(),spans:[]});(0,K.Z)({metricId:r,pwtStaticContext:u,result:n,isAuth:t})}catch(a){c(`Failed to report ${e} metric: ${a}`)}}let y=[];W(a=>{if(!ea.includes(E))return;let{entries:t,value:r,navigationType:n}=a,{url:s}=t[t.length-1],i=s?.includes("i.pinimg");c(`------ ${e} onLCP ${r} navigationType:${n} -----`);let d=e=>{ee(en("pws.renderClient.lcp",e),r,{sampleRate:1,tags:{...p,version:"1"}}),ee(en("pws.renderClient.isPrefetch.lcp",e),r,{sampleRate:1,tags:{...p,isPrefetch:o}}),(0,l.QX)(en("pws.renderClient.cwv.lcpElements",e),1,{sampleRate:1,tags:{...p,isImage:i}})};d(),Object.entries((0,z.E9)(er,_)).forEach(([e,a])=>{d({experimentName:e,experimentGroup:a})}),S(a.name,r)});let T=e=>({value:e,entries:[],boundaryScores:{}}),R=0,m=0,A=[],f=[],g=T(0);function I(){R+=1}function C(e){(0,l.QX)("pws.renderClient.clsAllObservedShifts",1,{sampleRate:.01,tags:{...p,shiftCount:e.length}}),e.forEach(e=>{if(e.hadRecentInput)return;let a=A[0],t=A[A.length-1],r={value:e.value,boundary:(e=>{if(!e||0===e.length)return"NO_SOURCES_FOUND";let a=e.find(e=>null!==e.node)?.node||null;return a?X(a,"cls"):"NO_NODE_FOUND"})(e.sources),surface:j(window.location.pathname)||"no_surface_match"};m&&e.startTime-t.startTime<1e3&&e.startTime-a.startTime<5e3?(m+=e.value,A.push(e),f.push(r)):(m=e.value,A=[e],f=[r])}),m>g.value&&((g=T(m)).entries=A.slice(),f.forEach(e=>{let{boundary:a,surface:t,value:r}=e;a&&(g.boundaryScores[a]?(g.boundaryScores[a].cumulativeScore+=r,g.boundaryScores[a].surface=t):g.boundaryScores[a]={cumulativeScore:r,surface:t})}))}window.addEventListener("resize",I);let P=null;window.PerformanceObserver&&(P=new PerformanceObserver(e=>{C(e.getEntries())})),(0,x.a4)(({value:a,navigationType:t})=>{ea.includes(E)&&(P&&P.observe({type:"layout-shift"}),c(`------ ${e} onFCP ${a} navigationType:${t} -----`),ee("pws.renderClient.fcp",a,{sampleRate:1,tags:p}))}),(0,x.mw)(a=>{if(!ea.includes(E))return;let{name:r,value:o,navigationType:l,rating:d}=a,u={isAuth:t,isMobile:n,handler:e,region:(0,Q.Z)(s),CWVBucket:d,domain:(0,V.xR)(document.domain||"unknown"),isModernBundleCapable:i,cpu:navigator.hardwareConcurrency||"unknown"};if(c(`------ ${e} onCLS ${o} navigationType:${l} -----`),ee("pws.renderClient.cls",o,{sampleRate:1,tags:p}),P){C(P.takeRecords()),P.disconnect();let e=Object.entries(g.boundaryScores).map(([e,a])=>({boundary:e,cumulativeScore:a.cumulativeScore,surface:a.surface}));e.sort((e,a)=>a.cumulativeScore-e.cumulativeScore);for(let a=0;a<e.length&&a<5;a+=1){let t=e[a];ee("pws.renderClient.clsCumulativeBoundaryScore",1e3*t.cumulativeScore,{sampleRate:.05,tags:{...u,boundary:t.boundary,surface:t.surface}})}}S(r,o)});let h={},O=e=>{window.removeEventListener("resize",I);let{timeStamp:a,target:t}=e,r=t?X(t,"inp"):"NODE_REMOVED",{pathname:n}=window.location,s=j(n)||"no_surface_match",o=a.toString();h[o]||(h[o]={boundary:"",surface:""},h[o].boundary=r,h[o].surface=s)};if(["pointerdown","pointerup","click","keydown","keyup"].forEach(e=>{document.addEventListener(e,O,{capture:!0})}),(0,x.Yn)(a=>{if(["pointerdown","pointerup","click","keydown","keyup"].forEach(e=>{document.removeEventListener(e,O,{capture:!0})}),!ea.includes(E))return;let{value:r,navigationType:o,rating:d}=a,{interactionTime:_,interactionType:p}=a.attribution,y=(0,Q.Z)(s),T=_<100?"0-100ms":_<250?"100-250ms":_<500?"250-500ms":_<1e3?"500-1000ms":_<2e3?"1000-2000ms":_<3e3?"2000-3000ms":_<4e3?"3000-4000ms":_<5e3?"4000-5000ms":_<6e3?"5000-6000ms":_<7e3?"6000-7000ms":_<8e3?"7000-8000ms":_<9e3?"8000-9000ms":_<1e4?"9000-10000ms":_<15e3?"10000-15000ms":_<2e4?"15000-20000ms":_<25e3?"20000-25000ms":"25000+ms",R=(0,V.xR)(document.domain||"unknown"),m=navigator.hardwareConcurrency||"unknown",{getExperimentGroup:A}=u,f=(0,z.E9)(et,A),g={isAuth:t,isMobile:n,handler:e,region:y,CWVBucket:d,eventTimeGroup:T,interactionType:p,domain:R,isModernBundleCapable:i,surface:h[_]?h[_].surface:"interactionTime_invalid",boundary:h[_]?h[_].boundary:"interactionTime_invalid",cpu:m};if(c(`------ ${e} onINP ${r} navigationType:${o} -----`),a.attribution){["inputDelay","processingDuration","presentationDelay"].forEach(e=>{ee(`pws.renderClient.inp.${e}`,a.attribution[e],{sampleRate:1,tags:g}),Object.keys(f).forEach(t=>{let r=f[t]?.value;ee(`pws.renderClient.inp.${e}.${t}.${r}`,a.attribution[e],{sampleRate:1,tags:g})})});let e=h[_]?h[_].boundary:null;e&&(0,l.nP)("pws.renderClient.inpPersistedBoundary",{sampleRate:1,tags:{...g,INPBoundary:e}}),"today"===E&&(E="profile"),ee(`pws.renderClient.${E}.INP`,r,{sampleRate:1,tags:{isMobile:n,domain:R}}),ee(`pws.renderClient.${E}.detailed.INP`,r,{sampleRate:1,tags:g}),S(a.name,r)}}),window.PerformanceObserver)try{if(e.includes("/pin/")||"www/_username_/_slug__js"===e){let e=(0,z.E9)(er,_);new PerformanceObserver(t=>{t.getEntries().forEach(t=>{y.forEach(r=>{if(!(r.url&&t.url))return;let n=t.url.split("/"),s=n[n.length-1],o=n[3],i=r.url?.split("/")||"",d=i[n.length-1],c=i[3],u=r.size,_="unknown",E="unknown";if("number"==typeof t.size&&"number"==typeof u){let e=t.size-u;0===e?_="0":e>0&&e<100?_="0-100":e>=100&&e<1e3?_="100-1000":e>=1e3&&e<1e4?_="1000-10000":e>=1e4&&(_="10000+")}if("number"==typeof t.startTime&&"number"==typeof r.startTime){let e=t.startTime-r.startTime;0===e?E="0":e>0&&e<500?E="0-500":e>=500&&e<2e3?E="500-2000":e>=2e3&&e<7e3?E="2000-7000":e>=7e3&&(E="7000+")}if(s===d&&t.startTime!==r.startTime){let t=e=>{(0,l.QX)(en("pws.renderClient.cwv.allLCPCandidates.repaints",e),1,{sampleRate:.01,tags:{...p,browserName:a,finalResolution:o,lcpCandidateCount:y.length+1,previousResolution:c,renderedSizeDeltaBucket:_,resizeCount:R,timeDeltaBucket:E}})};t(),Object.entries(e).forEach(([e,a])=>{t({experimentName:e,experimentGroup:a})})}});let r=t.element?t.element.nodeName:"unknown",n=e=>{(0,l.QX)(en("pws.renderClient.cwv.allLCPCandidates",e),1,{sampleRate:1,tags:{...p,browserName:a,lcpCandidateCount:y.length+1,elementType:r??"unknown",resizeCount:R}})};n(),Object.entries(e).forEach(([e,a])=>{n({experimentName:e,experimentGroup:a})});let s=y.filter(e=>e.startTime===t.startTime);0===s.length&&y.push(t),c(t)})}).observe({buffered:!0,type:"largest-contentful-paint"})}if($.jn){let e=new PerformanceObserver(function(e){e.getEntries().forEach(e=>{c(e)})});e.observe({buffered:!0,type:"largest-contentful-paint"}),e.observe({buffered:!0,type:"paint"})}}catch(e){(0,l.QX)("pws.renderClient.cwv.observer.failed",1,{sampleRate:1,tags:p})}}({...r,isPrefetch:e.isPrefetch,isModernBundleCapable:T,requestContext:a}),function({handler:e,browserName:a,isAuthenticated:t,isBot:r,isMobile:n,country:s,isModernBundleCapable:o}){if(!(window.navigator&&window.navigator.connection))return;let{connection:i}=window.navigator,d={handler:e,browserName:a,isAuthenticated:t,isBot:r,isMobile:n,country:s,domain:(0,V.xR)(document.domain||"unknown"),isModernBundleCapable:o},{rtt:c=1/0}=i;c<50?(0,l.nP)("rtt.50",{sampleRate:1,tags:d}):c<200?(0,l.nP)("rtt.200",{sampleRate:1,tags:d}):c<500?(0,l.nP)("rtt.500",{sampleRate:1,tags:d}):c<1e3?(0,l.nP)("rtt.1000",{sampleRate:1,tags:d}):(0,l.nP)("rtt.max",{sampleRate:1,tags:d})}({...r,isModernBundleCapable:T}),function(e,a,t){let r=window.innerHeight,n=window.innerWidth,s=()=>{let o=window.innerHeight!==r,i=window.innerWidth!==n,d={deviceType:e?"mobile":"desktop",handler:a,isAuthenticated:t.isAuthenticated,platform:t.userAgent.platform??"unknown"};(0,l.nP)("pws.renderClient.handleResize",{sampleRate:1,tags:{...d,heightChanged:o,widthChanged:i}}),o&&(0,l.S0)("pws.renderClient.resizeHeightDelta",Math.abs(window.innerHeight-r),{sampleRate:1,tags:d}),i&&(0,l.S0)("pws.renderClient.resizeWidthDelta",Math.abs(window.innerWidth-n),{sampleRate:1,tags:d}),window.removeEventListener("resize",s)};window.addEventListener("resize",s)}(_,e.initialHandlerId,a),(0,H.J)(a),(0,F.DG)(a),(0,B.gE)(),a.fullPath&&a.fullPath.startsWith("/pin/")){let e=function(e){let a=e.split("?")[0]??"";if(!a.startsWith("/pin/"))return null;let t=a.split("/")[3];return t?"feedback"===t||"sent"===t?t:null:"default"}(a.fullPath);e&&(0,l.nP)(`pwt.renderClient.pinType.${e}`,{tags:{isAuthenticated:a.isAuthenticated,isBot:a.isBot,isMobile:_}})}}(v,ey,eg);let eO=(0,y.ZP)(),eN=function({relayEnvironment:e}){let a=[];return{preloadQuery:function(r){let{loadQuery:n}=t(167912),s=n(e,(0,E.getRequest)(r.query),r.variables??{});return a=a.concat({descriptor:r,queryRef:s}),s},ensureFlushed:async function(e){throw Error("ensureFlushed should not be called on the client")},findPreloadedQuery:function(e){return a.find(({descriptor:a})=>(function(e,a){let t=(0,E.getRequest)(e.query),r=(0,E.getRequest)(a.query);return t.operation.name===r.operation.name&&t.hash===r.hash&&(0,S.L)(e.variables,a.variables)})(a,e))}}}({relayEnvironment:eO});(0,y.Vl)(eO);let eD=await U(),ev=(await eZ({routeManifest:eD,site:eS})).concat().sort((e,a)=>(function e(a,t){if(a.length!==t.length)return a.length<t.length?-1:1;if(0===a.length||0===t.length)return 0;let[r,...n]=a,[s,...o]=t,i=function(e,a){let t=eY(e),r=eY(a);if(t&&!r)return 1;if(!t&&r)return -1;let n=e$(e),s=e$(a);return n>s?-1:n<s?1:e.localeCompare(a)}(r,s);return 0===i?e(n,o):i})(`/${e}/`.split("/").filter(Boolean),`/${a}/`.split("/").filter(Boolean))).map(e=>({handlerId:(0,T.ke)(eS,e),route:function(e){if(/index\.[tj]sx?$/.test(e)){if(e.includes("/"))throw new p(e);return"/"}return`/${e.replace(/.[tj]sx?$/,"").split("/").map(e=>e.replace(/\[(.*)\]/,":$1")).join("/")}`}(e)})),eL=function({isAuthenticated:e,isMobile:a,manifest:t,site:r}){let n="noModule"in document.createElement("script"),s={},o={},i=!0,d={};async function c([e,a]){d[e]||(d[e]=h()),d[e].resolve?.(a)}async function u(r){let s=r.replace(/.js$/,"");d[s]||(d[s]=h());let c=!1,{filepath:u}=(0,T.ac)(r),{css:_,js:p,mjs:E}=t[u].dependencies.reduce((e,a)=>{let t=a.split(".").pop();if(e[t])e[t].add(a);else throw new P(`Unsupported extension ${t} encountered: ${a}`);return e},{css:new Set,js:new Set,mjs:new Set}),S=[..._,...E.size>0?E:p],y=E.size>0?"modern":"legacy";await Promise.all(S.map(async e=>{/\.m?js$/.test(e)&&!document.querySelector(`script[src^="${e}"]`)?(o[e]=function(e){let{head:a}=document;if(!a)throw new P("document.head is undefined");return new Promise((t,r)=>{let n=document.createElement("script");n.crossOrigin="anonymous",n.charset="utf-8",n.onload=t,n.onerror=r,n.src=e,a.appendChild(n)})}(e),c=!0):/\.css$/.test(e)&&!document.querySelector(`link[rel=stylesheet][href^="${e}"]`)&&(o[e]=function(e){let{head:a}=document;if(!a)throw new P("document.head is undefined");return new Promise((a,t)=>{let{head:r}=document;if(!r)throw new P("document.head is undefined");let n=document.createElement("link");n.crossOrigin="anonymous",n.rel="stylesheet",n.href=e,n.onload=a,n.onerror=t,r.appendChild(n)})}(e),c=!0),o[e]&&(await o[e],delete o[e])})),I({didLoadNewFiles:c,files:S,handlerId:r,isAuthenticated:e,isInitialLoad:i}),i&&(!function({browserType:e,isAuthenticated:a,isMobile:t,handlerId:r}){if(!(window.performance&&window.performance.getEntriesByType))return;let n={browserType:e,handler:r,isAuthenticated:a,isMobile:t},{scriptSize:s,styleSize:o}=C(window.performance.getEntriesByType("resource").filter(e=>f(e.name)&&!/locale-/.test(e.name)||g(e.name)));s&&(0,R.yI)({eventName:"pws.clientLoader.initialPageLoad.scripts",value:s,tags:n,sampleRate:.1,annotateExperiments:A}),o&&(0,R.yI)({eventName:"pws.clientLoader.initialPageLoad.styles",value:o,tags:n,sampleRate:.1,annotateExperiments:A})}({browserType:y,handlerId:r,isAuthenticated:e,isMobile:a}),i=!1),c&&function({browserType:e,files:a=[],isAuthenticated:t,isMobile:r,handlerId:n}){if(!(window.performance&&window.performance.getEntriesByType))return;let s=window.performance.getEntriesByType("resource").filter(e=>!!a.find(a=>e.name.endsWith(a))),o={browserType:e,handler:n,isAuthenticated:t,isMobile:r},{scriptSize:i,styleSize:l}=C(s);i&&(0,R.yI)({eventName:"pws.clientLoader.clientNavigation.scripts",value:i,tags:o,sampleRate:.1,annotateExperiments:A}),l&&(0,R.yI)({eventName:"pws.clientLoader.clientNavigation.styles",value:l,tags:o,sampleRate:.1,annotateExperiments:A})}({browserType:y,handlerId:r,isAuthenticated:e,isMobile:a,files:S}),(n&&0===E.size||!n&&E.size>0)&&(0,l.nP)("pws.clientLoader.moduleSupportMismatch",{sampleRate:1,tags:{assetType:E.size>0?"mjs":"js",hasModuleSupport:n}});let m=await d[s].promise;if(!m)throw new P(`Unable to load module for handler: ${r}`);return m()}async function _(e){let{filepath:a}=(0,T.ac)(e),n=(0,T.ke)(r,a);try{s[a]||(t[a],s[a]=u(n));let e=await s[a];return s[a]=e,e}catch(t){delete s[a],(0,l.nP)("webapp.clientLoader.fail",{sampleRate:1,tags:{error:t.name,handler:n}});let e=new P(t.message);throw e.stack=t.stack,e}}async function p(e){try{await _(e)}catch(e){}}return window.__PWS_LOADED_HANDLERS__||(window.__PWS_LOADED_HANDLERS__=[]),window.__PWS_LOADED_HANDLERS__.forEach(([e,a])=>{c([e,a])}),window.__PWS_LOADED_HANDLERS__.push=c,{loadFromCache(e){let{filepath:a}=(0,T.ac)(e);if(!s[a])return p(e),null;let t=s[a];return"object"==typeof t&&"function"==typeof t.then?null:t},load:_,preload:p}}({isAuthenticated:eR,isMobile:ef,manifest:eD,site:eS}),eb=await w(),ew=eb.childElementCount>0,eU=(async()=>{let a=await L();return(0,l.LY)("earlyHydrationDebug.initializeClientApp.initialProps",performance.now(),{tags:eh}),e({initialServerContext:e_,initialProps:a,requestContext:ey,ssrIsEnabled:ew,handler:eE}).rootComponent})(),eG=ev.find(({route:e})=>(0,o.LX)({path:e,end:!0},window.location.pathname));if(eG){let{handlerId:e}=eG;(0,_.V)(e);let a=eL.load(e);D.push(a)}let eM=ev.map(({handlerId:e,route:a})=>({element:(0,G.jsx)(eV,{},a),handlerId:e,route:a})),ek=(0,G.jsx)(n.Suspense,{fallback:(0,G.jsx)(eq,{}),children:(0,G.jsx)(ed.Z,{value:eI,children:(0,G.jsx)(eB,{appRootComponent:eC?eU:await eU,initialLocation:new URL(window.location.href),loader:eL,queryPreloader:eN,relayEnvironment:eO,requestContext:ey,routeTable:eM,site:eS})})});!function({handlerId:e,requestContext:a}){let t={isAuthenticated:a.isAuthenticated,isBot:a.isBot,isDesktop:!a.userAgent.isMobile&&!a.userAgent.isTablet,handler:e};if((0,l.nP)("webapp.isFromInstantLoadingIndicatorAppShell",{sampleRate:1,tags:{...t,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}),window.isFromInstantLoadingIndicatorAppShell&&window.PerformanceObserver){let e=new PerformanceObserver(a=>{a?.getEntries?.().forEach(a=>{if(!a?.name.startsWith("instantLoadingIndicator"))return;let{name:r,startTime:n}=a,[,s]=r.split(".");(0,l.LY)(`webapp.instantLoadingIndicator.timing.${s}`,n,{sampleRate:1,tags:t}),"instantLoadingIndicator.done"===a.name&&e.disconnect()})});e?.observe({type:"mark",buffered:!0})}}({handlerId:eE,requestContext:ey}),(0,l.nP)("pws.initializeClientApp",{sampleRate:1,tags:{handler:eE,isAuthenticated:eR,isBot:em,isMobile:ef}}),(0,d.ZP)("RenderReactContainer"),ew?(eC||await Promise.all(D),(0,n.startTransition)(()=>{eC||(window.__PWS_CLIENT_RENDER_INIT__=!0),(0,l.LY)("earlyHydrationDebug.initializeClientApp.hydrate",performance.now(),{tags:eh}),(0,s.hydrateRoot)(eb,ek,{onRecoverableError:(e,a)=>{!(0,ec.Z)(e)&&((0,l.nP)("pws.renderClient.onRecoverableError",{tags:{error:e.message.replace(/([^a-zA-Z0-9\-_/])/g,"_"),handler:eE,isAuthenticated:eR,isBot:em,isMobile:ef,earlyHydrationGroup:eP}}),(0,eu.f)({type:"hydration",payload:{error:e,errorInfo:a}})&&console.error("Unexpected hydration error",e.message,a.componentStack)),(0,l.nP)("earlyHydrationDebug.initializeClientApp.onRecoverableError",{tags:eh})}})})):((0,l.LY)("earlyHydrationDebug.initializeClientApp.render",performance.now(),{tags:eh}),(0,s.createRoot)(eb).render(ek))}},999388:function(e,a,t){t(238589),t(603316)},81580:function(e,a,t){t.d(a,{U:()=>s,Z:()=>o});var r=t(667294);let n=(0,r.createContext)();function s(){return(0,r.useContext)(n)}let o=n},765995:function(e,a,t){function r(e){return!("hydration"===e.type&&(e.payload.error.message.includes("Suspense boundary received an update before it finished hydrating")||e.payload.error.message.includes("Minified React error #421")||!e.payload.errorInfo.componentStack))}t.d(a,{f:()=>r})},934041:function(e,a,t){t.d(a,{I:()=>o,t:()=>s});var r=t(667294),n=t(825332);let s=(0,r.createContext)(null);function o(){return(0,n.TH)()===(0,r.useContext)(s)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/69274-cdf192cc7b8f38cd.mjs.map