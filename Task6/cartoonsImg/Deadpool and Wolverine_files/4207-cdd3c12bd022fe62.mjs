(self.modernJsonp=self.modernJsonp||[]).push([["4207"],{17314:function(e,t,n){n.d(t,{Z:()=>d});var r,i,o=n(813653),a=n(831423),l=0,s=0;let d=function(e,t,n){var d=t&&n||0,u=t||Array(16),c=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==c||null==p){var m=e.random||(e.rng||o.Z)();null==c&&(c=r=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=i=(m[6]<<8|m[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:s+1,g=h-l+(f-s)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>l)&&void 0===e.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,s=f,i=p;var x=((0xfffffff&(h+=122192928e5))*1e4+f)%0x100000000;u[d++]=x>>>24&255,u[d++]=x>>>16&255,u[d++]=x>>>8&255,u[d++]=255&x;var y=h/0x100000000*1e4&0xfffffff;u[d++]=y>>>8&255,u[d++]=255&y,u[d++]=y>>>24&15|16,u[d++]=y>>>16&255,u[d++]=p>>>8|128,u[d++]=255&p;for(var w=0;w<6;++w)u[d+w]=c[w];return t||(0,a.Z)(u)}},530070:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669";let i=r},205529:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let i=r},699473:function(e,t,n){n.d(t,{Z:()=>o});var r=n(450808);let i=`pulsing {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
}`,o={css:(0,r.Ll)([i]),animation:"pulsing 2s infinite"}},937805:function(e,t,n){n.d(t,{Z:()=>a});var r=n(675973),i=n(15667),o=n(647709);function a(){let{isAuthenticated:e}=(0,i.B)(),t=(0,o.ml)(),{checkExperiment:n}=(0,r.Z)();return{mWebCloseupRedesignEnabled:e&&t&&n("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:n("mweb_closeup_redesign").group}}},390843:function(e,t,n){n.d(t,{aX:()=>p,nK:()=>m,ou:()=>d});var r=n(667294),i=n(825332),o=n(729434),a=n(430635),l=n(785893);let{Provider:s,get:d}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),u=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){let n={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&u(e.forward[0].location)===u(n.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function p(){let{current:e,previous:t}=d();return(0,r.useMemo)(()=>e?t.concat(e):t,[e,t])}function m({children:e}){let t=(0,i.ur)(),n=(0,i.TH)(),o=(0,a.Z)(),[d,u]=(0,r.useReducer)(c,{forward:[],current:{action:t,location:n,match:o},previous:[]}),p=(0,r.useRef)(n),m=(0,r.useRef)(o);return(p.current!==n||m.current!==o)&&(u({type:t,location:n,match:o}),p.current=n,m.current=o),(0,l.jsx)(s,{value:d,children:e})}},790314:function(e,t,n){n.d(t,{DW:()=>o,I:()=>i,Rn:()=>l,e3:()=>u,oo:()=>r,rk:()=>d,t7:()=>s,zI:()=>a});let r=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},i=.18,o=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,a=e=>{let t=e.replace("#",""),n=parseInt(t.substr(0,2),16);return(299*n+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},l=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:n,minSaturationClamp:i,mixVal:o=1,minBrightnessClamp:a=0})=>{let l=r(e);null===l&&(l=[229,229,224]);let s=((e,t,n)=>{let r=Math.max(e/=255,t/=255,n/=255),i=r-Math.min(e,t,n),o=0;return 0!==i&&(o=(r===e?(t-n)/i+6*(t<n):r===t?(n-e)/i+2:(e-t)/i+4)*60)<0&&(o+=360),{h:o,s:0===r?0:i/r,b:r}})(...l),d=(e,t,n)=>Math.max(t,Math.min(e,n));s.s=d(s.s*(1+t),i,1),s.b=d(s.b*(1+n),a,1);let u=(({h:e,s:t,b:n})=>{let r=n*t,i=r*(1-Math.abs(e/60%2-1)),o=n-r,a=0,l=0,s=0;return e<60?(a=r,l=i):e<120?(a=i,l=r):e<180?(l=r,s=i):e<240?(l=i,s=r):e<300?(a=i,s=r):(a=r,s=i),{r:Math.round((a+o)*255),g:Math.round((l+o)*255),b:Math.round((s+o)*255)}})({...s}),c=e=>({r:Math.round(u.r*o+e*(1-o)),g:Math.round(u.g*o+e*(1-o)),b:Math.round(u.b*o+e*(1-o))}),p=c(0),m=c(255);return[[p.r,p.g,p.b],[m.r,m.g,m.b]]};function s(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),n="rgba"===t.slice(0,4).toLowerCase(),r=!n&&"rgb"===t.slice(0,3).toLowerCase();if(!n&&!r)return{r:0,g:0,b:0,a:0};let i=t.indexOf("("),o=t.indexOf(")",i);if(-1===i||-1===o)return{r:0,g:0,b:0,a:0};let a=t.slice(i+1,o).split(",").map(e=>e.trim());if(n&&4!==a.length||r&&3!==a.length)return{r:0,g:0,b:0,a:0};let[l,s,d,u]=a,c=Number(l),p=Number(s),m=Number(d),h=n?Number(u):1;return[c,p,m].some(e=>Number.isNaN(e))||n&&Number.isNaN(h)?{r:0,g:0,b:0,a:0}:{r:c,g:p,b:m,a:h}}function d(e,t){let n=e.a+t.a*(1-e.a);return 0===n?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/n),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/n),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/n),a:n}}let u=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`},469167:function(e,t,n){n.r(t),n.d(t,{default:()=>E});var r=n(281098),i=n(667294),o=n(20256),a=n(748065),l=n(980787),s=n(722194);function d(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u={},c=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class p{constructor(){d(this,"idMap",new Map),d(this,"objMap",new WeakMap)}get(e){let t=c(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=c(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let n=c(e);n&&this.idMap.set(n,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}function m(e,t){return"number"==typeof e?e:"lg1"===t?e[t]??e.lg??1:e[t]??1}var h=n(467925),f=n(947543),g=n(699473),x=n(461951),y=n(369416),w=n(785893);let{css:b,animation:v}=g.Z,_={backgroundColor:x.zsO,animation:v,borderRadius:x.saV};function S({data:e}){(0,i.useEffect)(()=>{(0,r.Z)("SkeletonPin","/app/common/react/components/SkeletonLoadingStates/SkeletonPin.tsx")},[]);let{height:t}=e;return(0,w.jsxs)(i.Fragment,{children:[(0,w.jsx)(y.Z,{unsafeCSS:b}),(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:_},"data-test-id":"skeleton-pin",children:(0,w.jsx)(o.xu,{height:t})})]})}var I=n(93966),C=n(675973),j=n(15667),T=n(647709),R=n(603316),k=n(160374),P=n(183152);function E(e){(0,i.useEffect)(()=>{(0,r.Z)("Masonry","/app/packages/gestaltExtensions/Masonry/Masonry.tsx")},[]);let{align:t,cacheKey:n,id:d,isFetching:c,isGridCentered:g=!0,items:x,layout:b,loadItems:v,masonryRef:_,optOutFluidGridExperiment:E=!1,renderItem:M,scrollContainerRef:F,virtualize:N=!0,getColumnSpanConfig:Z,_getResponsiveModuleConfigForSecondItem:L,isLoadingStateEnabled:B,initialLoadingStatePinCount:A,isLoadingAccessibilityLabel:$,isLoadedAccessibilityLabel:W}=e,O=(0,T.ZP)(),z=(0,j.B)(),{isAuthenticated:D,isRTL:H}=z,{logContextEvent:G}=(0,l.u)(),K=(0,C.Z)(),U="desktop"===O,V=(0,P.Zv)(),X=(0,k.DB)(),q=((0,i.useRef)(x.map(()=>({fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}))),U&&!E),{experimentalColumnWidth:Q,experimentalGutter:Y}=(0,h.Z)(q),J=e.serverRender??!!U,ee="flexible"===b||"uniformRowFlexible"===b||"desktop"!==O||q,et=(ee&&b?.startsWith("uniformRow")?"uniformRowFlexible":void 0)??(J?"serverRenderedFlexible":"flexible"),en=e.columnWidth??Q??I.yF;ee&&(en=Math.floor(en));let er=e.gutterWidth??Y??(U?I.oX:1),ei=e.minCols??I.yc,eo=((0,i.useRef)(0),en+er),ea=function(e){if(null==e)return;let t=function(e){let t=u[e];return t&&t.screenWidth===window.innerWidth||(u[e]={screenWidth:window.innerWidth}),u[e]}(e);return t.measurementCache||(t.measurementCache=new p),t.measurementCache}(n),el=(0,i.useCallback)(()=>F?.current||window,[F]),es=(0,i.useRef)(!0),{anyEnabled:ed}=K.checkExperiment("web_masonry_pin_overlap_calculation_and_logging"),{anyEnabled:eu,group:ec}=K.checkExperiment("web_masonry_fluid_reflow"),{anyEnabled:ep}=K.checkExperiment("visual_search_stl_eligibility_check_migration_gss_css",{dangerouslySkipActivation:!0}),em=g&&es.current?"centered":"",{className:eh,styles:ef}=function(e){let t=`m_${Object.keys(e).sort().reduce((t,n)=>{let r=e[n];return null==r||"object"==typeof r||"function"==typeof r?t:"boolean"==typeof r?t+(r?"t":"f"):t+r},"").replace(/\:/g,"\\:")}`,{flexible:n,gutterWidth:r,isRTL:i,itemWidth:o,maxColumns:a,minColumns:l,items:s,getColumnSpanConfig:d,_getResponsiveModuleConfigForSecondItem:u}=e,c=d?s.map((e,t)=>({index:t,columnSpanConfig:d(e)??1})).filter(e=>1!==e.columnSpanConfig):[],p=o+r,h=Array.from({length:a+1-l},(e,t)=>t+l).map(e=>{let h,f,g=e===l?0:e*p,x=e===a?null:(e+1)*p-.01;d&&u&&s.length>1&&(h=d(s[0]),f=u(s[1]));let{styles:y,numberOfVisibleItems:w}=c.reduce((i,a)=>{let{columnSpanConfig:l}=a,d=Math.min(function({columnCount:e,columnSpanConfig:t,firstItemColumnSpanConfig:n,isFlexibleWidthItem:r,secondItemResponsiveModuleConfig:i}){let o=e<=2?"sm":e<=4?"md":e<=6?"lg1":e<=8?"lg":"xl",a=m(t,o);if(r){let t=m(n,o);a="number"==typeof i?i:i?Math.max(i.min,Math.min(i.max,e-t)):1}return a}({columnCount:e,columnSpanConfig:l,isFlexibleWidthItem:!!f&&a===s[1],firstItemColumnSpanConfig:h??1,secondItemResponsiveModuleConfig:f??1}),e),u=null!=a.index&&i.numberOfVisibleItems>=d+a.index,c=n?100/e*d:o*d+r*(d-1),{numberOfVisibleItems:p}=i;return u?p-=d-1:a.index<p&&(p+=1),{styles:i.styles.concat(function({className:e,index:t,columnSpanConfig:n,visible:r,width:i,flexible:o}){let a="number"==typeof n?n:btoa(JSON.stringify(n));return o?`
      .${e} .static[data-column-span="${a}"]:nth-child(${t+1}) {
        visibility: ${r?"visible":"hidden"} !important;
        position: ${r?"inherit":"absolute"} !important;
        width: ${i}% !important;
      }`:`
      .${e} .static[data-column-span="${a}"]:nth-child(${t+1}) {
        visibility: ${r?"visible":"hidden"} !important;
        position: ${r?"inherit":"absolute"} !important;
        width: ${i}px !important;
      }`}({className:t,index:a.index,columnSpanConfig:l,visible:u,width:c,flexible:n})),numberOfVisibleItems:p}},{styles:"",numberOfVisibleItems:e}),b=n?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*p}px;
      }

      .${t} .static {
        width: ${o}px !important;
      }
    `;return{minWidth:g,maxWidth:x,styles:`
      .${t} .static:nth-child(-n+${w}) {
        position: static !important;
        visibility: visible !important;
        float: ${i?"right":"left"};
        display: block;
      }

      .${t} .static {
        padding: 0 ${r/2}px;
      }

      ${b}

      ${y}
    `}}),f=h.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @container (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),g=h.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),x=`
    ${f.join("")}
    @supports not (container-type: inline-size) {
      ${g.join("")}
    }
  `;return{className:t,styles:`
    .masonryContainer:has(.${t}) {
      container-type: inline-size;
    }

    .masonryContainer > .centered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${x}
  `}}({gutterWidth:er,flexible:ee,items:x,isRTL:H,itemWidth:en,maxColumns:e.maxColumns??Math.max(x.length,I.g5),minColumns:ei,getColumnSpanConfig:Z,_getResponsiveModuleConfigForSecondItem:L}),eg=`${em} ${eh}`.trim(),{anyEnabled:ex,expName:ey,group:ew,isMeasureAllEnabled:eb}=(0,f.Z)(),ev=((0,i.useRef)(void 0),(0,i.useRef)(x.length)),e_=(0,i.useRef)(0),eS=(0,i.useRef)(null);(0,i.useEffect)(()=>{ev.current=x.length,e_.current+=1},[x]),(0,i.useEffect)(()=>{if(es.current&&(es.current=!1),window.earlyGridRenderStats){let e={...(0,k.M3)({earlyHydrationConfig:X,handlerId:V,requestContext:z}),status:window.earlyGridRenderStats.status??"unknown"};(0,R.nP)(`earlyHydrationDebug.masonry.earlyGridRender.status.${window.earlyGridRenderStats.status}`,{tags:e}),(0,R.LY)("earlyHydrationDebug.masonry.earlyGridRender.init",window.earlyGridRenderStats.init,{tags:e}),window.earlyGridRenderStats.start&&(0,R.LY)("earlyHydrationDebug.masonry.earlyGridRender.start",window.earlyGridRenderStats.start,{tags:e}),window.earlyGridRenderStats.end&&(0,R.LY)("earlyHydrationDebug.masonry.earlyGridRender.end",window.earlyGridRenderStats.end,{tags:e})}},[]),(0,i.useEffect)(()=>()=>{},[]);let eI=(0,i.useCallback)(e=>{let t=e.reduce((e,t)=>e+t),n=t/e.length;(0,R.nP)("webapp.masonry.multiColumnWhitespace.count",{sampleRate:1,tags:{fluidResizeExperiment:ec||"unknown",experimentalMasonryGroup:ew||"unknown",handlerId:V,isAuthenticated:D,multiColumnItemSpan:e.length}}),(0,R.S0)("webapp.masonry.multiColumnWhitespace.average",n,{sampleRate:1,tags:{columnWidth:en,experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",handlerId:V,isAuthenticated:D,minCols:ei,multiColumnItemSpan:e.length}}),G({event_type:15878,component:14468,aux_data:{total_whitespace_px:t}}),G({event_type:16062,component:14468,aux_data:{average_whitespace_px:n}}),G({event_type:16063,component:14468,aux_data:{max_whitespace_px:Math.max(...e)}}),e.forEach(t=>{t>=50&&((0,R.nP)("webapp.masonry.multiColumnWhitespace.over50",{sampleRate:1,tags:{experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",handlerId:V,isAuthenticated:D,multiColumnItemSpan:e.length}}),G({event_type:16261,component:14468})),t>=100&&((0,R.nP)("webapp.masonry.multiColumnWhitespace.over100",{sampleRate:1,tags:{experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",handlerId:V,isAuthenticated:D,multiColumnItemSpan:e.length}}),G({event_type:16262,component:14468}))})},[en,ew,ec,V,D,G,ei]),{_items:eC,_renderItem:ej}=function({initialLoadingStatePinCount:e=50,infiniteScrollPinCount:t=10,isFetching:n,items:r=[],renderItem:o,isLoadingStateEnabled:a}){let l=+(r.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&"closeup_module"===e.type).length>0),s=a&&n,d=(0,i.useMemo)(()=>Array.from({length:r.length>l?t:e}).reduce((e,t,n)=>[...e,{height:n%2==0?356:236,key:`skeleton-pin-${n}`,isSkeleton:!0}],[]),[r.length,l,t,e]);return{_items:(0,i.useMemo)(()=>s?[...r,...d]:r,[s,r,d]),_renderItem:(0,i.useMemo)(()=>a?e=>{let{itemIdx:t,data:n}=e;return t>=r.length&&n&&"object"==typeof n&&"key"in n&&"height"in n?(0,w.jsx)(S,{data:n},n.key):o(e)}:o,[a,o,r.length])}}({isLoadingStateEnabled:B,items:x,renderItem:(0,i.useCallback)(e=>(0,w.jsx)(s.Z,{name:"MasonryItem",children:M(e)}),[M]),isFetching:c,initialLoadingStatePinCount:A}),eT=B&&c,eR=(0,i.useRef)(new Set);(0,i.useEffect)(()=>{if(!ed)return;let e=setTimeout(()=>{requestAnimationFrame(()=>{let e=Array.from(eS.current?.querySelectorAll("[data-grid-item-idx]")??[]);if(0===e.length)return;let t=e.map(e=>{let t=e.getAttribute("data-grid-item-idx");return{rect:e.getBoundingClientRect(),itemIdx:t}}),n=0,r=0,i=0,o=0,a=0,l=0;for(let e=0;e<t.length;e+=1){let s=t[e]?.rect,d=t[e]?.itemIdx;for(let u=e+1;u<t.length;u+=1){let e=t[u]?.rect,c=t[u]?.itemIdx;if(s&&e&&d&&c){let t=[d,c].sort().join("|");if(!eR.current.has(t)&&s.right>=e.left&&s.left<=e.right&&s.bottom>=e.top&&s.top<=e.bottom&&s.height>0&&e.height>0){eR.current.add(t),n+=1;let d=Math.max(0,Math.min(s.right,e.right)-Math.max(s.left,e.left))*Math.max(0,Math.min(s.bottom,e.bottom)-Math.max(s.top,e.top));d>8e4?l+=1:d>4e4?a+=1:d>1e4?o+=1:d>5e3?i+=1:d>2500&&(r+=1)}}}}n>0&&(0,R.QX)("webapp.masonry.pinOverlapHits",n,{tags:{isAuthenticated:D,isDesktop:U,handlerId:V,experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",visualSearchSTLexperiment:ep?"true":"false"}}),r>0&&(0,R.QX)("webapp.masonry.pinOverlap.AreaPx.over2500",r,{tags:{isAuthenticated:D,isDesktop:U,handlerId:V,experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",visualSearchSTLexperiment:ep?"true":"false"}}),i>0&&(0,R.QX)("webapp.masonry.pinOverlap.AreaPx.over5000",i,{tags:{isAuthenticated:D,isDesktop:U,handlerId:V,experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",visualSearchSTLexperiment:ep?"true":"false"}}),o>0&&(0,R.QX)("webapp.masonry.pinOverlap.AreaPx.over10000",o,{tags:{isAuthenticated:D,isDesktop:U,handlerId:V,experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",visualSearchSTLexperiment:ep?"true":"false"}}),a>0&&(0,R.QX)("webapp.masonry.pinOverlap.AreaPx.over40000",a,{tags:{isAuthenticated:D,isDesktop:U,handlerId:V,experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",visualSearchSTLexperiment:ep?"true":"false"}}),l>0&&(0,R.QX)("webapp.masonry.pinOverlap.AreaPx.over80000",l,{tags:{isAuthenticated:D,isDesktop:U,handlerId:V,experimentalMasonryGroup:ew||"unknown",fluidResizeExperiment:ec||"unknown",visualSearchSTLexperiment:ep?"true":"false"}})})},1e3);return()=>{clearTimeout(e)}},[en,ew,ec,D,U,ed,x,V,ep]);let ek=(0,a.Z)(),eP=(0,i.useCallback)(e=>{_&&(_.current=e)},[_]);return(0,w.jsxs)(i.Fragment,{children:[B&&!es.current&&(0,w.jsx)(o.xu,{"aria-live":"polite",display:"visuallyHidden",children:eT?$:W}),(0,w.jsx)("div",{ref:eS,"aria-busy":B?!!eT:void 0,className:"masonryContainer","data-test-id":"masonry-container",id:d,style:q?{padding:`0 ${er/2}px`}:void 0,children:(0,w.jsxs)("div",{className:eg,children:[J&&es.current?(0,w.jsx)(y.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:ef}):null,(0,w.jsx)(o.xu,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?eo*e.maxColumns:void 0,children:ex?(0,w.jsx)(o.GX,{ref:ek?eP:e=>{_&&(_.current=e)},_dynamicHeights:!0,_getResponsiveModuleConfigForSecondItem:L,_logTwoColWhitespace:eI,_measureAll:eb,align:t,columnWidth:en,getColumnSpanConfig:Z,gutterWidth:er,items:eC,layout:ee?et:b??"basic",loadItems:v,measurementStore:ea,minCols:ei,renderItem:ej,scrollContainer:el,virtualBufferFactor:.3,virtualize:N}):(0,w.jsx)(o.Rk,{ref:ek?eP:e=>{_&&(_.current=e)},_dynamicHeights:!0,_fluidResize:eu,_getResponsiveModuleConfigForSecondItem:L,_logTwoColWhitespace:eI,align:t,columnWidth:en,getColumnSpanConfig:Z,gutterWidth:er,items:eC,layout:ee?et:b??"basic",loadItems:v,measurementStore:ea,minCols:ei,renderItem:ej,scrollContainer:el,virtualBufferFactor:.3,virtualize:N})})]})})]})}},115247:function(e,t,n){n.d(t,{Z:()=>a});var r=n(667294);function i(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends r.Component{constructor(...e){super(...e),i(this,"ref",(0,r.createRef)()),i(this,"observer",null),i(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let a=o},738140:function(e,t,n){n.d(t,{$:()=>r,a:()=>i});let{Provider:r,getMaybe:i}=(0,n(729434).Z)("timeSpentContext")},732888:function(e,t,n){n.d(t,{Z:()=>l,h:()=>a});var r=n(172045),i=n(17314);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),l=class{constructor(e){o(this,"start",()=>(this.startTime=a(),this.startTime)),o(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,r.Z)()}catch(e){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},522678:function(e,t,n){n.d(t,{Zt:()=>O,iK:()=>D,ZP:()=>K});var r=n(281098),i=n(667294),o=n(581722),a=n(825332),l=n(20256),s=n(469167),d=n(467925),u=n(93966),c=n(19585),p=n(355363),m=n(15667),h=n(900675),f=n(886981),g=n(62937),x=n(647709),y=n(222401);let w=new Map;var b=n(559143),v=n(751961),_=n(348268),S=n(357823),I=n(130858),C=n(469817),j=n(79293),T=n(845421),R=n(258644),k=n(975740),P=n(223700),E=n(92529),M=n(676049),F=n(648200),N=n(923377),Z=n(78762),L=n(785893);function B(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let A=(0,Z.Z)(()=>n.e("65300").then(n.bind(n,348583)),void 0,e=>348583,"app-www-businessNux-BizNuxHomefeedLoader",e=>["65300"]),$=(0,Z.Z)(()=>n.e("68443").then(n.bind(n,222719)),void 0,e=>222719,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["68443"]);class W extends i.PureComponent{constructor(...e){super(...e),B(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,C.HW)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),B(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),B(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),B(this,"gridContainerRef",(0,i.createRef)()),B(this,"renderFeedPin",(e,t)=>{let{feedItemProps:n,location:r,performanceOptimization:i,showSeoMetadata:o,surface:a,trafficSource:l}=this.props,{auxData:s,componentType:d,feedback:u,imageOnly:c,impressionData:p,objectIdStr:m,oneTapSave:h,onFeedItemClick:f,onPinLinkClick:g,shouldAllowProductPriceIndicator:x,showSeoMetadata:y,viewData:w,viewParameter:b,viewType:v}=n||{},_=(r.search||"").includes("force_seo"),S=!!i?.lazyLoadBelowFoldIndex&&t>i.lazyLoadBelowFoldIndex,I=!!i?.priorityFetchAboveFoldIndex&&t<=i.priorityFetchAboveFoldIndex;return(0,L.jsx)(T.Z,{auxData:s,componentType:d||0,duploFeedItemProps:{onPinClick:f,onPinLinkClick:g,showSeoMetadata:o||_||y},duploLazyLoadImage:S,duploOneTapSave:h,duploPriorityFetchImage:I,duploQueryRef:null,duploShouldAllowProductPriceIndicator:x,feedback:u,imageOnlyOption:c?"image-only":"default",impressionData:p,isUnauthBoardUpsellWithOverlay:this.props.isUnauthBoardUpsellWithOverlay,objectIdStr:m,pinId:e.id,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:a,trackingParams:e.trackingParams,trafficSource:l,unauthBoardUpsellsEnabled:this.props.unauthBoardUpsellsEnabled,viewData:w,viewParameter:b,viewType:v||1})}),B(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),B(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:n}=this.props,r=this.getBoardId(),i="board"===n&&"BaseBoardPinGrid"===t&&r?e(r):null;return i?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,b.IA)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,b.do)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:r,authHomefeedComponentDidUpdate:i}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),i&&n){let t=i({feedItems:r,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:n,experimentalGutter:r,feedItemProps:o,feedItems:a,feedItemsAdjustment:d,feedKey:c,feedStoryId:m,getColumnSpanConfig:h,gridConfig:f,i18n:x,pageSize:w,pagination:b,pullToRefresh:C,renderFeedItem:T,serverRender:R,showBizNuxHomefeedLoader:k,trafficSource:P,visuallyCompleteProfilerOptions:Z,isLoadingStateEnabled:B,initialLoadingStatePinCount:W,isLoadingAccessibilityLabel:O,isLoadedAccessibilityLabel:z}=this.props,{unauthLandingPinStateForAuthHomefeed:D}=this.state,H=D?.feedItem&&a.length?[D.feedItem,...a]:a,{viewParameter:G,viewType:K}=o||{},{gridMeasurementKey:U}=f||{},V=c+(U?`|${U}`:""),X="user_search"===P,q=X?window.innerWidth-16:void 0,Q=H.some(e=>"board"===e.type),Y={columnWidth:(0,_.SY)({deviceType:e,customMWebColumnWidth:q,experimentalColumnWidth:Q?236:n}),renderItem:({data:e,itemIdx:t})=>{if(T){let n=T(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,L.jsx)(v.Z,{children:this.renderFeedPin(e,t)});case"user":return(0,L.jsx)(N.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:X,viewParameter:G,viewType:K});case"board":let n=this.props.getReduxBoard(e.id);return(0,L.jsx)(y.default,{boardKey:n?{type:"Legacy",data:n}:null,type:"grid",viewParameter:G,viewType:K});case"topic":return(0,L.jsx)(M.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:G,viewType:K});case"story":if("number"==typeof G)return(0,L.jsx)(E.Z,{slotIndex:t,storyId:e.id,viewParameter:G,viewType:K||1});return null;case"FEED_BREAK_IN":return d&&"breakIn"===d.type&&d.value.content;default:return null}},gutterWidth:(0,_.s)({experimentalGutter:r,trafficSource:P,deviceType:e}),loadItems:b.loadNext,minCols:X?1:2,...f},J=!k&&b.isLoadingNext&&0===H.length&&!this.state.refreshing&&!B,ee=w&&25>parseInt(w,10),et=d?.type==="fullWidthBreakIn"?[{type:"feed",id:`${V}_feed_0`,item:H.slice(0,d.value.index)},{type:"fullWidthBreakIn",id:`${V}_break_in_0`,item:d.value.content},{type:"feed",id:`${V}_feed_1`,item:H.slice(d.value.index)}]:[{type:"feed",id:V,item:H}],en="desktop"===e&&"flashlight"===P,er=en?0:u.qG;return(0,L.jsxs)(l.xu,{"data-test-id":"MobileFeed",children:[(0,L.jsx)(S.Z,{auxData:o?.auxData||null,enabled:!!C,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:o?.viewParameter||null}),(0,L.jsxs)(l.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:er,marginStart:er,opacity:this.state.refreshing?.5:1,children:[(0,L.jsxs)(p.Z,{includeBackgroundImages:Z?.includeBackgroundImages,includeVideos:Z?.includeVideos,isAtEndOfFeed:!b.hasNext,isPlaceholderGrid:B&&b.isLoadingNext&&!H.length,itemCount:H.length,pinData:Z?.pins,children:[H.length||B&&b.isLoadingNext?(0,L.jsx)(l.xu,{"data-test-id":"feed",marginTop:(0,_.kk)({isDesktop:"desktop"===e}),children:(0,L.jsx)(g.Z.Consumer,{children:e=>(0,L.jsx)(i.Fragment,{children:(0,L.jsx)(F.Z,{children:et.map(t=>"feed"===t.type?(0,L.jsx)(s.default,{cacheKey:V,getColumnSpanConfig:h,id:R?c:void 0,initialLoadingStatePinCount:W,isFetching:b.isLoadingNext,isLoadedAccessibilityLabel:z??"",isLoadingAccessibilityLabel:O??"",isLoadingStateEnabled:!!B,items:t.item,scrollContainerRef:e,serverRender:R,...Y},t.id):"fullWidthBreakIn"===t.type?(0,L.jsx)(l.xu,{children:t.item},t.id):null)})})})}):b.isLoadingNext?(0,L.jsx)(I.Z,{}):t??null,b.isLoadingNext&&"board"===P&&ee&&!B&&(0,L.jsx)(l.xH,{accessibilityLabel:x._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),J&&(0,L.jsx)(l.xu,{column:12,paddingY:2,children:(0,L.jsx)(j.Z,{partialViewportWidth:en})}),k&&(0,L.jsx)(A,{gridContainerRef:this.gridContainerRef,homefeedLoading:b.isLoadingNext}),m&&!this.hideMoreIdeas()&&(0,L.jsx)(l.xu,{marginBottom:6,children:(0,L.jsx)($,{storyId:m})})]})]})}}function O({feedItems:e,pagination:t,...n}){(0,i.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:l}=n,s=(0,a.TH)(),u=(0,x.ZP)(),p=(0,c.ZP)(),{isAuthenticated:h,isBot:f}=(0,m.B)(),{isBizNuxHomefeedLoadShown:g}=(0,o.v9)(({session:e})=>e),y=e;l?.type==="breakIn"&&(y=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=w.get(e);if(t)return t;let n=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return w.set(e,n),n})(e),...t.slice(e)])({items:e,breakIn:l.value}));let{experimentalColumnWidth:b,experimentalGutter:v}=(0,d.Z)(),_=(0,k.gC)();return(0,L.jsx)(W,{...n,deviceType:u,experimentalColumnWidth:b,experimentalGutter:v,feedItems:y,getReduxBoard:_,i18n:p,isAuthenticated:h,location:s,pagination:t,showBizNuxHomefeedLoader:!!g,showSeoMetadata:f||!h})}function z({isAtEnd:e,isFetching:t,fetchMore:n,refresh:r,...i}){let a=(0,o.v9)(({feeds:e})=>e[i.feedKey]??[]),l=(0,o.v9)(({desktopStories:e})=>e),{featuredBoardStoryId:s,feedStoryId:d}=(0,P.Z)(a,l),u=(0,o.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),c=(0,o.I0)();return(0,L.jsx)(O,{...i,featuredBoardStoryId:s,feedItems:a,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>{u?c((0,R.H5)(!1)):r()}}})}function D({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:o},...a}){return(0,i.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]),(0,L.jsx)(z,{...a,fetchMore:n,isAtEnd:e,isFetching:t,refresh:o})}function H({resourceConfig:e,...t}){let n=(0,f.Z)(e);return(0,L.jsx)(D,{...t,resource:n})}function G({resourceRef:e,fetchMore:t,refresh:n,...r}){let{isAtEnd:i}=(0,h.Z)(e);return(0,L.jsx)(z,{...r,fetchMore:t,isAtEnd:i,isFetching:!1,refresh:n})}function K({resourceConfig:e,resourceRef:t,fetchMore:n,refresh:o,...a}){return((0,i.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]),t)?(0,L.jsx)(G,{...a,fetchMore:n??(()=>{}),refresh:o??(()=>{}),resourceRef:t}):(0,L.jsx)(H,{...a,resourceConfig:e})}},559143:function(e,t,n){n.d(t,{IA:()=>o,cV:()=>i,do:()=>a});let r={},i=e=>{r[e]&&r[e].handlePullToRefresh()},o=(e,t)=>{r[e]=t},a=e=>{delete r[e]}},751961:function(e,t,n){n.d(t,{Z:()=>l});var r=n(281098),i=n(667294),o=n(366859),a=n(785893);let l=({children:e})=>((0,i.useEffect)(()=>{(0,r.Z)("FeedItemPinRepWrapper","/app/www/FeedItemPinRepWrapper.tsx")},[]),(0,a.jsx)(o.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){let t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e}))},253861:function(e,t,n){n.d(t,{H:()=>r,J:()=>i});let{Provider:r,getMaybe:i}=(0,n(729434).Z)("PinCreateDeleteContext")},469817:function(e,t,n){n.d(t,{Es:()=>d,HW:()=>s,er:()=>c,rQ:()=>u});var r=n(111330),i=n(753143),o=n(603316);let a=e=>e>=Date.now()-72e5,l=(e,t)=>{let n=[];if(e)for(let r of e)(!t||r.is_shared)&&a(r.ts)&&n.push(r);return n},s=()=>{let e=(0,i.M0)().getItem(r.uc)??[],t=l(e,!1),n=l(e,!0),o=t.map(e=>e.first_pin_image_signature),s=n.map(e=>e.first_pin_image_signature),d=(e=>{let t={};if(e)for(let n of e)n.is_shared&&a(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(e);return{extraPlpImages:o,plpImageRenderData:t,extraBlpImages:l((0,i.M0)().getItem(r.hI)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:s,sharedPinData:d}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n].id!==t[n].id)return!1;return!0},u=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),c=(e,t,n,r)=>{let i={};return e.forEach(e=>{let a=e.id,l=e.pins.length??0;i[a]=l,(0,o.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:a,gender:n,age:r,use_case_display_name:e.display_name}}),(0,o.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:a,gender:n,age:r,use_case_display_name:e.display_name}})}),i}},629749:function(e,t,n){n.d(t,{Z:()=>s});var r=n(281098),i=n(667294),o=n(20256),a=n(667835),l=n(785893);function s({color:e,image:t,isSelected:n,title:s}){(0,i.useEffect)(()=>{(0,r.Z)("PillRep","/app/www/nux/PillRep.tsx")},[]);let d=(0,a.vs)();return(0,l.jsxs)(o.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:d?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,l.jsx)(o.zd,{height:48,rounding:"circle",width:48,children:t.url&&(0,l.jsx)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,l.jsx)(o.xu,{marginEnd:3,marginStart:2,children:(0,l.jsx)(o.xv,{color:n?"inverse":d?"light":"dark",weight:"bold",children:s})})]})}},225013:function(e,t,n){n.d(t,{Z:()=>i});var r=n(536652);function i(e,t){return n=>n((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},686231:function(e,t,n){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function i(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,{ND:()=>d,Vp:()=>l,a1:()=>r,b6:()=>s,jg:()=>o,o4:()=>i,ti:()=>a})},431015:function(e,t,n){n.d(t,{ZN:()=>a,fv:()=>l,hr:()=>o,lD:()=>s});var r=n(575108);function i(e,t){return r.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),a=(e,t,n)=>async r=>{r(o(e,!0));try{await i(e,n).callCreate(),t({event_type:601,object_id_str:e})}catch(t){r(o(e,!1))}},l=(e,t,n)=>async r=>{r(o(e,!1));try{await i(e,n).callDelete(),t({event_type:602,object_id_str:e})}catch(t){r(o(e,!0))}},s=(e,t="")=>n=>r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let r=e[t];n(o(t,r))})})},223700:function(e,t,n){n.d(t,{Z:()=>i});let r={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},i=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:n,featuredBoardStoryId:r,feed:i,feedStoryId:o,footerStoryId:a},l,s)=>{let d="story"===l.type&&t[l.id]?.story_type,u="board_ideas_feed"===d,c="board_ideas_preview_detailed"===d,p=!1;if("board_shop_tool_module"===d){let e=t[l.id];p=!!e.custom_properties?.is_full_width}return{feed:i.concat(c||u||p?[]:[l]),featuredBoardStoryId:"featured_boards"===d?l.id:r,feedStoryId:u?l.id:o,footerStoryId:c?l.id:a,boardShopModuleId:p?l.id:e,boardShopModuleIndex:p?s:n}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):r},676049:function(e,t,n){n.d(t,{Z:()=>j});var r,i,o=n(281098),a=n(667294),l=n(581722),s=n(167912),d=n(20256),u=n(521009),c=n(15667),p=n(38817),m=n(431015),h=n(19585),f=n(906553),g=n(629749),x=n(785893);let y=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:r,isSelected:i,locale:o,nameTextSize:a,renderAsPill:l,showFollowerCount:s,topicName:u,followerCount:c,image:p})=>{let m=(0,h.ZP)(),y=(0,f.Z)(),w=(0,x.jsx)(d.JO,{accessibilityLabel:m._('Selected', ' - ', ' -- '),color:"light",icon:r?"check":"check-circle",size:r?12:24});return l?(0,x.jsx)(g.Z,{color:e||"#767676",image:p,isSelected:i??!1,title:u}):(0,x.jsxs)(d.xu,{"aria-selected":i,position:"relative",children:[(0,x.jsx)(d.zd,{rounding:r||n?4:2,children:(0,x.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,x.jsx)(d.xu,{bottom:!0,left:!0,padding:r&&i?1:0,position:"absolute",right:!0,rounding:r&&i?4:0,top:!0,children:p.url&&(0,x.jsx)(d.Ee,{alt:u,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,x.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:r&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:r?4:void 0,top:!0}),r&&i&&(0,x.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,x.jsx)(d.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,x.jsx)(d.xv,{align:"center",color:"light",size:a,weight:"bold",children:u})}):(0,x.jsxs)(d.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,x.jsx)(d.xv,{color:"light",size:a,weight:"bold",children:u}),s&&c>=0&&(0,x.jsx)(d.xu,{paddingY:1,children:(0,x.jsxs)(d.xv,{color:"inverse",size:"100",children:[(0,x.jsx)(d.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(o,c,{shortform:!0,shortform_maximum_fraction_digits:1})}),m._('followers', ' - ', ' -- ')]})})]}),i&&(0,x.jsx)(d.xu,{margin:2,position:"absolute",right:!0,top:!0,children:r?(0,x.jsx)(d.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:w}):w})]})},w=(void 0!==r||(r=n(530070)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==r.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),b=({topicRef:e,...t})=>{(0,a.useEffect)(()=>{(0,o.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let n=(0,s.useFragment)(w,e),r=n.images?{url:n.images.url??"",width:n.images.width??0,height:n.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,x.jsx)(y,{backgroundColor:n.background_color??"",followerCount:n.follower_count??0,image:r,topicName:n.name??"",...t})},v=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...r})=>{(0,a.useEffect)(()=>{(0,o.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let i=n||e||t,l=i?.images?.["236x"]||i?.images?.["400x"]||i?.images?.["474x"]||i?.images?.orig||{height:1,url:"",width:1},s=i&&"follower_count"in i&&void 0!==i.follower_count?i.follower_count:-1;return(0,x.jsx)(y,{backgroundColor:i?.background_color||"",followerCount:s,image:l,topicName:i?.name||"",...r})},_=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:r=!1,nameTextSize:i="lg",onTouch:o,padding:a=2,renderAsPill:s,showFollowButton:h=!1,showFollowerCount:f=!1,shouldClickthrough:g=!1,topic:y,viewParameter:w,viewType:_})=>{let S=(0,l.I0)(),I=(0,u.Z)(),{locale:C}=(0,c.B)(),j=(0,x.jsxs)(d.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==y.type?(0,x.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,locale:C,nameTextSize:i,renderAsPill:s,showFollowerCount:f,topic:y.topic,topicBlob:y.topicBlob,topicInfoForContextualExp:y.topicInfoForContextualExp}):(0,x.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,locale:C,nameTextSize:i,renderAsPill:s,showFollowerCount:f,topicRef:y.topicRef}),!!y&&h&&(0,x.jsx)(d.xu,{paddingY:2,children:(0,x.jsx)(p.Z,{followEventType:601,id:y.id,inline:t,invertColors:t,isFollowed:y.is_followed,onFollow:e=>S((0,m.ZN)(e,I)),onUnfollow:e=>S((0,m.fv)(e,I)),pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:w||void 0,viewType:_||void 0})})]}),T="/";return y&&(T=`/topics/${y.id}`),g&&y.slug?(0,x.jsx)(d.Tg,{href:T,onTap:({event:e})=>{o?.(e)},rounding:2,tapStyle:"compress",children:(0,x.jsx)(d.xu,{padding:a,children:j})}):j},S=(void 0!==i||(i=n(205529)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==i.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),I=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:r,isSelected:i=!1,nameTextSize:o="lg",onTouch:a,padding:l=2,renderAsPill:d,showFollowButton:u=!1,showFollowerCount:c=!1,shouldClickthrough:p=!1,viewParameter:m,viewType:h})=>{let f=(0,s.useFragment)(S,e);return(0,x.jsx)(_,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:r,isSelected:i,nameTextSize:o,onTouch:a,padding:l,renderAsPill:d,shouldClickthrough:p,showFollowButton:u,showFollowerCount:c,topic:{id:f.entityId??"",type:"graphql",is_followed:f.is_followed??!1,topicRef:f},viewParameter:m,viewType:h})},C=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:r,decreaseNamePadding:i=!1,isHomefeedTuner:o,isLego:a,isSelected:s=!1,nameTextSize:d="lg",onTouch:u,padding:c=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:h=!1,shouldClickthrough:f=!1,viewParameter:g,viewType:y})=>{let w=(0,l.v9)(({topics:t})=>t[e]),b=t??w;return(0,x.jsx)(_,{decreaseNamePadding:i,isHomefeedTuner:o,isLego:a,isSelected:s,nameTextSize:d,onTouch:u,padding:c,renderAsPill:p,shouldClickthrough:f,showFollowButton:m,showFollowerCount:h,topic:{id:e,is_followed:!!b?.is_followed,topic:b,topicBlob:n,topicInfoForContextualExp:r,type:"resource"},viewParameter:g,viewType:y})},j=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:r=!1,nameTextSize:i="lg",onTouch:l,padding:s=2,renderAsPill:d,showFollowButton:u=!1,showFollowerCount:c=!1,shouldClickthrough:p=!1,viewParameter:m,viewType:h,...f})=>((0,a.useEffect)(()=>{(0,o.Z)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),f.topicRef?(0,x.jsx)(I,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:r,nameTextSize:i,onTouch:l,padding:s,renderAsPill:d,shouldClickthrough:p,showFollowButton:u,showFollowerCount:c,topicRef:f.topicRef,viewParameter:m,viewType:h}):(0,x.jsx)(C,{decreaseNamePadding:e,id:f.id,isHomefeedTuner:t,isLego:n,isSelected:r,nameTextSize:i,onTouch:l,padding:s,renderAsPill:d,shouldClickthrough:p,showFollowButton:u,showFollowerCount:c,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp,viewParameter:m,viewType:h}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/4207-cdd3c12bd022fe62.mjs.map