(self.modernJsonp=self.modernJsonp||[]).push([["52877"],{282475:function(e,t,n){n.d(t,{Z:()=>D});var s=n(281098),i=n(667294),o=n(825332),a=n(20256),l=n(378888),r=n(980787),c=n(937392),u=n(821342),d=n(860017),h=n(780134),_=n(19585),p=n(785893);function m({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){(0,i.useEffect)(()=>{(0,s.Z)("HeaderAccountsOptionsMenuFailedButtons","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsMenuFailedButtons.tsx")},[]);let o=(0,_.ZP)();return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(a.xu,{marginTop:4,children:(0,p.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:t,text:o._('Log in again', 'header.accountsOptionsMenu.failedAccountLoginButton', 'Text on button allowing user to log into an account after failing to switch to that account')})}),(0,p.jsx)(a.xu,{marginTop:3,children:(0,p.jsx)(a.zx,{fullWidth:!0,onClick:()=>n(e.id),text:o._('Remove account', 'header.accountsOptionsMenu.failedAccountRemoveButton', 'Text on button allowing user to remove an account from their account switcher after failing to switch to it')})})]})}var f=n(873258),x=n(646924),g=n(675973),b=n(817618),y=n(244529);let A=new a.Ry(1e3);function w({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:o,showAdsSupportOption:l,showMoreOptions:r=!0,isWwwSite:c,idealDirection:u="down",dropdownId:w="HeaderAccountOptionsFlyout",zIndex:j=A}){(0,i.useEffect)(()=>{(0,s.Z)("HeaderAccountsOptionsFlyout","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsFlyout.tsx")},[]);let P=(0,_.ZP)(),{checkExperiment:v}=(0,g.Z)(),{failedAccount:T,handleReauthAccount:C,handleRemoveUnauthAccount:S}=(0,x.Z)(t,c),Z=(0,f.Z)(),{enabled:k}=(0,y.Z)(),{anyEnabled:z}=v("web_biz_import_tab",{dangerouslySkipActivation:!0}),{currentlyIn:I,yourAccount:B,moreOptions:E}=(0,d.Z)({onDismiss:t,advertiser:n,showAdsSupportOption:l,isWwwSite:c,handleFocus:()=>{e?.focus()},isImportContentEnabled:z});return(0,p.jsx)(b.Z,{children:(0,p.jsxs)(a.Lt,{accessibilityLabel:P._('Account options', 'header.accountsOptionsMenu.accessibilityLabel', 'Label for the account options dropdown menu in the header'),accessibilityRole:"unset",anchor:e,disableMobileUI:!0,id:w,idealDirection:u,isWithinFixedContainer:!k,onDismiss:t,zIndex:j,children:[o&&(T?(0,p.jsxs)(a.Lt.Section,{label:P._('Oh no! You\'re no longer logged into', 'header.accountsOptionsMenu.failedAccount', 'Full sentence: "Oh no! You\'re no longer logged into <user\'s account>". Text telling user that they are no longer logged into an account after trying to switch to it'),children:[(0,p.jsx)(a.Lt.Item,{onSelect:()=>{},option:Z.failedAccount,children:(0,p.jsx)(h.Z,{user:T})}),(0,p.jsx)(m,{failedAccount:T,handleReauthAccount:C,handleRemoveUnauthAccount:S})]}):[I,B]),r?E:null]})})}let j=e=>["MOBILE","DESKTOP"].includes(e);var P=n(744862),v=n(475498),T=n(482698),C=n(49832),S=n(506662),Z=n(749872),k=n(662641),z=n(886981),I=n(87853),B=n(61110),E=n(598849),O=n(25837),L=n(858845),R=n(742438),H=n(901971),N=n(77836);function D({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,advertiser:d,idealTooltipDirection:h,icon:m,iconSize:f,iconLabel:x,defaultIconColor:g,selectedIconColor:b,tooltipZIndex:y,onClick:A,onPanelChange:D,showMoreOptions:M=!0}){(0,i.useEffect)(()=>{(0,s.Z)("HeaderAccountsOptionsButton","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsButton.tsx")},[]);let U=(0,_.ZP)(),{logContextEvent:F}=(0,r.u)(),{showAccountMenuFlyout:W,updateHeaderState:$}=(0,E.Z)(),Y=e=>{$({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[G,q]=(0,i.useState)(!1),[Q,V]=(0,i.useState)(!0),K=(0,o.s0)(),J=(0,o.TH)(),X=(0,u.Z)(),ee=(0,R.Z)(),et=(0,L.Z)({user:ee.data,viewer:X}),en=et&&Q,es=(0,k.Z)()(),ei=(0,z.Z)(!es||X.isAuth&&X.partner?{name:"UserResource",options:{field_set_key:"linked_partner",user_id:X.isAuth?X.id:""}}:null),[eo,ea]=(0,i.useState)(function({location:e,navigate:t}){if(!(e&&e.search))return!1;let{showASTooltip:n}=(0,l.mB)(e.search);return!!n&&(t(e.hash?`${e.pathname}${e.hash}`:e.pathname,{replace:!0}),!0)}({location:J,navigate:K})),el=(0,i.useRef)(null),er=j(e)&&!t||"ANALYTICS"===e||"STERLING"===e||"TRENDS"===e,ec="STERLING"===e||n,eu=(0,I.dI)();(0,i.useEffect)(()=>{!function({showOneToast:e,i18n:t,location:n,navigate:s,username:i,fullName:o,avatarUrl:a}){if(!(n&&n.search))return;let r=(0,C.Z)(t,n,i||""),{message:c}=(0,l.mB)(n.search),u=c===T.pN||c===T.aU;r&&(e(({hideToast:e})=>(0,p.jsx)(v.Z,{duration:T.Jl,onHide:e,text:r,thumbnail:u?{avatar:(0,p.jsx)(P.qE,{name:o||"",size:"md",src:a||""})}:void 0})),s(n.hash?`${n.pathname}${n.hash}`:n.pathname,{replace:!0}))}({showOneToast:eu.showOneToast,i18n:U,location:J,navigate:K,username:X.isAuth&&X.username||"",fullName:X.isAuth&&X.fullName||"",avatarUrl:X.isAuth&&X.imageMediumUrl||""})},[]),(0,i.useEffect)(()=>(X.isAuth&&X.partner&&(0,Z.Mt)(X,ei.data),()=>{X.isAuth&&X.partner&&(0,Z.CV)("flyout.dismiss")}),[]),(0,i.useEffect)(()=>{(ei.data?.businesses??[]).length>0&&q(!0)},[ei]),(0,i.useEffect)(()=>{D?.(W)},[W]);let{pathname:ed}=J,eh=!(ed.startsWith("/settings")||ed.startsWith("/edit"))&&(X.isAuth&&X.username&&ed.startsWith(`/${X.username}`)||ed.startsWith("/news_hub")),e_=et||ed.startsWith("/homefeed")||ed.startsWith("/business/hub")||"/"===ed;return(0,p.jsx)(B.T,{children:(0,p.jsxs)(H.j,{children:[(0,p.jsx)(a.hU,{ref:el,accessibilityControls:W?"HeaderAccountOptionsFlyout":void 0,accessibilityExpanded:W,accessibilityHaspopup:!0,accessibilityLabel:x??U._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),dataTestId:"header-accounts-options-button",icon:m||"arrow-down",iconColor:W?b||"darkGray":g||"gray",onClick:()=>{W||F({event_type:101,element:18180}),A?.(),Y(!W),q(!1),V(!1)},size:f||"xs",tooltip:{accessibilityLabel:"",text:x??U._('Accounts and more options', 'navbar.actionsOptionsButton.tooltip', 'Tooltip text for icon button to open accounts/options menu'),zIndex:y||new a.H3([O.NW]),idealDirection:h}}),W&&(0,p.jsx)(a.xu,{"data-test-id":"HeaderAccountsOptionsFlyout",children:(0,p.jsx)(w,{advertiser:d,anchor:el.current,isWwwSite:j(e),onDismiss:()=>{Y(!1)},showAccountSwitcher:er,showAdsSupportOption:ec,showMoreOptions:M})}),eo&&(0,p.jsx)(a.pl,{anchor:el.current,message:U._('To add this account for seamless switching, you\u2019ll need to remove another', 'navbar.actionsOptionsButton.tooltip.accountSwitcherLimit', 'Tooltip text for Account switcher limit'),onDismiss:()=>ea(!1),primaryAction:{text:U._('Okay', 'navbar.actionsOptionsButton.tooltip.accountSwitcherLimit.button', 'Button text for Account switcher limit'),role:"button",onClick:()=>{ea(!1)}}}),G&&(0,p.jsx)(a.xu,{"data-test-id":"LinkedBusinessAccountFlyout",children:(0,p.jsx)(c.Qp,{anchor:el.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,S.LO)(J)&&(0,p.jsx)(c.Qp,{anchor:el.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),X.isAuth&&!X.partner?(0,p.jsx)(a.mh,{zIndex:new a.H3([N.pS]),children:(0,p.jsx)(c.Qp,{anchor:el.current,experienceIds:[503893,503602],onClickComplete:()=>K("/settings"),placementId:1000109,showCaret:!0})}):null,en&&(0,p.jsx)(a.mh,{zIndex:new a.H3([N.pS]),children:(0,p.jsx)(c.Qp,{anchor:el.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:()=>{V(!1),K("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"})}),eh&&(0,p.jsx)(a.mh,{zIndex:new a.H3([N.pS]),children:(0,p.jsx)(c.Qp,{anchor:el.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:()=>{K("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"})}),e_&&(0,p.jsx)(a.mh,{zIndex:new a.H3([N.pS]),children:(0,p.jsx)(c.Qp,{anchor:el.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:()=>{K("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})})]})})}},89819:function(e,t,n){n.d(t,{Z:()=>s});function s(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}},258019:function(e,t,n){n.d(t,{Z:()=>a});var s=n(667294),i=n(980787),o=n(346955);let a=e=>{let t=(0,s.useRef)(!1),{logContextEvent:n}=(0,i.u)(),{viewType:a,viewParameter:l}=(0,o.SU)();(0,s.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&a&&(n({event_type:13,view_type:a,view_parameter:l,...e}),t.current=!0)})}},482698:function(e,t,n){n.d(t,{Di:()=>a,E2:()=>c,Eh:()=>d,Jl:()=>s,R:()=>i,aU:()=>l,iu:()=>r,j2:()=>o,pN:()=>u});let s=1e4,i="permanent_account_closure",o="account_deletion_email_sent",a="account_deactivated",l="unlink_successful",r="lba_deprecation_personal_convert_account_message",c="lba_deprecation_business_convert_account_message",u="account_switch_to_settings",d="lba_deprecation_delete_account"},49832:function(e,t,n){n.d(t,{Z:()=>o});var s=n(552381),i=n(378888);function o(e,t,n=""){if(!(t&&t.search))return"";let{message:a}=(0,i.mB)(t.search),l=(0,i.mB)(t.search).username||n,r="true"===(0,i.mB)(t.search).multiple_accounts;return(0,s.Z)({i18n:e,message:a,multipleAccounts:r,username:l})}},552381:function(e,t,n){n.d(t,{Z:()=>r});var s=n(20256),i=n(302148),o=n(482698),a=n(785893);function l(e,t,n){return(0,a.jsx)(s.xv,{align:n||"center",children:(0,i.nk)(e,{username:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function r({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case o.R:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case o.j2:if(n)return l(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),s);return l(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),s);case o.Di:return l(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),s);case o.aU:return l(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),s,"start");case o.pN:return l(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),s,"start");case o.iu:return e._('Your account is now a personal account', 'unauthLoginPage.unlinkAccountToast.personal.message', 'Confirmation message after a user has successfully converted the lba to a personal account');case o.E2:return e._('Your account is now a business account', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully converted the lba to a business account');case o.Eh:return e._('Your Linked Business Account was deleted', 'unauthLoginPage.unlinkAccountToast.business.message', 'Confirmation message after a user has successfully deleted their linked business account');default:return""}}},607001:function(e,t,n){n.d(t,{Z:()=>o});var s=n(417162),i=n(929915);let o=()=>{let e=(0,s.g)(),t=(0,i.l)();return n=>{let{mobileOptions:s,desktopOptions:i,reason:o,attributionLabel:a,pinId:l,savePinImageUrl:r}=n;e?e.showDesktopSignupModal({signupFlow:i?.modalType==="login"?{type:"login"}:{type:"signup"},reason:o,attributionLabel:a,savePinId:l,savePinImageUrl:r,...i?.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:a,headingType:s?.headingType??"none",pinId:l,savePinImageUrl:r})}}},890619:function(e,t,n){n.d(t,{Z:()=>o});var s=n(669442),i=n(483180);function o({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:o,advertiserId:a}){let l=e||t||n?`${i.C0}`:"",r=`${l}${o}`;return a?(0,s.Z)(r,{advertiserId:a}):r}},337723:function(e,t,n){n.r(t),n.d(t,{default:()=>ee,Header:()=>X});var s=n(281098),i=n(667294),o=n(825332),a=n(20256),l=n(138),r=n(296086),c=n(89819),u=n(973160),d=n(937392),h=n(282475),_=n(19585),p=n(506662),m=n(38787),f=n(675973),x=n(15667),g=n(572227),b=n(378888),y=n(39435),A=n(813962),w=n(865540),j=n(980787),P=n(787698),v=n(532444),T=n(785893);let C=({isSelected:e,onClick:t})=>{(0,i.useEffect)(()=>{(0,s.Z)("CreateHeaderTab","/app/www/Header/CreateHeaderTab.tsx")},[]);let n=(0,_.ZP)(),{logContextEvent:o}=(0,j.u)(),r=(0,w.Z)(!0),c=(0,i.useRef)(null),[u,d]=(0,i.useState)(!1),h=e=>{o({event_type:101,component:13988,element:e}),d(!1)};return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(a.xu,{ref:c,"data-test-id":"create-tab",children:(0,T.jsx)(P.Z,{contextData:v.$L.createPin,iconEnd:r?void 0:"arrow-down",isSelected:e,navigateTo:r?{kind:"Legacy",url:(0,l.Z)(r)}:null,onClick:()=>{t?.(),r?o({event_type:101,component:13988,element:10949}):d(e=>!e)},role:r?"link":"button",text:n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar')})}),u&&(0,T.jsxs)(a.Lt,{anchor:c.current,id:"header-create-dropdown",idealDirection:"down",onDismiss:()=>{d(!1)},zIndex:new a.Ry(1e3),children:[(0,T.jsx)(a.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>h(10949),option:{value:"ideaPin",label:n._('Create Pin for Idea ad', 'header.headerCreateMenu.ideaPinBtn', 'Create Pin for Idea ad button')}}),(0,T.jsx)(a.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>h(10643),option:{value:"pin",label:n._('Create Pin', 'header.headerCreateMenu.pinBtn', 'Create Pin button')}})]})]})};var S=n(30228),Z=n(228421),k=n(28970),z=n(76743),I=n(271910),B=n(25837),E=n(603316);function O({tabs:e}){(0,i.useEffect)(()=>{(0,s.Z)("HeaderCollapsedTabs","/app/www/Header/HeaderCollapsedTabs.tsx")},[]);let t=(0,_.ZP)(),[n,o]=(0,i.useState)(!1),{hovered:l,onMouseEnter:r,onMouseLeave:c}=(0,I.Z)(),u=(0,i.useRef)(null),d=e.find(e=>e.isSelected);d||(d=e.find(e=>"home"===e.key));let h=()=>o(!1);return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(a.xu,{ref:u,color:n?"dark":l?"secondary":void 0,"data-test-id":"HeaderCollapsedTabs",display:"inlineBlock",flex:"none",height:48,marginStart:2,minWidth:60,onMouseEnter:r,onMouseLeave:c,rounding:6,children:(0,T.jsx)(a.iP,{fullHeight:!0,onTap:()=>{o(!n),d?.incrementKey&&(0,E.nP)(d.incrementKey)},rounding:6,children:(0,T.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,T.jsx)(a.xv,{align:"center",color:n?"inverse":"default",overflow:"normal",weight:"bold",children:d?.text}),(0,T.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,T.jsx)(a.JO,{accessibilityLabel:t._('Open tab menu', 'header.tabMenu.downArrow', 'accessibility label for icon indicating more tabs are available in a menu'),color:n?"inverse":"default",icon:"arrow-down",size:12})})]})})}),n&&(0,T.jsx)(a.xu,{"data-test-id":"HeaderCollapsedTabsMenu",children:(0,T.jsx)(a.Lt,{anchor:u.current,disableMobileUI:!0,id:"HeaderCollapsedTabsMenu",onDismiss:h,zIndex:new a.H3([new a.Ry(B.fe)]),children:e.map(({isSelected:e,key:n,text:s,url:i})=>(0,T.jsx)(a.Lt.Link,{href:i,onClick:h,option:{value:n,label:s},children:(0,T.jsxs)(a.kC,{alignItems:"center",width:"100%",children:[(0,T.jsx)(a.kC.Item,{flex:"grow",children:(0,T.jsx)(a.xv,{weight:"bold",children:s})}),(0,T.jsx)(a.JO,{accessibilityLabel:t._('Selected option', 'flyoutMenu.selectedOptionCheckmark', 'Accessibility label for checkmark icon indicating which option is currently selected'),color:"default",icon:e?"check":void 0,inline:!0})]})},n))})})]})}var L=n(819199),R=n(871099),H=n(886981);function N({children:e,isSelected:t}){let{isLoaded:n,data:s}=(0,H.Z)({name:"ApiResource",options:{url:"/v3/feeds/homefeed/badge/"},noCache:!0});return e(!!(n&&s)&&!t)}function D({anchor:e}){(0,i.useEffect)(()=>{(0,s.Z)("RefreshedHomefeedTooltip","/app/www/Header/RefreshedHomefeedTooltip.tsx")},[]);let t=(0,_.ZP)();return(0,T.jsx)(a.pl,{anchor:e,idealDirection:"down",message:t._('Your home feed will show ideas for your new interests', 'Flyout message on Pinterest logo on Header', 'Flyout message on Pinterest logo on Header'),onDismiss:()=>{}})}var M=n(770339),U=n(30536),F=n(258019),W=n(473351);function $({isSelected:e,onClick:t}){(0,i.useEffect)(()=>{(0,s.Z)("TodayHeaderTab","/app/www/Header/TodayHeaderTab.tsx")},[]);let n=(0,_.ZP)();(0,F.Z)({component:v.$L.today.component,element:v.$L.today.element});let o=n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar');return(0,T.jsx)(P.Z,{contextData:v.$L.today,dataTestId:"today-tab",isSelected:e,navigateTo:{kind:"Legacy",url:(0,W.tG)()},onClick:t,showNotifBadge:!0,text:o})}var Y=n(63952),G=n(131888),q=n(244529),Q=n(77836);function V(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let{hidden:K,visibilityChange:J}=(0,u.sR)();class X extends i.Component{constructor(e){super(e),V(this,"iconRoutes",(0,S.Z)({username:this.props.viewer.username,isIdeaPinRenamingEnabled:this.props.isIdeaPinRenamingEnabled})),V(this,"logoButtonRef",(0,i.createRef)()),V(this,"profileRef",(0,i.createRef)()),V(this,"getCollapsedTabList",()=>[{key:"home",text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/",incrementKey:v.ye.HOME_BUTTON_COLLAPSED_TAB},...this.props.isTodayTabEligible?[{key:"explore",text:this.props.i18n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar'),url:"/today/",incrementKey:v.ye.TODAY_TAB_COLLAPSED_TAB}]:[],{key:"create",text:this.props.i18n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar'),url:(0,l.Z)(this.props.isIdeaPinRenamingEnabled),incrementKey:v.ye.CREATE_TAB_COLLAPSED_TAB}]),V(this,"handleDAUPing",()=>{document[K]||(0,r.Z)()}),V(this,"fetchUserAccounts",()=>{let{userAccountsRetrieved:e,viewer:t}=this.props;t.isAuth&&(0,m.dD)(t).then(t=>{e(t)})}),this.state={selected:(0,Z.Z)({pathname:e.location.pathname,iconRoutes:this.iconRoutes}),showLeftTabs:!0}}componentDidMount(){(0,s.Z)("Header","/app/www/Header/Header.tsx");let{headerButtonContext:e}=this.props;this.fetchUserAccounts(),(0,i.startTransition)(()=>{e.setLogoButtonRef(this.logoButtonRef.current)}),J&&window.addEventListener(J,this.handleDAUPing,!1)}componentDidUpdate(e){let{location:t}=this.props;if(e.location.pathname!==t.pathname){let e=(0,Z.Z)({pathname:t.pathname,iconRoutes:this.iconRoutes});this.setState({selected:e})}}componentWillUnmount(){J&&window.removeEventListener(J,this.handleDAUPing)}renderSearchBox(){let{navigate:e,shrinkSearchBox:t,searchIconOnly:n}=this.props;return e?(0,T.jsx)(A.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:n&&e}),iconOnly:n,widthType:t?"shrink":void 0}):null}renderButtons(){let{currentSite:e,headerButtonContext:t,isVerticalNavEnabled:n,shrinkSearchBox:s,onMouseDownHomefeedPrefetch:o,onNavigateToHomefeedMousedownPrefetch:l,profileNavigatesToProfile:r}=this.props,{selected:c,showLeftTabs:u}=this.state;return n?(0,T.jsxs)(a.xu,{alignItems:"center",column:12,"data-test-id":"button-container",display:"flex",height:56,children:[this.renderSearchBox(),(0,T.jsx)(a.kC.Item,{children:(0,T.jsx)(M.Z,{children:(0,T.jsx)(k.Z,{idealTooltipDirection:"down",isSelected:r?"profile"===c:"profile"===c||"boards"===c,onClick:()=>(0,E.nP)(v.P8.AVATAR),tooltipZIndex:Q.BO})})}),(0,T.jsx)(a.kC.Item,{children:(0,T.jsx)(h.Z,{currentSite:e,iconLabel:this.props.i18n._('Accounts', 'header.accountOptionsButton.accountsOnly', 'accessibility label for accounts button in nav bar'),onPanelChange:e=>{e&&(0,E.nP)(v.P8.ACCOUNT_SWITCHER)},showMoreOptions:!1})})]}):(0,T.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,T.jsxs)(a.xu,{children:[(0,T.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,T.jsx)(R.Z,{onClick:()=>{(0,E.nP)(v.ye.PINTEREST_LOGO),l?.()},onMouseDown:o},"HomeButton")}),t.isTooltipOnLogoButtonShown&&(0,T.jsx)(D,{anchor:this.logoButtonRef.current})]}),!s&&u&&(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(N,{isSelected:"home"===c,children:e=>(0,T.jsx)(P.Z,{dataTestId:"home-tab",isSelected:"home"===c,navigateTo:{kind:"Legacy",url:"/"},onClick:()=>(0,E.nP)(v.ye.HOME_TAB),onMouseDown:o,onTap:l,showNotifBadge:e,text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar')})}),this.props.isTodayTabEligible&&(0,T.jsx)($,{isSelected:"today"===c,onClick:()=>(0,E.nP)(v.ye.TODAY_TAB)}),(0,T.jsx)(C,{isSelected:"create"===c,onClick:()=>(0,E.nP)(v.ye.CREATE_TAB)})]}),s&&u&&(0,T.jsx)(O,{tabs:this.getCollapsedTabList().map(e=>({isSelected:c===e.key,...e}))}),this.renderSearchBox(),(0,T.jsxs)(a.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:[(0,T.jsx)(U.F,{value:{currentSite:e},children:(0,T.jsx)(G.Z,{onConversationsClick:()=>(0,E.nP)(v.ye.CONVERSATIONS),onNewsClick:()=>(0,E.nP)(v.ye.NEWS)})}),(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(a.xu,{ref:this.profileRef,children:(0,T.jsx)(M.Z,{children:(0,T.jsx)(k.Z,{isSelected:"profile"===c,onClick:()=>(0,E.nP)(v.ye.AVATAR)})})}),(0,T.jsx)(h.Z,{currentSite:e,onClick:()=>(0,E.nP)(v.ye.ACCOUNT_OPTIONS)})]})]})]})}renderHomeButtonAndAccountSwitcher(){let{currentSite:e,headerButtonContext:t}=this.props,{selected:n}=this.state;return(0,T.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,T.jsxs)(a.xu,{children:[(0,T.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,T.jsx)(R.Z,{onClick:()=>(0,E.nP)(v.ye.EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO)},"HomeButton")}),t.isTooltipOnLogoButtonShown&&(0,T.jsx)(D,{anchor:this.logoButtonRef.current})]}),(0,T.jsx)(a.xu,{flex:"grow"}),(0,T.jsx)(a.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(a.xu,{ref:this.profileRef,children:(0,T.jsx)(M.Z,{children:(0,T.jsx)(k.Z,{isSelected:"profile"===n,onClick:()=>(0,E.nP)(v.ye.EXTERNAL_BUTTON_QUERY_AVATAR)})})}),(0,T.jsx)(h.Z,{currentSite:e,onClick:()=>(0,E.nP)(v.ye.EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS)})]})})]})}renderBusinessSsoPageHeader(){let{i18n:e}=this.props;return(0,T.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,T.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,T.jsx)(R.Z,{onClick:()=>(0,E.nP)(v.ye.SSO_PAGE_PINTEREST_LOGO)},"HomeButton")}),(0,T.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:(0,T.jsx)(a.X6,{accessibilityLevel:2,color:"default",overflow:"normal",size:"400",children:e._('Business', 'authHeader.logoText.business', 'Business text for the sso signup page header')})})]})}renderUnsubscribePageHeader(){let{navigate:e,i18n:t,trackInteraction:n}=this.props;return(0,T.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,T.jsx)(a.xu,{children:(0,T.jsx)(R.Z,{onClick:()=>(0,E.nP)(v.ye.UNSUBSCRIBE_PAGE_PINTEREST_LOGO)},"HomeButton")}),(0,T.jsx)(a.xu,{flex:"grow"}),(0,T.jsx)(a.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,T.jsx)(a.iP,{onTap:()=>{e("/"),n({action:"click",item:"back-to-pinterest",within:"unsubscribe-page"})},rounding:2,tapStyle:"compress",children:(0,T.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,T.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:t._('Back to Pinterest', 'header.backToPinterest.section', 'Button that allows one-click going back to Pinterest homefeed from email unsubscribe page')}),(0,T.jsx)(k.Z,{isSelected:!1,noNavigation:!0,onClick:()=>(0,E.nP)(v.ye.UNSUBSCRIBE_PAGE_AVATAR)})]})})})]})}renderHeaderContent(){let{location:e,viewer:t}=this.props;if((0,p.RU)(e)){let t=(0,b.mB)(e.search);if((0,c.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,p.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();else if((0,p.nU)(e))return this.renderBusinessSsoPageHeader();return this.renderButtons()}render(){let{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n}=this.props;return(0,T.jsxs)(a.xu,{color:"default",column:12,"data-test-id":"header-background",children:[n,(0,T.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e?B.Rz:{}}},children:(0,T.jsx)(a.kC,{direction:"column",height:B.cI,justifyContent:"start",width:"100%",children:(0,T.jsx)(a.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,children:this.renderHeaderContent()})})})]})}}function ee(e){(0,i.useEffect)(()=>{(0,s.Z)("Header","/app/www/Header/Header.tsx")},[]);let t=(0,_.ZP)(),n=(0,o.s0)(),a=(0,o.TH)(),l=(0,z.C)(),r=(0,L.bj)(),c=(0,x.B)(),{checkExperiment:u}=(0,f.Z)(),{userAccountsRetrieved:h}=(0,y.N)(),p=(0,g.Z)(),{enabled:m}=(0,q.Z)(),b=(0,v.wF)(),{shrinkSearchBox:A,searchIconOnly:w}=(0,Y.Z)();u("social_experience_holdout_2025_h1"),u("social_experience_holdout_2025_h2"),u("ce_project_habit_holdout_2025_h1"),u("inclusive_holdout_2025"),u("activation_res_holdout_2025_h2"),(0,d.Ow)(1000109);let{group:j=""}=m?u("web_nav_boards_entrypoint_2"):{},P=["enabled_profile","enabled_profile_no_tooltip","employees"].includes(j);return(0,T.jsx)(X,{...e,...b,headerButtonContext:l,headerShadowContext:r,i18n:t,isVerticalNavEnabled:m,location:a,navigate:n,profileNavigatesToProfile:P,requestContext:c,searchIconOnly:w,showPersonalBoutique:e.viewer.show_personal_boutique??!1,shrinkSearchBox:A,trackInteraction:p,userAccountsRetrieved:h})}},28970:function(e,t,n){n.d(t,{Z:()=>j});var s=n(281098),i=n(667294),o=n(20256),a=n(937392),l=n(744862),r=n(821342),c=n(19585),u=n(733674),d=n(611282),h=n(675973),_=n(15667),p=n(890619),m=n(271910),f=n(598849),x=n(25837),g=n(244529),b=n(77836),y=n(785893);let A="circle";function w({children:e,show:t,text:n,idealDirection:s,zIndex:i}){return t?(0,y.jsx)(o.u,{accessibilityLabel:"",idealDirection:s,text:n,zIndex:i||new o.H3([new o.Ry(x.fe)]),children:e}):e}function j({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:x,noNavigation:j=!1,idealTooltipDirection:P,tooltipZIndex:v,onClick:T}){(0,i.useEffect)(()=>{(0,s.Z)("HeaderAvatarButton","/app/www/Header/HeaderAvatarButton.tsx")},[]);let C=(0,r.Z)(),S=(0,_.B)(),Z=(0,c.ZP)(),{active:k,hovered:z,onBlur:I,onFocus:B,onMouseDown:E,onMouseUp:O,onMouseEnter:L,onMouseLeave:R}=(0,m.Z)(),{checkExperiment:H}=(0,h.Z)(),{fullName:N,username:D,imageMediumUrl:M}=C.isAuth?C:{fullName:"",username:"",imageMediumUrl:""},U=C.isAuth?C?.avatar_color_index:void 0,{isInBiznuxFullscreen:F}=(0,f.Z)(),W=(0,i.useRef)(null),$=["enabled_profile","enabled_profile_no_tooltip","employees"].includes(C.isAuth&&!C.isPartner?H("web_nav_boards_entrypoint_2").group:""),Y=(0,p.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${D}/${$?"_profile":""}`,requestContext:S}),G=(0,d.Z)({href:Y,onHistoryChange:u.Z}),{enabled:q}=(0,g.Z)(),Q=b.D5;return F||j?(0,y.jsx)(o.xu,{"data-test-id":"header-profile",height:48,rounding:"circle",width:48,children:(0,y.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,y.jsx)(o.xu,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,y.jsx)(l.qE,{color:U,name:N,size:"xs",src:M})})})}):(0,y.jsxs)(o.xu,{"data-test-id":"header-profile",children:[(0,y.jsx)(a.N,{anchors:{3014:W.current},idealDirection:P,onAnchorTouch:"complete",placementId:1000109,scrollToDismiss:!0}),(0,y.jsx)(w,{idealDirection:P,show:![e,t,n].some(Boolean),text:Z._('Your profile', 'navbar.avatarButton.tooltip', 'Tooltip text for button leading to user\'s profile'),zIndex:v,children:(0,y.jsx)(o.Tg,{accessibilityLabel:Z._('Your profile', 'navbar.avatarButton.link', 'Profile avatar button that links to user\'s own profile'),href:Y,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{T?.(),t(),G({event:e})},rounding:q?Q:A,tapStyle:q?b.xp:void 0,children:(0,y.jsx)(o.xu,{ref:W,"aria-hidden":!0,color:z&&!q?"secondary":void 0,dangerouslySetInlineStyle:q?{__style:{backgroundColor:z?b.bT:void 0}}:void 0,height:48,onBlur:I,onFocus:B,onMouseDown:E,onMouseEnter:L,onMouseLeave:R,onMouseUp:O,rounding:q?Q:A,width:48,children:(0,y.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,y.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...k||x?{border:"2px solid #111111"}:{}}},display:"flex",height:q?38:30,justifyContent:"center",rounding:"circle",width:q?38:30,children:(0,y.jsx)(l.qE,{accessibilityLabel:Z._('Your profile', 'navbar.avatarButton.link', 'Profile avatar button that links to user\'s own profile'),color:U,name:N,size:q?"sm":"xs",src:M})})})})})})]})}},770339:function(e,t,n){n.d(t,{Z:()=>x});var s=n(281098),i=n(667294),o=n(20256),a=n(369416),l=n(598849),r=n(169053),c=n(785893);function u(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d="SavePin",h={__style:{left:"50%",marginLeft:-125}},_={__style:{animationName:`${d}_AnimateIn, ${d}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:`${d}_AnimateIn, ${d}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},m={__style:{animationName:`${d}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};class f extends i.Component{constructor(...e){super(...e),u(this,"state",{imageLoaded:!1}),u(this,"handleAnimationCompletion",()=>{let{animationEnded:e}=this.props;this.setState({imageLoaded:!1},()=>{e()})}),u(this,"handleImageLoad",()=>{this.setState({imageLoaded:!0})}),u(this,"loadImage",()=>{let e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()}),u(this,"imageSrc",()=>{let{images:e={}}=this.props.lastRepin||{};return e["236x"]?.url??""}),u(this,"shouldRenderAnimation",()=>{let{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return!!(e&&n&&t)})}componentDidUpdate(e,t){let{lastRepin:n={}}=e,{imageLoaded:s}=t,{lastRepin:i,startAnimation:o}=this.props,{imageLoaded:a}=this.state;i&&i.id!==n?.id&&this.loadImage(),o&&a&&a!==s&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){let{children:e}=this.props;return this.shouldRenderAnimation()?(0,c.jsxs)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,c.jsx)(a.Z,{unsafeCSS:`
@keyframes ${d}_AnimateIn {
  from {
    transform: scale(0.0);
    opacity: 0;
  }
  to {
    opacity: 1;
    transform: scale(1.0);
  }
}
@keyframes ${d}_CircleAnimateOut {
  from {
    transform: scale(1.0);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}
@keyframes ${d}_AnimateOut {
  from {
    transform: translateY(0) scale(1.0);
    opacity: 1;
  }
  to {
    transform: translateY(-100px) scale(0.0);
    opacity: 0;
  }
}
@keyframes ${d}_NavButtonAnimation {
  0% {
    transform: scale(1.0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1.0);
  }
}
`}),(0,c.jsxs)(o.xu,{position:"relative",children:[(0,c.jsxs)(o.xu,{dangerouslySetInlineStyle:h,height:250,position:"absolute",top:!0,width:250,children:[(0,c.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,c.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:p,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",right:!0,rounding:3,top:!0,width:100,children:(0,c.jsx)(o.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:(0,c.jsx)(o.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:m,children:e})]})]}):e}}function x(e){(0,i.useEffect)(()=>{(0,s.Z)("SavePinAnimation","/app/www/Header/SavePinAnimation.tsx")},[]);let{repinPinId:t,repinStartAnimation:n,updateHeaderState:o}=(0,l.Z)(),a=(0,r.S6)(),u=t?a(t):null;return(0,c.jsx)(f,{...e,animationEnded:()=>o({type:"hideRepinAnimation"}),lastRepin:u,startAnimation:n})}},131888:function(e,t,n){n.d(t,{Z:()=>c});var s=n(281098),i=n(667294),o=n(821342),a=n(314708),l=n(375363),r=n(785893);function c({onNewsClick:e,onConversationsClick:t}){(0,i.useEffect)(()=>{(0,s.Z)("ConversationsAndNewsButtons","/app/www/messages/ConversationsAndNewsButtons.tsx")},[]);let n=(0,o.Z)();return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(a.Z,{onClick:e}),n.isAuth&&n.should_show_messaging&&(0,r.jsx)(l.Z,{onClick:t})]})}},858845:function(e,t,n){n.d(t,{Z:()=>i,x:()=>o});var s=n(70993);function i({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}function o({user:e,viewer:t,location:n}){let{id:i}=e||{},{id:o,isAuth:a}=t,{pathname:l=""}=n||{};return!!(a&&o===i&&l.includes(`/${s.qV}/`))}},70993:function(e,t,n){n.d(t,{Lz:()=>o,qV:()=>s,sz:()=>i});let s="_profile",i={enabled_with_unorganized_feed:"enabled_with_unorganized_feed",enabled_with_log_fix:"enabled_with_log_fix",enabled_old:"enabled_old"},o=506467},742438:function(e,t,n){n.d(t,{Z:()=>a});var s=n(662641),i=n(886981),o=n(438235);function a(e){let{username:t}=(0,o.Z)(),n=(0,s.Z)()()?e||!t:e||null==t;return(0,i.Z)(n?null:{name:"UserResource",options:{username:t,field_set_key:"profile"}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopHeader-9041f8fcc274ecd5.mjs.map